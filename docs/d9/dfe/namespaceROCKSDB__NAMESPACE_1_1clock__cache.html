<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RocksDB Doxygen: ROCKSDB_NAMESPACE::clock_cache 네임스페이스 참조</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RocksDB Doxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','검색',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">클래스</a> &#124;
<a href="#typedef-members">타입정의</a> &#124;
<a href="#func-members">함수</a>  </div>
  <div class="headertitle"><div class="title">ROCKSDB_NAMESPACE::clock_cache 네임스페이스 참조</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
클래스</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dbd/classROCKSDB__NAMESPACE_1_1clock__cache_1_1AutoHyperClockCache.html">AutoHyperClockCache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d81/classROCKSDB__NAMESPACE_1_1clock__cache_1_1AutoHyperClockTable.html">AutoHyperClockTable</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html">BaseClockTable</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d6f/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseHyperClockCache.html">BaseHyperClockCache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d95/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandle.html">ClockHandle</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html">ClockHandleBasicData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d13/classROCKSDB__NAMESPACE_1_1clock__cache_1_1FixedHyperClockCache.html">FixedHyperClockCache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d91/classROCKSDB__NAMESPACE_1_1clock__cache_1_1FixedHyperClockTable.html">FixedHyperClockTable</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d3f/classROCKSDB__NAMESPACE_1_1clock__cache_1_1LoadVarianceStats.html">LoadVarianceStats</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
타입정의</h2></td></tr>
<tr class="memitem:ae1e84f46ab62a996f0a3a49003456084" id="r_ae1e84f46ab62a996f0a3a49003456084"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae1e84f46ab62a996f0a3a49003456084">PurgeLockedOpData</a> = void</td></tr>
<tr class="separator:ae1e84f46ab62a996f0a3a49003456084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470a3872094d612cdd54f3dbed329085" id="r_a470a3872094d612cdd54f3dbed329085"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a470a3872094d612cdd54f3dbed329085">ClockUpdateChainLockedOpData</a></td></tr>
<tr class="separator:a470a3872094d612cdd54f3dbed329085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48b0be0c96d685297593378fc5fd8973" id="r_a48b0be0c96d685297593378fc5fd8973"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48b0be0c96d685297593378fc5fd8973">PurgeOpData</a> = const <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a></td></tr>
<tr class="separator:a48b0be0c96d685297593378fc5fd8973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a298e8cae8e125a06bf157eb80eb13e95" id="r_a298e8cae8e125a06bf157eb80eb13e95"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a298e8cae8e125a06bf157eb80eb13e95">ClockUpdateChainOpData</a> = <a class="el" href="#a470a3872094d612cdd54f3dbed329085">ClockUpdateChainLockedOpData</a></td></tr>
<tr class="separator:a298e8cae8e125a06bf157eb80eb13e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9da39bc72bc3f699ad7f7dfb3bb01be" id="r_ac9da39bc72bc3f699ad7f7dfb3bb01be"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9da39bc72bc3f699ad7f7dfb3bb01be">ClockCacheTypes</a></td></tr>
<tr class="separator:ac9da39bc72bc3f699ad7f7dfb3bb01be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
함수</h2></td></tr>
<tr class="memitem:ab9d2629b7bb55879c4db7eb3c0ac8e41" id="r_ab9d2629b7bb55879c4db7eb3c0ac8e41"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9d2629b7bb55879c4db7eb3c0ac8e41">IsEvictionEffortExceeded</a> (const <a class="el" href="../../d4/d35/structROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_1_1EvictionData.html">BaseClockTable::EvictionData</a> &amp;data, uint32_t eviction_effort_cap)</td></tr>
<tr class="separator:ab9d2629b7bb55879c4db7eb3c0ac8e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3a0f4b56f20b8ddfb81f626cbf2dd3" id="r_a8a3a0f4b56f20b8ddfb81f626cbf2dd3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a3a0f4b56f20b8ddfb81f626cbf2dd3">TYPED_TEST_CASE</a> (<a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a>, <a class="el" href="#ac9da39bc72bc3f699ad7f7dfb3bb01be">ClockCacheTypes</a>)</td></tr>
<tr class="separator:a8a3a0f4b56f20b8ddfb81f626cbf2dd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f2c34917c7c46800f9ab153aeae627" id="r_a13f2c34917c7c46800f9ab153aeae627"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13f2c34917c7c46800f9ab153aeae627">TYPED_TEST</a> (<a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a>, Misc)</td></tr>
<tr class="separator:a13f2c34917c7c46800f9ab153aeae627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab673429c61ee114e6c879b65a2397aa6" id="r_ab673429c61ee114e6c879b65a2397aa6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab673429c61ee114e6c879b65a2397aa6">TYPED_TEST</a> (<a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a>, Limits)</td></tr>
<tr class="separator:ab673429c61ee114e6c879b65a2397aa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d77a7a1598299120dffa3bf02b3f2f" id="r_ab3d77a7a1598299120dffa3bf02b3f2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3d77a7a1598299120dffa3bf02b3f2f">TYPED_TEST</a> (<a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a>, ClockEvictionTest)</td></tr>
<tr class="separator:ab3d77a7a1598299120dffa3bf02b3f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2641ed4c522a45269b710483a608f791" id="r_a2641ed4c522a45269b710483a608f791"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2641ed4c522a45269b710483a608f791">TYPED_TEST</a> (<a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a>, ClockEvictionEffortCapTest)</td></tr>
<tr class="separator:a2641ed4c522a45269b710483a608f791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac0d61a7d049ca08ff3034b43d1b72b" id="r_a9ac0d61a7d049ca08ff3034b43d1b72b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ac0d61a7d049ca08ff3034b43d1b72b">TYPED_TEST</a> (<a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a>, ClockCounterOverflowTest)</td></tr>
<tr class="separator:a9ac0d61a7d049ca08ff3034b43d1b72b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87710677c426b2a5279139dfd405001a" id="r_a87710677c426b2a5279139dfd405001a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87710677c426b2a5279139dfd405001a">TYPED_TEST</a> (<a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a>, ClockTableFull)</td></tr>
<tr class="separator:a87710677c426b2a5279139dfd405001a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4187f8253ddc0b8052032675a02608fc" id="r_a4187f8253ddc0b8052032675a02608fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4187f8253ddc0b8052032675a02608fc">TYPED_TEST</a> (<a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a>, CollidingInsertEraseTest)</td></tr>
<tr class="separator:a4187f8253ddc0b8052032675a02608fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d5fb7420b9c2bb88554fc29029d7266" id="r_a9d5fb7420b9c2bb88554fc29029d7266"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d5fb7420b9c2bb88554fc29029d7266">TYPED_TEST</a> (<a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a>, TableSizesTest)</td></tr>
<tr class="separator:a9d5fb7420b9c2bb88554fc29029d7266"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">타입정의 문서화</h2>
<a id="ac9da39bc72bc3f699ad7f7dfb3bb01be" name="ac9da39bc72bc3f699ad7f7dfb3bb01be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9da39bc72bc3f699ad7f7dfb3bb01be">&#9670;&#160;</a></span>ClockCacheTypes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using ROCKSDB_NAMESPACE::clock_cache::ClockCacheTypes</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>초기값:</b><div class="fragment"><div class="line"> </div>
<div class="line">    ::testing::Types&lt;AutoHyperClockCache, FixedHyperClockCache&gt;</div>
</div><!-- fragment -->
<p class="definition"><a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html">lru_cache_test.cc</a> 파일의 <a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html#l00472">472</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a470a3872094d612cdd54f3dbed329085" name="a470a3872094d612cdd54f3dbed329085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a470a3872094d612cdd54f3dbed329085">&#9670;&#160;</a></span>ClockUpdateChainLockedOpData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using ROCKSDB_NAMESPACE::clock_cache::ClockUpdateChainLockedOpData</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>초기값:</b><div class="fragment"><div class="line"> </div>
<div class="line">    <a class="code hl_class" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html">autovector&lt;AutoHyperClockTable::HandleImpl*&gt;</a></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1autovector_html"><div class="ttname"><a href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html">ROCKSDB_NAMESPACE::autovector</a></div><div class="ttdef"><b>Definition</b> <a href="../../de/dfc/autovector_8h_source.html#l00040">autovector.h:40</a></div></div>
</div><!-- fragment -->
<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l02647">2647</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a298e8cae8e125a06bf157eb80eb13e95" name="a298e8cae8e125a06bf157eb80eb13e95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a298e8cae8e125a06bf157eb80eb13e95">&#9670;&#160;</a></span>ClockUpdateChainOpData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using ROCKSDB_NAMESPACE::clock_cache::ClockUpdateChainOpData = <a class="el" href="#a470a3872094d612cdd54f3dbed329085">ClockUpdateChainLockedOpData</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l02781">2781</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ae1e84f46ab62a996f0a3a49003456084" name="ae1e84f46ab62a996f0a3a49003456084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1e84f46ab62a996f0a3a49003456084">&#9670;&#160;</a></span>PurgeLockedOpData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using ROCKSDB_NAMESPACE::clock_cache::PurgeLockedOpData = void</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l02641">2641</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a48b0be0c96d685297593378fc5fd8973" name="a48b0be0c96d685297593378fc5fd8973"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48b0be0c96d685297593378fc5fd8973">&#9670;&#160;</a></span>PurgeOpData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using ROCKSDB_NAMESPACE::clock_cache::PurgeOpData = const <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l02776">2776</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<h2 class="groupheader">함수 문서화</h2>
<a id="ab9d2629b7bb55879c4db7eb3c0ac8e41" name="ab9d2629b7bb55879c4db7eb3c0ac8e41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9d2629b7bb55879c4db7eb3c0ac8e41">&#9670;&#160;</a></span>IsEvictionEffortExceeded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ROCKSDB_NAMESPACE::clock_cache::IsEvictionEffortExceeded </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d35/structROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_1_1EvictionData.html">BaseClockTable::EvictionData</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>eviction_effort_cap</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l00572">572</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  573</span>                                                            {</div>
<div class="line"><span class="lineno">  574</span>  <span class="comment">// Basically checks whether the ratio of useful effort to wasted effort is</span></div>
<div class="line"><span class="lineno">  575</span>  <span class="comment">// too low, with a start-up allowance for wasted effort before any useful</span></div>
<div class="line"><span class="lineno">  576</span>  <span class="comment">// effort.</span></div>
<div class="line"><span class="lineno">  577</span>  <span class="keywordflow">return</span> (data.<a class="code hl_variable" href="../../d4/d35/structROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_1_1EvictionData.html#a6c0038c2260ae2cdbb1fd046217086b5">freed_count</a> + 1U) * uint64_t{eviction_effort_cap} &lt;=</div>
<div class="line"><span class="lineno">  578</span>         data.<a class="code hl_variable" href="../../d4/d35/structROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_1_1EvictionData.html#a0276043ffb1bddda29480c8372e2c128">seen_pinned_count</a>;</div>
<div class="line"><span class="lineno">  579</span>}</div>
<div class="ttc" id="astructROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_1_1EvictionData_html_a0276043ffb1bddda29480c8372e2c128"><div class="ttname"><a href="../../d4/d35/structROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_1_1EvictionData.html#a0276043ffb1bddda29480c8372e2c128">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::EvictionData::seen_pinned_count</a></div><div class="ttdeci">size_t seen_pinned_count</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00425">clock_cache.h:425</a></div></div>
<div class="ttc" id="astructROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_1_1EvictionData_html_a6c0038c2260ae2cdbb1fd046217086b5"><div class="ttname"><a href="../../d4/d35/structROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_1_1EvictionData.html#a6c0038c2260ae2cdbb1fd046217086b5">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::EvictionData::freed_count</a></div><div class="ttdeci">size_t freed_count</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00424">clock_cache.h:424</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab9d2629b7bb55879c4db7eb3c0ac8e41_cgraph.png" border="0" usemap="#ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab9d2629b7bb55879c4db7eb3c0ac8e41_cgraph" alt=""/></div>
<map name="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab9d2629b7bb55879c4db7eb3c0ac8e41_cgraph" id="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab9d2629b7bb55879c4db7eb3c0ac8e41_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,213,91"/>
<area shape="poly" title=" " alt="" coords="68,29,69,19,77,10,90,5,109,3,131,5,144,13,142,17,129,11,109,8,91,10,80,15,74,21,73,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab9d2629b7bb55879c4db7eb3c0ac8e41_icgraph.png" border="0" usemap="#ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab9d2629b7bb55879c4db7eb3c0ac8e41_icgraph" alt=""/></div>
<map name="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab9d2629b7bb55879c4db7eb3c0ac8e41_icgraph" id="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab9d2629b7bb55879c4db7eb3c0ac8e41_icgraph">
<area shape="rect" title=" " alt="" coords="267,29,474,91"/>
<area shape="poly" title=" " alt="" coords="412,17,396,11,370,8,348,10,333,15,326,21,325,29,320,29,321,19,330,10,347,5,370,3,397,5,414,13"/>
<area shape="rect" href="../../d1/d81/classROCKSDB__NAMESPACE_1_1clock__cache_1_1AutoHyperClockTable.html#a9055868cef9d318a6d4bc97cc2f55c8d" title=" " alt="" coords="5,29,219,91"/>
<area shape="poly" title=" " alt="" coords="251,63,219,63,219,58,251,58"/>
<area shape="poly" title=" " alt="" coords="153,17,138,11,112,8,90,10,75,15,67,21,67,29,61,29,63,19,72,10,89,5,112,3,139,5,156,13"/>
</map>
</div>

</div>
</div>
<a id="a9ac0d61a7d049ca08ff3034b43d1b72b" name="a9ac0d61a7d049ca08ff3034b43d1b72b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ac0d61a7d049ca08ff3034b43d1b72b">&#9670;&#160;</a></span>TYPED_TEST() <span class="overload">[1/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::clock_cache::TYPED_TEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ClockCounterOverflowTest</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html">lru_cache_test.cc</a> 파일의 <a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html#l00756">756</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  756</span>                                                     {</div>
<div class="line"><span class="lineno">  757</span>  this-&gt;NewShard(6, <span class="comment">/*strict_capacity_limit*/</span> <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  758</span>  <span class="keyword">auto</span>&amp; shard = *this-&gt;shard_;</div>
<div class="line"><span class="lineno">  759</span>  <span class="keyword">using </span>HandleImpl = <span class="keyword">typename</span> <a class="code hl_class" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest&lt;TypeParam&gt;::Shard::HandleImpl</a>;</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>  HandleImpl* h;</div>
<div class="line"><span class="lineno">  762</span>  DeleteCounter val;</div>
<div class="line"><span class="lineno">  763</span>  <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a> hkey = this-&gt;TestHashedKey(<span class="charliteral">&#39;x&#39;</span>);</div>
<div class="line"><span class="lineno">  764</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a6892e90ee417adfb0c66aa7a49769895">ASSERT_OK</a>(shard.Insert(this-&gt;TestKey(hkey), hkey, &amp;val, &amp;kDeleteCounterHelper,</div>
<div class="line"><span class="lineno">  765</span>                         1, &amp;h, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  766</span> </div>
<div class="line"><span class="lineno">  767</span>  <span class="comment">// Some large number outstanding</span></div>
<div class="line"><span class="lineno">  768</span>  shard.TEST_RefN(h, 123456789);</div>
<div class="line"><span class="lineno">  769</span>  <span class="comment">// Simulate many lookup/ref + release, plenty to overflow counters</span></div>
<div class="line"><span class="lineno">  770</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10000; ++i) {</div>
<div class="line"><span class="lineno">  771</span>    shard.TEST_RefN(h, 1234567);</div>
<div class="line"><span class="lineno">  772</span>    shard.TEST_ReleaseN(h, 1234567);</div>
<div class="line"><span class="lineno">  773</span>  }</div>
<div class="line"><span class="lineno">  774</span>  <span class="comment">// Mark it invisible (to reach a different CorrectNearOverflow() in Release)</span></div>
<div class="line"><span class="lineno">  775</span>  shard.Erase(this-&gt;<a class="code hl_function" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f">TestKey</a>(hkey), hkey);</div>
<div class="line"><span class="lineno">  776</span>  <span class="comment">// Simulate many more lookup/ref + release (one-by-one would be too</span></div>
<div class="line"><span class="lineno">  777</span>  <span class="comment">// expensive for unit test)</span></div>
<div class="line"><span class="lineno">  778</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10000; ++i) {</div>
<div class="line"><span class="lineno">  779</span>    shard.TEST_RefN(h, 1234567);</div>
<div class="line"><span class="lineno">  780</span>    shard.TEST_ReleaseN(h, 1234567);</div>
<div class="line"><span class="lineno">  781</span>  }</div>
<div class="line"><span class="lineno">  782</span>  <span class="comment">// Free all but last 1</span></div>
<div class="line"><span class="lineno">  783</span>  shard.TEST_ReleaseN(h, 123456789);</div>
<div class="line"><span class="lineno">  784</span>  <span class="comment">// Still alive</span></div>
<div class="line"><span class="lineno">  785</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted, 0);</div>
<div class="line"><span class="lineno">  786</span>  <span class="comment">// Free last ref, which will finalize erasure</span></div>
<div class="line"><span class="lineno">  787</span>  shard.Release(h);</div>
<div class="line"><span class="lineno">  788</span>  <span class="comment">// Deleted</span></div>
<div class="line"><span class="lineno">  789</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted, 1);</div>
<div class="line"><span class="lineno">  790</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1Cache_html_aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c"><div class="ttname"><a href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">ROCKSDB_NAMESPACE::Cache::Priority::HIGH</a></div><div class="ttdeci">@ HIGH</div><div class="ttdef"><b>Definition</b> <a href="../../d1/db9/advanced__cache_8h_source.html#l00068">advanced_cache.h:68</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest_html"><div class="ttname"><a href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ROCKSDB_NAMESPACE::clock_cache::ClockCacheTest</a></div><div class="ttdef"><b>Definition</b> <a href="../../dc/d1d/lru__cache__test_8cc_source.html#l00378">lru_cache_test.cc:378</a></div></div>
<div class="ttc" id="agtest_8h_html_a1a6db8b1338ee7040329322b77779086"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a></div><div class="ttdeci">#define ASSERT_EQ(val1, val2)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21769">gtest.h:21769</a></div></div>
<div class="ttc" id="anamespaceROCKSDB__NAMESPACE_html_a057ed32645e297021f1817797b2d659f"><div class="ttname"><a href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f">ROCKSDB_NAMESPACE::TestKey</a></div><div class="ttdeci">static void TestKey(const std::string &amp;key, uint64_t seq, ValueType vt)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d2f/dbformat__test_8cc_source.html#l00039">dbformat_test.cc:39</a></div></div>
<div class="ttc" id="anamespaceROCKSDB__NAMESPACE_html_af4c4e4074a950ca9c8bc7e635a784bf7"><div class="ttname"><a href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">ROCKSDB_NAMESPACE::UniqueId64x2</a></div><div class="ttdeci">std::array&lt; uint64_t, 2 &gt; UniqueId64x2</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d82/unique__id__impl_8h_source.html#l00015">unique_id_impl.h:15</a></div></div>
<div class="ttc" id="atestharness_8h_html_a6892e90ee417adfb0c66aa7a49769895"><div class="ttname"><a href="../../dc/d42/testharness_8h.html#a6892e90ee417adfb0c66aa7a49769895">ASSERT_OK</a></div><div class="ttdeci">#define ASSERT_OK(s)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d42/testharness_8h_source.html#l00082">testharness.h:82</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a9ac0d61a7d049ca08ff3034b43d1b72b_cgraph.png" border="0" usemap="#ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a9ac0d61a7d049ca08ff3034b43d1b72b_cgraph" alt=""/></div>
<map name="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a9ac0d61a7d049ca08ff3034b43d1b72b_cgraph" id="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a9ac0d61a7d049ca08ff3034b43d1b72b_cgraph">
<area shape="rect" title=" " alt="" coords="5,435,195,479"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f" title=" " alt="" coords="243,435,424,479"/>
<area shape="poly" title=" " alt="" coords="195,454,227,454,227,460,195,460"/>
<area shape="poly" title=" " alt="" coords="289,435,287,425,295,416,310,410,333,408,359,411,374,417,371,422,357,416,333,413,312,415,298,420,293,426,294,434"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a52798f38f71372d358d8623173bb6d34" title=" " alt="" coords="472,260,681,288"/>
<area shape="poly" title=" " alt="" coords="363,432,543,295,546,300,366,436"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a7fae4a23fa6b9c2c08ee516677913d33" title=" " alt="" coords="486,435,667,479"/>
<area shape="poly" title=" " alt="" coords="425,454,470,454,470,460,425,460"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a290b26395e5d5df4b78f0a164c7da733" title=" " alt="" coords="1029,837,1210,882"/>
<area shape="poly" title=" " alt="" coords="363,478,426,528,514,595,619,666,731,729,802,762,877,789,1014,832,1013,837,875,795,800,766,728,734,616,670,511,599,422,533,360,482"/>
<area shape="poly" title=" " alt="" coords="535,262,528,252,534,242,550,236,577,234,605,236,621,243,618,248,604,242,577,239,551,241,537,246,534,251,540,258"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ab9c977b6a99bf130cdd3700043959174" title=" " alt="" coords="752,152,933,197"/>
<area shape="poly" title=" " alt="" coords="614,257,728,213,763,200,765,205,730,218,616,262"/>
<area shape="poly" title=" " alt="" coords="792,152,791,142,799,133,817,127,843,125,871,128,888,134,886,139,870,133,842,131,818,133,802,137,796,143,797,151"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a5230d45b66475f5e342a7654313d4c0e" title=" " alt="" coords="1029,243,1210,287"/>
<area shape="poly" title=" " alt="" coords="914,195,1035,235,1033,240,913,200"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a6509ca94b39300b188e7fb07f6ba1e00" title=" " alt="" coords="1029,123,1210,167"/>
<area shape="poly" title=" " alt="" coords="933,162,1013,154,1013,159,934,167"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#aa46047142028b8969a7c1ff3b6779887" title=" " alt="" coords="1029,29,1210,74"/>
<area shape="poly" title=" " alt="" coords="879,149,936,116,1003,84,1019,77,1021,82,1005,89,939,121,882,154"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a47c51c16ecee27b619768f1b817a342c" title=" " alt="" coords="1283,545,1464,590"/>
<area shape="poly" title=" " alt="" coords="934,174,1017,180,1105,189,1184,205,1214,216,1237,229,1288,349,1360,530,1355,532,1284,351,1233,232,1212,220,1182,210,1105,195,1017,185,934,180"/>
<area shape="poly" title=" " alt="" coords="1071,123,1070,112,1078,104,1094,98,1119,96,1147,99,1163,105,1161,110,1146,104,1119,101,1095,103,1081,108,1075,114,1076,122"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a4fc52204fdb26cc0f621fb653413f486" title=" " alt="" coords="1283,284,1464,329"/>
<area shape="poly" title=" " alt="" coords="1197,165,1236,184,1295,227,1343,271,1339,275,1292,231,1234,189,1195,170"/>
<area shape="poly" title=" " alt="" coords="1330,284,1329,274,1336,265,1351,259,1374,257,1399,260,1413,266,1411,271,1397,265,1374,263,1352,265,1339,269,1334,275,1335,283"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a4879ddbc5707448566621f8e55cac1e6" title=" " alt="" coords="1512,284,1694,329"/>
<area shape="poly" title=" " alt="" coords="1465,304,1497,304,1497,309,1465,309"/>
<area shape="poly" title=" " alt="" coords="1559,284,1558,274,1565,265,1580,259,1603,257,1628,260,1643,266,1640,271,1626,265,1603,263,1582,265,1568,269,1563,275,1564,283"/>
<area shape="poly" title=" " alt="" coords="1071,29,1070,19,1078,10,1094,5,1119,3,1147,5,1163,12,1161,17,1146,10,1119,8,1095,10,1081,15,1075,21,1076,28"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ac153d89dc9eb4259b8cc75827d9a1dfd" title=" " alt="" coords="1283,29,1464,74"/>
<area shape="poly" title=" " alt="" coords="1210,49,1268,49,1268,54,1210,54"/>
<area shape="poly" title=" " alt="" coords="1330,29,1329,19,1336,10,1351,5,1374,3,1399,5,1413,12,1411,17,1397,10,1374,8,1352,10,1339,15,1334,21,1335,28"/>
<area shape="poly" title=" " alt="" coords="590,433,655,334,694,286,728,257,763,243,800,233,875,225,949,227,1016,237,1015,242,949,232,875,230,801,238,765,248,731,262,698,290,659,338,594,436"/>
<area shape="poly" title=" " alt="" coords="657,477,776,502,847,512,924,517,1003,517,1083,508,1161,490,1234,460,1271,435,1303,404,1329,371,1350,340,1354,343,1334,374,1307,408,1274,439,1236,465,1162,495,1084,513,1003,522,924,523,847,517,775,507,656,483"/>
<area shape="poly" title=" " alt="" coords="613,478,667,508,730,533,801,549,873,561,1019,575,1155,577,1267,573,1267,579,1155,582,1019,580,873,567,800,555,729,538,664,513,610,482"/>
<area shape="poly" title=" " alt="" coords="530,435,529,425,537,416,553,410,577,408,603,411,619,417,616,422,602,416,577,413,554,415,540,420,534,426,536,434"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a41dc92b90c65fe4db6b69108cf52569e" title=" " alt="" coords="752,435,933,479"/>
<area shape="poly" title=" " alt="" coords="668,454,737,454,737,460,668,460"/>
<area shape="rect" href="../../dd/da1/structROCKSDB__NAMESPACE_1_1ParsedInternalKey.html#a0e89fb7fd6a5cb67f94626e1b69ab6bb" title=" " alt="" coords="729,675,956,719"/>
<area shape="poly" title=" " alt="" coords="605,478,807,662,803,666,601,482"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a421b5c2517a97e33788c52ecabf6045e" title=" " alt="" coords="752,296,933,341"/>
<area shape="poly" title=" " alt="" coords="604,432,659,391,728,351,743,344,745,349,731,355,662,396,607,436"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a68c941da5f3083ca54122b381139b65b" title=" " alt="" coords="752,365,933,410"/>
<area shape="poly" title=" " alt="" coords="665,431,739,412,740,417,666,437"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="1029,405,1210,450"/>
<area shape="poly" title=" " alt="" coords="933,445,1013,436,1013,442,934,450"/>
<area shape="poly" title=" " alt="" coords="792,675,791,664,799,656,817,650,843,648,871,650,888,657,886,662,870,656,842,653,818,655,802,660,796,666,797,674"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a280e2eb48dc8f91c6e6477c3cbd96659" title=" " alt="" coords="1029,605,1210,650"/>
<area shape="poly" title=" " alt="" coords="934,671,1013,651,1014,657,935,677"/>
<area shape="rect" href="../../dc/d3f/classROCKSDB__NAMESPACE_1_1Comparator.html#a03f7ac443b54e608e1fc508c34aaf8fa" title=" " alt="" coords="1014,744,1224,789"/>
<area shape="poly" title=" " alt="" coords="935,717,1013,737,1012,742,934,723"/>
<area shape="rect" href="../../dc/d3f/classROCKSDB__NAMESPACE_1_1Comparator.html#a5873c3e92ec11e153b2c62fbafce9633" title=" " alt="" coords="1004,675,1235,719"/>
<area shape="poly" title=" " alt="" coords="956,694,988,694,988,700,956,700"/>
<area shape="poly" title=" " alt="" coords="878,718,1005,799,1058,828,1056,832,1002,803,875,722"/>
<area shape="poly" title=" " alt="" coords="1210,604,1267,590,1269,595,1211,609"/>
<area shape="poly" title=" " alt="" coords="1071,837,1070,827,1078,818,1094,813,1119,811,1147,813,1163,820,1161,825,1146,818,1119,816,1095,818,1081,823,1075,829,1076,836"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af026b3da84709ab0bfb50788de9e04b7" title=" " alt="" coords="1283,837,1464,882"/>
<area shape="poly" title=" " alt="" coords="1210,857,1268,857,1268,862,1210,862"/>
<area shape="poly" title=" " alt="" coords="1330,837,1329,827,1336,818,1351,813,1374,811,1399,813,1413,820,1411,825,1397,818,1374,816,1352,818,1339,823,1334,829,1335,836"/>
<area shape="poly" title=" " alt="" coords="792,296,791,286,799,277,817,271,843,269,871,272,888,278,886,283,870,277,842,275,818,277,802,281,796,287,797,295"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a0afa96709ce3127ae462031b1009f797" title=" " alt="" coords="1029,336,1210,381"/>
<area shape="poly" title=" " alt="" coords="934,329,1013,340,1012,346,933,334"/>
<area shape="poly" title=" " alt="" coords="1071,336,1070,326,1078,317,1094,311,1119,309,1147,312,1163,318,1161,323,1146,317,1119,315,1095,317,1081,321,1075,327,1076,335"/>
<area shape="poly" title=" " alt="" coords="934,398,1013,410,1012,415,933,403"/>
</map>
</div>

</div>
</div>
<a id="a2641ed4c522a45269b710483a608f791" name="a2641ed4c522a45269b710483a608f791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2641ed4c522a45269b710483a608f791">&#9670;&#160;</a></span>TYPED_TEST() <span class="overload">[2/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::clock_cache::TYPED_TEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ClockEvictionEffortCapTest</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html">lru_cache_test.cc</a> 파일의 <a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html#l00697">697</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  697</span>                                                       {</div>
<div class="line"><span class="lineno">  698</span>  <span class="keyword">using </span>HandleImpl = <span class="keyword">typename</span> <a class="code hl_class" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest&lt;TypeParam&gt;::Shard::HandleImpl</a>;</div>
<div class="line"><span class="lineno">  699</span>  <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> strict_capacity_limit : {<span class="keyword">true</span>, <span class="keyword">false</span>}) {</div>
<div class="line"><span class="lineno">  700</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a4dac08f15adc8cb1ee0e5c1bfb0f440d">SCOPED_TRACE</a>(<span class="stringliteral">&quot;strict_capacity_limit = &quot;</span> +</div>
<div class="line"><span class="lineno">  701</span>                 std::to_string(strict_capacity_limit));</div>
<div class="line"><span class="lineno">  702</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> eec : {-42, 0, 1, 10, 100, 1000}) {</div>
<div class="line"><span class="lineno">  703</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a4dac08f15adc8cb1ee0e5c1bfb0f440d">SCOPED_TRACE</a>(<span class="stringliteral">&quot;eviction_effort_cap = &quot;</span> + std::to_string(eec));</div>
<div class="line"><span class="lineno">  704</span>      <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> kCapacity = 1000;</div>
<div class="line"><span class="lineno">  705</span>      <span class="comment">// Start with much larger capacity to ensure that we can go way over</span></div>
<div class="line"><span class="lineno">  706</span>      <span class="comment">// capacity without reaching table occupancy limit.</span></div>
<div class="line"><span class="lineno">  707</span>      this-&gt;NewShard(3 * kCapacity, strict_capacity_limit, eec);</div>
<div class="line"><span class="lineno">  708</span>      <span class="keyword">auto</span>&amp; shard = *this-&gt;shard_;</div>
<div class="line"><span class="lineno">  709</span>      shard.SetCapacity(kCapacity);</div>
<div class="line"><span class="lineno">  710</span> </div>
<div class="line"><span class="lineno">  711</span>      <span class="comment">// Nearly fill the cache with pinned entries, then add a bunch of</span></div>
<div class="line"><span class="lineno">  712</span>      <span class="comment">// non-pinned entries. eviction_effort_cap should affect how many</span></div>
<div class="line"><span class="lineno">  713</span>      <span class="comment">// evictable entries are present beyond the cache capacity, despite</span></div>
<div class="line"><span class="lineno">  714</span>      <span class="comment">// being evictable.</span></div>
<div class="line"><span class="lineno">  715</span>      <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> kCount = kCapacity - 1;</div>
<div class="line"><span class="lineno">  716</span>      std::unique_ptr&lt;HandleImpl* []&gt; ha { <span class="keyword">new</span> HandleImpl* [kCount] {} };</div>
<div class="line"><span class="lineno">  717</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; 2 * kCount; ++i) {</div>
<div class="line"><span class="lineno">  718</span>        <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a> hkey = this-&gt;CheapHash(i);</div>
<div class="line"><span class="lineno">  719</span>        <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a6892e90ee417adfb0c66aa7a49769895">ASSERT_OK</a>(shard.Insert(</div>
<div class="line"><span class="lineno">  720</span>            this-&gt;TestKey(hkey), hkey, <span class="keyword">nullptr</span> <span class="comment">/*value*/</span>, &amp;kNoopCacheItemHelper,</div>
<div class="line"><span class="lineno">  721</span>            1 <span class="comment">/*charge*/</span>, i &lt; kCount ? &amp;ha[i] : <span class="keyword">nullptr</span>, Cache::Priority::LOW));</div>
<div class="line"><span class="lineno">  722</span>      }</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>      <span class="keywordflow">if</span> (strict_capacity_limit) {</div>
<div class="line"><span class="lineno">  725</span>        <span class="comment">// If strict_capacity_limit is enabled, the cache will never exceed its</span></div>
<div class="line"><span class="lineno">  726</span>        <span class="comment">// capacity</span></div>
<div class="line"><span class="lineno">  727</span>        <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(shard.GetOccupancyCount(), kCapacity);</div>
<div class="line"><span class="lineno">  728</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  729</span>        <span class="comment">// Rough inverse relationship between cap and possible memory</span></div>
<div class="line"><span class="lineno">  730</span>        <span class="comment">// explosion, which shows up as increased table occupancy count.</span></div>
<div class="line"><span class="lineno">  731</span>        <span class="keywordtype">int</span> effective_eec = std::max(<span class="keywordtype">int</span>{1}, eec) + 1;</div>
<div class="line"><span class="lineno">  732</span>        <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a88cd7978af0e7dbd42cd606dfabdcc6f">EXPECT_NEAR</a>(shard.GetOccupancyCount() * 1.0,</div>
<div class="line"><span class="lineno">  733</span>                    kCount * (1 + 1.4 / effective_eec),</div>
<div class="line"><span class="lineno">  734</span>                    kCount * (0.6 / effective_eec) + 1.0);</div>
<div class="line"><span class="lineno">  735</span>      }</div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; kCount; ++i) {</div>
<div class="line"><span class="lineno">  738</span>        shard.Release(ha[i]);</div>
<div class="line"><span class="lineno">  739</span>      }</div>
<div class="line"><span class="lineno">  740</span>    }</div>
<div class="line"><span class="lineno">  741</span>  }</div>
<div class="line"><span class="lineno">  742</span>}</div>
<div class="ttc" id="agtest_8h_html_a4159019abda84f5366acdb7604ff220a"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a></div><div class="ttdeci">#define EXPECT_EQ(val1, val2)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21735">gtest.h:21735</a></div></div>
<div class="ttc" id="agtest_8h_html_a4dac08f15adc8cb1ee0e5c1bfb0f440d"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#a4dac08f15adc8cb1ee0e5c1bfb0f440d">SCOPED_TRACE</a></div><div class="ttdeci">#define SCOPED_TRACE(message)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21983">gtest.h:21983</a></div></div>
<div class="ttc" id="agtest_8h_html_a88cd7978af0e7dbd42cd606dfabdcc6f"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#a88cd7978af0e7dbd42cd606dfabdcc6f">EXPECT_NEAR</a></div><div class="ttdeci">#define EXPECT_NEAR(val1, val2, abs_error)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21856">gtest.h:21856</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3d77a7a1598299120dffa3bf02b3f2f" name="ab3d77a7a1598299120dffa3bf02b3f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d77a7a1598299120dffa3bf02b3f2f">&#9670;&#160;</a></span>TYPED_TEST() <span class="overload">[3/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::clock_cache::TYPED_TEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ClockEvictionTest</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html">lru_cache_test.cc</a> 파일의 <a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html#l00589">589</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  589</span>                                              {</div>
<div class="line"><span class="lineno">  590</span>  <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> strict_capacity_limit : {<span class="keyword">false</span>, <span class="keyword">true</span>}) {</div>
<div class="line"><span class="lineno">  591</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a4dac08f15adc8cb1ee0e5c1bfb0f440d">SCOPED_TRACE</a>(<span class="stringliteral">&quot;strict_capacity_limit = &quot;</span> +</div>
<div class="line"><span class="lineno">  592</span>                 std::to_string(strict_capacity_limit));</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>    this-&gt;NewShard(6, strict_capacity_limit);</div>
<div class="line"><span class="lineno">  595</span>    <span class="keyword">auto</span>&amp; shard = *this-&gt;shard_;</div>
<div class="line"><span class="lineno">  596</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;a&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da1fabf63de5c96c78e2a40805bcdeb73b">Cache::Priority::BOTTOM</a>));</div>
<div class="line"><span class="lineno">  597</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;b&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>));</div>
<div class="line"><span class="lineno">  598</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;c&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  599</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;d&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da1fabf63de5c96c78e2a40805bcdeb73b">Cache::Priority::BOTTOM</a>));</div>
<div class="line"><span class="lineno">  600</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;e&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>));</div>
<div class="line"><span class="lineno">  601</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;f&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;a&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  604</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;b&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  605</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;c&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  606</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;d&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  607</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;e&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  608</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;f&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>    <span class="comment">// Ensure bottom are evicted first, even if new entries are low</span></div>
<div class="line"><span class="lineno">  611</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;g&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>));</div>
<div class="line"><span class="lineno">  612</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;h&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>));</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;a&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  615</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;b&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  616</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;c&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  617</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;d&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  618</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;e&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  619</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;f&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  620</span>    <span class="comment">// Mark g &amp; h useful</span></div>
<div class="line"><span class="lineno">  621</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;g&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  622</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;h&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>    <span class="comment">// Then old LOW entries</span></div>
<div class="line"><span class="lineno">  625</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;i&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>));</div>
<div class="line"><span class="lineno">  626</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;j&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>));</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;b&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  629</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;c&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  630</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;e&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  631</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;f&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  632</span>    <span class="comment">// Mark g &amp; h useful once again</span></div>
<div class="line"><span class="lineno">  633</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;g&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  634</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;h&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  635</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;i&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  636</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;j&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>    <span class="comment">// Then old HIGH entries</span></div>
<div class="line"><span class="lineno">  639</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;k&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>));</div>
<div class="line"><span class="lineno">  640</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;l&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>));</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;c&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  643</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;f&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  644</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;g&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  645</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;h&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  646</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;i&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  647</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;j&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  648</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;k&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  649</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;l&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>    <span class="comment">// Then the (roughly) least recently useful</span></div>
<div class="line"><span class="lineno">  652</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;m&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  653</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;n&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;g&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  656</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;h&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  657</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;i&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  658</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;j&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  659</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;k&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  660</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;l&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <span class="comment">// Now try changing capacity down</span></div>
<div class="line"><span class="lineno">  663</span>    shard.SetCapacity(4);</div>
<div class="line"><span class="lineno">  664</span>    <span class="comment">// Insert to ensure evictions happen</span></div>
<div class="line"><span class="lineno">  665</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;o&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>));</div>
<div class="line"><span class="lineno">  666</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;p&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>));</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;g&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  669</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;h&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  670</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;k&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  671</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;l&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  672</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;m&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  673</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;n&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  674</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;o&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;p&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>    <span class="comment">// Now try changing capacity up</span></div>
<div class="line"><span class="lineno">  678</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;m&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  679</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;n&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  680</span>    shard.SetCapacity(6);</div>
<div class="line"><span class="lineno">  681</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;q&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  682</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;r&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  683</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;s&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  684</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;Insert(<span class="charliteral">&#39;t&#39;</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;o&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  687</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(<span class="charliteral">&#39;p&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  688</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;m&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  689</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;n&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  690</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;q&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  691</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;r&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  692</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;s&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  693</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(this-&gt;Lookup(<span class="charliteral">&#39;t&#39;</span>, <span class="comment">/*use*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  694</span>  }</div>
<div class="line"><span class="lineno">  695</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1Cache_html_aae9756924748d66b8202bd4850e9d84da1fabf63de5c96c78e2a40805bcdeb73b"><div class="ttname"><a href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da1fabf63de5c96c78e2a40805bcdeb73b">ROCKSDB_NAMESPACE::Cache::Priority::BOTTOM</a></div><div class="ttdeci">@ BOTTOM</div><div class="ttdef"><b>Definition</b> <a href="../../d1/db9/advanced__cache_8h_source.html#l00068">advanced_cache.h:68</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1Cache_html_aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88"><div class="ttname"><a href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">ROCKSDB_NAMESPACE::Cache::Priority::LOW</a></div><div class="ttdeci">@ LOW</div><div class="ttdef"><b>Definition</b> <a href="../../d1/db9/advanced__cache_8h_source.html#l00068">advanced_cache.h:68</a></div></div>
<div class="ttc" id="agtest_8h_html_ac33e7cdfb5d44a7a0f0ab552eb5c3c6a"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a></div><div class="ttdeci">#define EXPECT_TRUE(condition)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21676">gtest.h:21676</a></div></div>
<div class="ttc" id="agtest_8h_html_aeb6c7ae89f440c90c1a1815951c836da"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a></div><div class="ttdeci">#define EXPECT_FALSE(condition)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21679">gtest.h:21679</a></div></div>
<div class="ttc" id="atestharness_8h_html_a72818a1b73e08f703b93b673513ca08a"><div class="ttname"><a href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a></div><div class="ttdeci">#define EXPECT_OK(s)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d42/testharness_8h_source.html#l00085">testharness.h:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a87710677c426b2a5279139dfd405001a" name="a87710677c426b2a5279139dfd405001a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87710677c426b2a5279139dfd405001a">&#9670;&#160;</a></span>TYPED_TEST() <span class="overload">[4/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::clock_cache::TYPED_TEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ClockTableFull</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html">lru_cache_test.cc</a> 파일의 <a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html#l00792">792</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  792</span>                                           {</div>
<div class="line"><span class="lineno">  793</span>  <span class="comment">// Force clock cache table to fill up (not usually allowed) in order</span></div>
<div class="line"><span class="lineno">  794</span>  <span class="comment">// to test full probe sequence that is theoretically possible due to</span></div>
<div class="line"><span class="lineno">  795</span>  <span class="comment">// parallel operations</span></div>
<div class="line"><span class="lineno">  796</span>  this-&gt;NewShard(6, <span class="comment">/*strict_capacity_limit*/</span> <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  797</span>  <span class="keyword">auto</span>&amp; shard = *this-&gt;shard_;</div>
<div class="line"><span class="lineno">  798</span>  <span class="keyword">using </span>HandleImpl = <span class="keyword">typename</span> <a class="code hl_class" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest&lt;TypeParam&gt;::Shard::HandleImpl</a>;</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>  <span class="keywordtype">size_t</span> size = shard.GetTableAddressCount();</div>
<div class="line"><span class="lineno">  801</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a775643748feff0b490aae651d041e971">ASSERT_LE</a>(size + 3, 256);  <span class="comment">// for using char keys</span></div>
<div class="line"><span class="lineno">  802</span>  <span class="comment">// Modify occupancy and capacity limits to attempt insert on full</span></div>
<div class="line"><span class="lineno">  803</span>  shard.TEST_MutableOccupancyLimit() = size + 100;</div>
<div class="line"><span class="lineno">  804</span>  shard.SetCapacity(size + 100);</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>  DeleteCounter val;</div>
<div class="line"><span class="lineno">  807</span>  std::vector&lt;HandleImpl*&gt; handles;</div>
<div class="line"><span class="lineno">  808</span>  <span class="comment">// NOTE: the three extra insertions should create standalone entries</span></div>
<div class="line"><span class="lineno">  809</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; size + 3; ++i) {</div>
<div class="line"><span class="lineno">  810</span>    <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a> hkey = this-&gt;TestHashedKey(<span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(i));</div>
<div class="line"><span class="lineno">  811</span>    <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a6892e90ee417adfb0c66aa7a49769895">ASSERT_OK</a>(shard.Insert(this-&gt;TestKey(hkey), hkey, &amp;val,</div>
<div class="line"><span class="lineno">  812</span>                           &amp;kDeleteCounterHelper, 1, &amp;handles.emplace_back(),</div>
<div class="line"><span class="lineno">  813</span>                           <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  814</span>  }</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; size + 3; ++i) {</div>
<div class="line"><span class="lineno">  817</span>    <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a> hkey = this-&gt;TestHashedKey(<span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(i));</div>
<div class="line"><span class="lineno">  818</span>    HandleImpl* h = shard.Lookup(this-&gt;<a class="code hl_function" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f">TestKey</a>(hkey), hkey);</div>
<div class="line"><span class="lineno">  819</span>    <span class="keywordflow">if</span> (i &lt; size) {</div>
<div class="line"><span class="lineno">  820</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aa866c8dece57912e6f51495ed3e8d8d5">ASSERT_NE</a>(h, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  821</span>      shard.Release(h);</div>
<div class="line"><span class="lineno">  822</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  823</span>      <span class="comment">// Standalone entries not visible by lookup</span></div>
<div class="line"><span class="lineno">  824</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(h, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  825</span>    }</div>
<div class="line"><span class="lineno">  826</span>  }</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; size + 3; ++i) {</div>
<div class="line"><span class="lineno">  829</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aa866c8dece57912e6f51495ed3e8d8d5">ASSERT_NE</a>(handles[i], <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  830</span>    shard.Release(handles[i]);</div>
<div class="line"><span class="lineno">  831</span>    <span class="keywordflow">if</span> (i &lt; size) {</div>
<div class="line"><span class="lineno">  832</span>      <span class="comment">// Everything still in cache</span></div>
<div class="line"><span class="lineno">  833</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted, 0);</div>
<div class="line"><span class="lineno">  834</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  835</span>      <span class="comment">// Standalone entries freed on release</span></div>
<div class="line"><span class="lineno">  836</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted, i + 1 - size);</div>
<div class="line"><span class="lineno">  837</span>    }</div>
<div class="line"><span class="lineno">  838</span>  }</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = size + 3; i &gt; 0; --i) {</div>
<div class="line"><span class="lineno">  841</span>    <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a> hkey = this-&gt;TestHashedKey(<span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(i - 1));</div>
<div class="line"><span class="lineno">  842</span>    shard.Erase(this-&gt;TestKey(hkey), hkey);</div>
<div class="line"><span class="lineno">  843</span>    <span class="keywordflow">if</span> (i - 1 &gt; size) {</div>
<div class="line"><span class="lineno">  844</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted, 3);</div>
<div class="line"><span class="lineno">  845</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  846</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted, 3 + size - (i - 1));</div>
<div class="line"><span class="lineno">  847</span>    }</div>
<div class="line"><span class="lineno">  848</span>  }</div>
<div class="line"><span class="lineno">  849</span>}</div>
<div class="ttc" id="agtest_8h_html_a775643748feff0b490aae651d041e971"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#a775643748feff0b490aae651d041e971">ASSERT_LE</a></div><div class="ttdeci">#define ASSERT_LE(val1, val2)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21777">gtest.h:21777</a></div></div>
<div class="ttc" id="agtest_8h_html_aa866c8dece57912e6f51495ed3e8d8d5"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#aa866c8dece57912e6f51495ed3e8d8d5">ASSERT_NE</a></div><div class="ttdeci">#define ASSERT_NE(val1, val2)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21773">gtest.h:21773</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a87710677c426b2a5279139dfd405001a_cgraph.png" border="0" usemap="#ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a87710677c426b2a5279139dfd405001a_cgraph" alt=""/></div>
<map name="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a87710677c426b2a5279139dfd405001a_cgraph" id="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a87710677c426b2a5279139dfd405001a_cgraph">
<area shape="rect" title=" " alt="" coords="5,435,195,479"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f" title=" " alt="" coords="243,435,424,479"/>
<area shape="poly" title=" " alt="" coords="195,454,227,454,227,460,195,460"/>
<area shape="poly" title=" " alt="" coords="289,435,287,425,295,416,310,410,333,408,359,411,374,417,371,422,357,416,333,413,312,415,298,420,293,426,294,434"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a52798f38f71372d358d8623173bb6d34" title=" " alt="" coords="472,260,681,288"/>
<area shape="poly" title=" " alt="" coords="363,432,543,295,546,300,366,436"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a7fae4a23fa6b9c2c08ee516677913d33" title=" " alt="" coords="486,435,667,479"/>
<area shape="poly" title=" " alt="" coords="425,454,470,454,470,460,425,460"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a290b26395e5d5df4b78f0a164c7da733" title=" " alt="" coords="1029,837,1210,882"/>
<area shape="poly" title=" " alt="" coords="363,478,426,528,514,595,619,666,731,729,802,762,877,789,1014,832,1013,837,875,795,800,766,728,734,616,670,511,599,422,533,360,482"/>
<area shape="poly" title=" " alt="" coords="535,262,528,252,534,242,550,236,577,234,605,236,621,243,618,248,604,242,577,239,551,241,537,246,534,251,540,258"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ab9c977b6a99bf130cdd3700043959174" title=" " alt="" coords="752,152,933,197"/>
<area shape="poly" title=" " alt="" coords="614,257,728,213,763,200,765,205,730,218,616,262"/>
<area shape="poly" title=" " alt="" coords="792,152,791,142,799,133,817,127,843,125,871,128,888,134,886,139,870,133,842,131,818,133,802,137,796,143,797,151"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a5230d45b66475f5e342a7654313d4c0e" title=" " alt="" coords="1029,243,1210,287"/>
<area shape="poly" title=" " alt="" coords="914,195,1035,235,1033,240,913,200"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a6509ca94b39300b188e7fb07f6ba1e00" title=" " alt="" coords="1029,123,1210,167"/>
<area shape="poly" title=" " alt="" coords="933,162,1013,154,1013,159,934,167"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#aa46047142028b8969a7c1ff3b6779887" title=" " alt="" coords="1029,29,1210,74"/>
<area shape="poly" title=" " alt="" coords="879,149,936,116,1003,84,1019,77,1021,82,1005,89,939,121,882,154"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a47c51c16ecee27b619768f1b817a342c" title=" " alt="" coords="1283,545,1464,590"/>
<area shape="poly" title=" " alt="" coords="934,174,1017,180,1105,189,1184,205,1214,216,1237,229,1288,349,1360,530,1355,532,1284,351,1233,232,1212,220,1182,210,1105,195,1017,185,934,180"/>
<area shape="poly" title=" " alt="" coords="1071,123,1070,112,1078,104,1094,98,1119,96,1147,99,1163,105,1161,110,1146,104,1119,101,1095,103,1081,108,1075,114,1076,122"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a4fc52204fdb26cc0f621fb653413f486" title=" " alt="" coords="1283,284,1464,329"/>
<area shape="poly" title=" " alt="" coords="1197,165,1236,184,1295,227,1343,271,1339,275,1292,231,1234,189,1195,170"/>
<area shape="poly" title=" " alt="" coords="1330,284,1329,274,1336,265,1351,259,1374,257,1399,260,1413,266,1411,271,1397,265,1374,263,1352,265,1339,269,1334,275,1335,283"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a4879ddbc5707448566621f8e55cac1e6" title=" " alt="" coords="1512,284,1694,329"/>
<area shape="poly" title=" " alt="" coords="1465,304,1497,304,1497,309,1465,309"/>
<area shape="poly" title=" " alt="" coords="1559,284,1558,274,1565,265,1580,259,1603,257,1628,260,1643,266,1640,271,1626,265,1603,263,1582,265,1568,269,1563,275,1564,283"/>
<area shape="poly" title=" " alt="" coords="1071,29,1070,19,1078,10,1094,5,1119,3,1147,5,1163,12,1161,17,1146,10,1119,8,1095,10,1081,15,1075,21,1076,28"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ac153d89dc9eb4259b8cc75827d9a1dfd" title=" " alt="" coords="1283,29,1464,74"/>
<area shape="poly" title=" " alt="" coords="1210,49,1268,49,1268,54,1210,54"/>
<area shape="poly" title=" " alt="" coords="1330,29,1329,19,1336,10,1351,5,1374,3,1399,5,1413,12,1411,17,1397,10,1374,8,1352,10,1339,15,1334,21,1335,28"/>
<area shape="poly" title=" " alt="" coords="590,433,655,334,694,286,728,257,763,243,800,233,875,225,949,227,1016,237,1015,242,949,232,875,230,801,238,765,248,731,262,698,290,659,338,594,436"/>
<area shape="poly" title=" " alt="" coords="657,477,776,502,847,512,924,517,1003,517,1083,508,1161,490,1234,460,1271,435,1303,404,1329,371,1350,340,1354,343,1334,374,1307,408,1274,439,1236,465,1162,495,1084,513,1003,522,924,523,847,517,775,507,656,483"/>
<area shape="poly" title=" " alt="" coords="613,478,667,508,730,533,801,549,873,561,1019,575,1155,577,1267,573,1267,579,1155,582,1019,580,873,567,800,555,729,538,664,513,610,482"/>
<area shape="poly" title=" " alt="" coords="530,435,529,425,537,416,553,410,577,408,603,411,619,417,616,422,602,416,577,413,554,415,540,420,534,426,536,434"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a41dc92b90c65fe4db6b69108cf52569e" title=" " alt="" coords="752,435,933,479"/>
<area shape="poly" title=" " alt="" coords="668,454,737,454,737,460,668,460"/>
<area shape="rect" href="../../dd/da1/structROCKSDB__NAMESPACE_1_1ParsedInternalKey.html#a0e89fb7fd6a5cb67f94626e1b69ab6bb" title=" " alt="" coords="729,675,956,719"/>
<area shape="poly" title=" " alt="" coords="605,478,807,662,803,666,601,482"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a421b5c2517a97e33788c52ecabf6045e" title=" " alt="" coords="752,296,933,341"/>
<area shape="poly" title=" " alt="" coords="604,432,659,391,728,351,743,344,745,349,731,355,662,396,607,436"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a68c941da5f3083ca54122b381139b65b" title=" " alt="" coords="752,365,933,410"/>
<area shape="poly" title=" " alt="" coords="665,431,739,412,740,417,666,437"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="1029,405,1210,450"/>
<area shape="poly" title=" " alt="" coords="933,445,1013,436,1013,442,934,450"/>
<area shape="poly" title=" " alt="" coords="792,675,791,664,799,656,817,650,843,648,871,650,888,657,886,662,870,656,842,653,818,655,802,660,796,666,797,674"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a280e2eb48dc8f91c6e6477c3cbd96659" title=" " alt="" coords="1029,605,1210,650"/>
<area shape="poly" title=" " alt="" coords="934,671,1013,651,1014,657,935,677"/>
<area shape="rect" href="../../dc/d3f/classROCKSDB__NAMESPACE_1_1Comparator.html#a03f7ac443b54e608e1fc508c34aaf8fa" title=" " alt="" coords="1014,744,1224,789"/>
<area shape="poly" title=" " alt="" coords="935,717,1013,737,1012,742,934,723"/>
<area shape="rect" href="../../dc/d3f/classROCKSDB__NAMESPACE_1_1Comparator.html#a5873c3e92ec11e153b2c62fbafce9633" title=" " alt="" coords="1004,675,1235,719"/>
<area shape="poly" title=" " alt="" coords="956,694,988,694,988,700,956,700"/>
<area shape="poly" title=" " alt="" coords="878,718,1005,799,1058,828,1056,832,1002,803,875,722"/>
<area shape="poly" title=" " alt="" coords="1210,604,1267,590,1269,595,1211,609"/>
<area shape="poly" title=" " alt="" coords="1071,837,1070,827,1078,818,1094,813,1119,811,1147,813,1163,820,1161,825,1146,818,1119,816,1095,818,1081,823,1075,829,1076,836"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af026b3da84709ab0bfb50788de9e04b7" title=" " alt="" coords="1283,837,1464,882"/>
<area shape="poly" title=" " alt="" coords="1210,857,1268,857,1268,862,1210,862"/>
<area shape="poly" title=" " alt="" coords="1330,837,1329,827,1336,818,1351,813,1374,811,1399,813,1413,820,1411,825,1397,818,1374,816,1352,818,1339,823,1334,829,1335,836"/>
<area shape="poly" title=" " alt="" coords="792,296,791,286,799,277,817,271,843,269,871,272,888,278,886,283,870,277,842,275,818,277,802,281,796,287,797,295"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a0afa96709ce3127ae462031b1009f797" title=" " alt="" coords="1029,336,1210,381"/>
<area shape="poly" title=" " alt="" coords="934,329,1013,340,1012,346,933,334"/>
<area shape="poly" title=" " alt="" coords="1071,336,1070,326,1078,317,1094,311,1119,309,1147,312,1163,318,1161,323,1146,317,1119,315,1095,317,1081,321,1075,327,1076,335"/>
<area shape="poly" title=" " alt="" coords="934,398,1013,410,1012,415,933,403"/>
</map>
</div>

</div>
</div>
<a id="a4187f8253ddc0b8052032675a02608fc" name="a4187f8253ddc0b8052032675a02608fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4187f8253ddc0b8052032675a02608fc">&#9670;&#160;</a></span>TYPED_TEST() <span class="overload">[5/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::clock_cache::TYPED_TEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CollidingInsertEraseTest</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html">lru_cache_test.cc</a> 파일의 <a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html#l00853">853</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  853</span>                                                     {</div>
<div class="line"><span class="lineno">  854</span>  this-&gt;NewShard(6, <span class="comment">/*strict_capacity_limit*/</span> <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  855</span>  <span class="keyword">auto</span>&amp; shard = *this-&gt;shard_;</div>
<div class="line"><span class="lineno">  856</span>  <span class="keyword">using </span>HandleImpl = <span class="keyword">typename</span> <a class="code hl_class" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest&lt;TypeParam&gt;::Shard::HandleImpl</a>;</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>  DeleteCounter val;</div>
<div class="line"><span class="lineno">  859</span>  <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a> hkey1 = this-&gt;TestHashedKey(<span class="charliteral">&#39;x&#39;</span>);</div>
<div class="line"><span class="lineno">  860</span>  <a class="code hl_class" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html">Slice</a> <a class="code hl_variable" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#aed5b220c8c8a0f20421f8961f324210d">key1</a> = this-&gt;<a class="code hl_function" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f">TestKey</a>(hkey1);</div>
<div class="line"><span class="lineno">  861</span>  <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a> hkey2 = this-&gt;TestHashedKey(<span class="charliteral">&#39;y&#39;</span>);</div>
<div class="line"><span class="lineno">  862</span>  <a class="code hl_class" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html">Slice</a> <a class="code hl_variable" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8050773d83e2222f5d993fb1cd3c6fac">key2</a> = this-&gt;<a class="code hl_function" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f">TestKey</a>(hkey2);</div>
<div class="line"><span class="lineno">  863</span>  <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a> hkey3 = this-&gt;TestHashedKey(<span class="charliteral">&#39;z&#39;</span>);</div>
<div class="line"><span class="lineno">  864</span>  <a class="code hl_class" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html">Slice</a> <a class="code hl_variable" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a59a9569769c91aa8ecba4c20fad3d695">key3</a> = this-&gt;<a class="code hl_function" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f">TestKey</a>(hkey3);</div>
<div class="line"><span class="lineno">  865</span>  HandleImpl* h1;</div>
<div class="line"><span class="lineno">  866</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a6892e90ee417adfb0c66aa7a49769895">ASSERT_OK</a>(shard.Insert(<a class="code hl_variable" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#aed5b220c8c8a0f20421f8961f324210d">key1</a>, hkey1, &amp;val, &amp;kDeleteCounterHelper, 1, &amp;h1,</div>
<div class="line"><span class="lineno">  867</span>                         <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  868</span>  HandleImpl* h2;</div>
<div class="line"><span class="lineno">  869</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a6892e90ee417adfb0c66aa7a49769895">ASSERT_OK</a>(shard.Insert(<a class="code hl_variable" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8050773d83e2222f5d993fb1cd3c6fac">key2</a>, hkey2, &amp;val, &amp;kDeleteCounterHelper, 1, &amp;h2,</div>
<div class="line"><span class="lineno">  870</span>                         <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  871</span>  HandleImpl* h3;</div>
<div class="line"><span class="lineno">  872</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a6892e90ee417adfb0c66aa7a49769895">ASSERT_OK</a>(shard.Insert(<a class="code hl_variable" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a59a9569769c91aa8ecba4c20fad3d695">key3</a>, hkey3, &amp;val, &amp;kDeleteCounterHelper, 1, &amp;h3,</div>
<div class="line"><span class="lineno">  873</span>                         <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84dab89de3b4b81c4facfac906edf29aec8c">Cache::Priority::HIGH</a>));</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>  <span class="comment">// Can repeatedly lookup+release despite the hash collision</span></div>
<div class="line"><span class="lineno">  876</span>  HandleImpl* tmp_h;</div>
<div class="line"><span class="lineno">  877</span>  <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> erase_if_last_ref : {<span class="keyword">true</span>, <span class="keyword">false</span>}) {  <span class="comment">// but not last ref</span></div>
<div class="line"><span class="lineno">  878</span>    tmp_h = shard.Lookup(<a class="code hl_variable" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#aed5b220c8c8a0f20421f8961f324210d">key1</a>, hkey1);</div>
<div class="line"><span class="lineno">  879</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(h1, tmp_h);</div>
<div class="line"><span class="lineno">  880</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a>(shard.Release(tmp_h, erase_if_last_ref));</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span>    tmp_h = shard.Lookup(<a class="code hl_variable" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8050773d83e2222f5d993fb1cd3c6fac">key2</a>, hkey2);</div>
<div class="line"><span class="lineno">  883</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(h2, tmp_h);</div>
<div class="line"><span class="lineno">  884</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a>(shard.Release(tmp_h, erase_if_last_ref));</div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>    tmp_h = shard.Lookup(<a class="code hl_variable" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a59a9569769c91aa8ecba4c20fad3d695">key3</a>, hkey3);</div>
<div class="line"><span class="lineno">  887</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(h3, tmp_h);</div>
<div class="line"><span class="lineno">  888</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a>(shard.Release(tmp_h, erase_if_last_ref));</div>
<div class="line"><span class="lineno">  889</span>  }</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>  <span class="comment">// Make h1 invisible</span></div>
<div class="line"><span class="lineno">  892</span>  shard.Erase(key1, hkey1);</div>
<div class="line"><span class="lineno">  893</span>  <span class="comment">// Redundant erase</span></div>
<div class="line"><span class="lineno">  894</span>  shard.Erase(key1, hkey1);</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span>  <span class="comment">// All still alive</span></div>
<div class="line"><span class="lineno">  897</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted, 0);</div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span>  <span class="comment">// Invisible to Lookup</span></div>
<div class="line"><span class="lineno">  900</span>  tmp_h = shard.Lookup(key1, hkey1);</div>
<div class="line"><span class="lineno">  901</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(<span class="keyword">nullptr</span>, tmp_h);</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span>  <span class="comment">// Can still find h2, h3</span></div>
<div class="line"><span class="lineno">  904</span>  <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> erase_if_last_ref : {<span class="keyword">true</span>, <span class="keyword">false</span>}) {  <span class="comment">// but not last ref</span></div>
<div class="line"><span class="lineno">  905</span>    tmp_h = shard.Lookup(key2, hkey2);</div>
<div class="line"><span class="lineno">  906</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(h2, tmp_h);</div>
<div class="line"><span class="lineno">  907</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a>(shard.Release(tmp_h, erase_if_last_ref));</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>    tmp_h = shard.Lookup(key3, hkey3);</div>
<div class="line"><span class="lineno">  910</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(h3, tmp_h);</div>
<div class="line"><span class="lineno">  911</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a>(shard.Release(tmp_h, erase_if_last_ref));</div>
<div class="line"><span class="lineno">  912</span>  }</div>
<div class="line"><span class="lineno">  913</span> </div>
<div class="line"><span class="lineno">  914</span>  <span class="comment">// Also Insert with invisible entry there</span></div>
<div class="line"><span class="lineno">  915</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a6892e90ee417adfb0c66aa7a49769895">ASSERT_OK</a>(shard.Insert(key1, hkey1, &amp;val, &amp;kDeleteCounterHelper, 1, <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">  916</span>                         Cache::Priority::HIGH));</div>
<div class="line"><span class="lineno">  917</span>  tmp_h = shard.Lookup(key1, hkey1);</div>
<div class="line"><span class="lineno">  918</span>  <span class="comment">// Found but distinct handle</span></div>
<div class="line"><span class="lineno">  919</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aa866c8dece57912e6f51495ed3e8d8d5">ASSERT_NE</a>(<span class="keyword">nullptr</span>, tmp_h);</div>
<div class="line"><span class="lineno">  920</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aa866c8dece57912e6f51495ed3e8d8d5">ASSERT_NE</a>(h1, tmp_h);</div>
<div class="line"><span class="lineno">  921</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a>(shard.Release(tmp_h, <span class="comment">/*erase_if_last_ref*/</span> <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>  <span class="comment">// tmp_h deleted</span></div>
<div class="line"><span class="lineno">  924</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted--, 1);</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>  <span class="comment">// Release last ref on h1 (already invisible)</span></div>
<div class="line"><span class="lineno">  927</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a>(shard.Release(h1, <span class="comment">/*erase_if_last_ref*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>  <span class="comment">// h1 deleted</span></div>
<div class="line"><span class="lineno">  930</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted--, 1);</div>
<div class="line"><span class="lineno">  931</span>  h1 = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>  <span class="comment">// Can still find h2, h3</span></div>
<div class="line"><span class="lineno">  934</span>  <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> erase_if_last_ref : {<span class="keyword">true</span>, <span class="keyword">false</span>}) {  <span class="comment">// but not last ref</span></div>
<div class="line"><span class="lineno">  935</span>    tmp_h = shard.Lookup(key2, hkey2);</div>
<div class="line"><span class="lineno">  936</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(h2, tmp_h);</div>
<div class="line"><span class="lineno">  937</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a>(shard.Release(tmp_h, erase_if_last_ref));</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>    tmp_h = shard.Lookup(key3, hkey3);</div>
<div class="line"><span class="lineno">  940</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(h3, tmp_h);</div>
<div class="line"><span class="lineno">  941</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a>(shard.Release(tmp_h, erase_if_last_ref));</div>
<div class="line"><span class="lineno">  942</span>  }</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>  <span class="comment">// Release last ref on h2</span></div>
<div class="line"><span class="lineno">  945</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a>(shard.Release(h2, <span class="comment">/*erase_if_last_ref*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>  <span class="comment">// h2 still not deleted (unreferenced in cache)</span></div>
<div class="line"><span class="lineno">  948</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted, 0);</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>  <span class="comment">// Can still find it</span></div>
<div class="line"><span class="lineno">  951</span>  tmp_h = shard.Lookup(key2, hkey2);</div>
<div class="line"><span class="lineno">  952</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(h2, tmp_h);</div>
<div class="line"><span class="lineno">  953</span> </div>
<div class="line"><span class="lineno">  954</span>  <span class="comment">// Release last ref on h2, with erase</span></div>
<div class="line"><span class="lineno">  955</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a>(shard.Release(h2, <span class="comment">/*erase_if_last_ref*/</span> <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>  <span class="comment">// h2 deleted</span></div>
<div class="line"><span class="lineno">  958</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted--, 1);</div>
<div class="line"><span class="lineno">  959</span>  tmp_h = shard.Lookup(key2, hkey2);</div>
<div class="line"><span class="lineno">  960</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(<span class="keyword">nullptr</span>, tmp_h);</div>
<div class="line"><span class="lineno">  961</span> </div>
<div class="line"><span class="lineno">  962</span>  <span class="comment">// Can still find h3</span></div>
<div class="line"><span class="lineno">  963</span>  <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> erase_if_last_ref : {<span class="keyword">true</span>, <span class="keyword">false</span>}) {  <span class="comment">// but not last ref</span></div>
<div class="line"><span class="lineno">  964</span>    tmp_h = shard.Lookup(key3, hkey3);</div>
<div class="line"><span class="lineno">  965</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(h3, tmp_h);</div>
<div class="line"><span class="lineno">  966</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a>(shard.Release(tmp_h, erase_if_last_ref));</div>
<div class="line"><span class="lineno">  967</span>  }</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>  <span class="comment">// Release last ref on h3, without erase</span></div>
<div class="line"><span class="lineno">  970</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a>(shard.Release(h3, <span class="comment">/*erase_if_last_ref*/</span> <span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>  <span class="comment">// h3 still not deleted (unreferenced in cache)</span></div>
<div class="line"><span class="lineno">  973</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted, 0);</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>  <span class="comment">// Explicit erase</span></div>
<div class="line"><span class="lineno">  976</span>  shard.Erase(key3, hkey3);</div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>  <span class="comment">// h3 deleted</span></div>
<div class="line"><span class="lineno">  979</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(val.deleted--, 1);</div>
<div class="line"><span class="lineno">  980</span>  tmp_h = shard.Lookup(key3, hkey3);</div>
<div class="line"><span class="lineno">  981</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a1a6db8b1338ee7040329322b77779086">ASSERT_EQ</a>(<span class="keyword">nullptr</span>, tmp_h);</div>
<div class="line"><span class="lineno">  982</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1Slice_html"><div class="ttname"><a href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html">ROCKSDB_NAMESPACE::Slice</a></div><div class="ttdef"><b>Definition</b> <a href="../../d0/d48/slice_8h_source.html#l00032">slice.h:32</a></div></div>
<div class="ttc" id="agtest_8h_html_a8197fa52f3538588d20d8af4834c9003"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#a8197fa52f3538588d20d8af4834c9003">ASSERT_FALSE</a></div><div class="ttdeci">#define ASSERT_FALSE(condition)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21685">gtest.h:21685</a></div></div>
<div class="ttc" id="agtest_8h_html_ae9244bfbda562e8b798789b001993fa5"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#ae9244bfbda562e8b798789b001993fa5">ASSERT_TRUE</a></div><div class="ttdeci">#define ASSERT_TRUE(condition)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21682">gtest.h:21682</a></div></div>
<div class="ttc" id="anamespaceROCKSDB__NAMESPACE_html_a59a9569769c91aa8ecba4c20fad3d695"><div class="ttname"><a href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a59a9569769c91aa8ecba4c20fad3d695">ROCKSDB_NAMESPACE::key3</a></div><div class="ttdeci">const std::string key3</div><div class="ttdef"><b>Definition</b> <a href="../../d0/db6/compressed__secondary__cache__test_8cc_source.html#l00031">compressed_secondary_cache_test.cc:31</a></div></div>
<div class="ttc" id="anamespaceROCKSDB__NAMESPACE_html_a8050773d83e2222f5d993fb1cd3c6fac"><div class="ttname"><a href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8050773d83e2222f5d993fb1cd3c6fac">ROCKSDB_NAMESPACE::key2</a></div><div class="ttdeci">const std::string key2</div><div class="ttdef"><b>Definition</b> <a href="../../d0/db6/compressed__secondary__cache__test_8cc_source.html#l00030">compressed_secondary_cache_test.cc:30</a></div></div>
<div class="ttc" id="anamespaceROCKSDB__NAMESPACE_html_aed5b220c8c8a0f20421f8961f324210d"><div class="ttname"><a href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#aed5b220c8c8a0f20421f8961f324210d">ROCKSDB_NAMESPACE::key1</a></div><div class="ttdeci">const std::string key1</div><div class="ttdef"><b>Definition</b> <a href="../../d0/db6/compressed__secondary__cache__test_8cc_source.html#l00029">compressed_secondary_cache_test.cc:29</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a4187f8253ddc0b8052032675a02608fc_cgraph.png" border="0" usemap="#ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a4187f8253ddc0b8052032675a02608fc_cgraph" alt=""/></div>
<map name="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a4187f8253ddc0b8052032675a02608fc_cgraph" id="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a4187f8253ddc0b8052032675a02608fc_cgraph">
<area shape="rect" title=" " alt="" coords="5,435,195,479"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f" title=" " alt="" coords="243,435,424,479"/>
<area shape="poly" title=" " alt="" coords="195,454,227,454,227,460,195,460"/>
<area shape="poly" title=" " alt="" coords="289,435,287,425,295,416,310,410,333,408,359,411,374,417,371,422,357,416,333,413,312,415,298,420,293,426,294,434"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a52798f38f71372d358d8623173bb6d34" title=" " alt="" coords="472,260,681,288"/>
<area shape="poly" title=" " alt="" coords="363,432,543,295,546,300,366,436"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a7fae4a23fa6b9c2c08ee516677913d33" title=" " alt="" coords="486,435,667,479"/>
<area shape="poly" title=" " alt="" coords="425,454,470,454,470,460,425,460"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a290b26395e5d5df4b78f0a164c7da733" title=" " alt="" coords="1029,837,1210,882"/>
<area shape="poly" title=" " alt="" coords="363,478,426,528,514,595,619,666,731,729,802,762,877,789,1014,832,1013,837,875,795,800,766,728,734,616,670,511,599,422,533,360,482"/>
<area shape="poly" title=" " alt="" coords="535,262,528,252,534,242,550,236,577,234,605,236,621,243,618,248,604,242,577,239,551,241,537,246,534,251,540,258"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ab9c977b6a99bf130cdd3700043959174" title=" " alt="" coords="752,152,933,197"/>
<area shape="poly" title=" " alt="" coords="614,257,728,213,763,200,765,205,730,218,616,262"/>
<area shape="poly" title=" " alt="" coords="792,152,791,142,799,133,817,127,843,125,871,128,888,134,886,139,870,133,842,131,818,133,802,137,796,143,797,151"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a5230d45b66475f5e342a7654313d4c0e" title=" " alt="" coords="1029,243,1210,287"/>
<area shape="poly" title=" " alt="" coords="914,195,1035,235,1033,240,913,200"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a6509ca94b39300b188e7fb07f6ba1e00" title=" " alt="" coords="1029,123,1210,167"/>
<area shape="poly" title=" " alt="" coords="933,162,1013,154,1013,159,934,167"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#aa46047142028b8969a7c1ff3b6779887" title=" " alt="" coords="1029,29,1210,74"/>
<area shape="poly" title=" " alt="" coords="879,149,936,116,1003,84,1019,77,1021,82,1005,89,939,121,882,154"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a47c51c16ecee27b619768f1b817a342c" title=" " alt="" coords="1283,545,1464,590"/>
<area shape="poly" title=" " alt="" coords="934,174,1017,180,1105,189,1184,205,1214,216,1237,229,1288,349,1360,530,1355,532,1284,351,1233,232,1212,220,1182,210,1105,195,1017,185,934,180"/>
<area shape="poly" title=" " alt="" coords="1071,123,1070,112,1078,104,1094,98,1119,96,1147,99,1163,105,1161,110,1146,104,1119,101,1095,103,1081,108,1075,114,1076,122"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a4fc52204fdb26cc0f621fb653413f486" title=" " alt="" coords="1283,284,1464,329"/>
<area shape="poly" title=" " alt="" coords="1197,165,1236,184,1295,227,1343,271,1339,275,1292,231,1234,189,1195,170"/>
<area shape="poly" title=" " alt="" coords="1330,284,1329,274,1336,265,1351,259,1374,257,1399,260,1413,266,1411,271,1397,265,1374,263,1352,265,1339,269,1334,275,1335,283"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a4879ddbc5707448566621f8e55cac1e6" title=" " alt="" coords="1512,284,1694,329"/>
<area shape="poly" title=" " alt="" coords="1465,304,1497,304,1497,309,1465,309"/>
<area shape="poly" title=" " alt="" coords="1559,284,1558,274,1565,265,1580,259,1603,257,1628,260,1643,266,1640,271,1626,265,1603,263,1582,265,1568,269,1563,275,1564,283"/>
<area shape="poly" title=" " alt="" coords="1071,29,1070,19,1078,10,1094,5,1119,3,1147,5,1163,12,1161,17,1146,10,1119,8,1095,10,1081,15,1075,21,1076,28"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ac153d89dc9eb4259b8cc75827d9a1dfd" title=" " alt="" coords="1283,29,1464,74"/>
<area shape="poly" title=" " alt="" coords="1210,49,1268,49,1268,54,1210,54"/>
<area shape="poly" title=" " alt="" coords="1330,29,1329,19,1336,10,1351,5,1374,3,1399,5,1413,12,1411,17,1397,10,1374,8,1352,10,1339,15,1334,21,1335,28"/>
<area shape="poly" title=" " alt="" coords="590,433,655,334,694,286,728,257,763,243,800,233,875,225,949,227,1016,237,1015,242,949,232,875,230,801,238,765,248,731,262,698,290,659,338,594,436"/>
<area shape="poly" title=" " alt="" coords="657,477,776,502,847,512,924,517,1003,517,1083,508,1161,490,1234,460,1271,435,1303,404,1329,371,1350,340,1354,343,1334,374,1307,408,1274,439,1236,465,1162,495,1084,513,1003,522,924,523,847,517,775,507,656,483"/>
<area shape="poly" title=" " alt="" coords="613,478,667,508,730,533,801,549,873,561,1019,575,1155,577,1267,573,1267,579,1155,582,1019,580,873,567,800,555,729,538,664,513,610,482"/>
<area shape="poly" title=" " alt="" coords="530,435,529,425,537,416,553,410,577,408,603,411,619,417,616,422,602,416,577,413,554,415,540,420,534,426,536,434"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a41dc92b90c65fe4db6b69108cf52569e" title=" " alt="" coords="752,435,933,479"/>
<area shape="poly" title=" " alt="" coords="668,454,737,454,737,460,668,460"/>
<area shape="rect" href="../../dd/da1/structROCKSDB__NAMESPACE_1_1ParsedInternalKey.html#a0e89fb7fd6a5cb67f94626e1b69ab6bb" title=" " alt="" coords="729,675,956,719"/>
<area shape="poly" title=" " alt="" coords="605,478,807,662,803,666,601,482"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a421b5c2517a97e33788c52ecabf6045e" title=" " alt="" coords="752,296,933,341"/>
<area shape="poly" title=" " alt="" coords="604,432,659,391,728,351,743,344,745,349,731,355,662,396,607,436"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a68c941da5f3083ca54122b381139b65b" title=" " alt="" coords="752,365,933,410"/>
<area shape="poly" title=" " alt="" coords="665,431,739,412,740,417,666,437"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="1029,405,1210,450"/>
<area shape="poly" title=" " alt="" coords="933,445,1013,436,1013,442,934,450"/>
<area shape="poly" title=" " alt="" coords="792,675,791,664,799,656,817,650,843,648,871,650,888,657,886,662,870,656,842,653,818,655,802,660,796,666,797,674"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a280e2eb48dc8f91c6e6477c3cbd96659" title=" " alt="" coords="1029,605,1210,650"/>
<area shape="poly" title=" " alt="" coords="934,671,1013,651,1014,657,935,677"/>
<area shape="rect" href="../../dc/d3f/classROCKSDB__NAMESPACE_1_1Comparator.html#a03f7ac443b54e608e1fc508c34aaf8fa" title=" " alt="" coords="1014,744,1224,789"/>
<area shape="poly" title=" " alt="" coords="935,717,1013,737,1012,742,934,723"/>
<area shape="rect" href="../../dc/d3f/classROCKSDB__NAMESPACE_1_1Comparator.html#a5873c3e92ec11e153b2c62fbafce9633" title=" " alt="" coords="1004,675,1235,719"/>
<area shape="poly" title=" " alt="" coords="956,694,988,694,988,700,956,700"/>
<area shape="poly" title=" " alt="" coords="878,718,1005,799,1058,828,1056,832,1002,803,875,722"/>
<area shape="poly" title=" " alt="" coords="1210,604,1267,590,1269,595,1211,609"/>
<area shape="poly" title=" " alt="" coords="1071,837,1070,827,1078,818,1094,813,1119,811,1147,813,1163,820,1161,825,1146,818,1119,816,1095,818,1081,823,1075,829,1076,836"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af026b3da84709ab0bfb50788de9e04b7" title=" " alt="" coords="1283,837,1464,882"/>
<area shape="poly" title=" " alt="" coords="1210,857,1268,857,1268,862,1210,862"/>
<area shape="poly" title=" " alt="" coords="1330,837,1329,827,1336,818,1351,813,1374,811,1399,813,1413,820,1411,825,1397,818,1374,816,1352,818,1339,823,1334,829,1335,836"/>
<area shape="poly" title=" " alt="" coords="792,296,791,286,799,277,817,271,843,269,871,272,888,278,886,283,870,277,842,275,818,277,802,281,796,287,797,295"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a0afa96709ce3127ae462031b1009f797" title=" " alt="" coords="1029,336,1210,381"/>
<area shape="poly" title=" " alt="" coords="934,329,1013,340,1012,346,933,334"/>
<area shape="poly" title=" " alt="" coords="1071,336,1070,326,1078,317,1094,311,1119,309,1147,312,1163,318,1161,323,1146,317,1119,315,1095,317,1081,321,1075,327,1076,335"/>
<area shape="poly" title=" " alt="" coords="934,398,1013,410,1012,415,933,403"/>
</map>
</div>

</div>
</div>
<a id="ab673429c61ee114e6c879b65a2397aa6" name="ab673429c61ee114e6c879b65a2397aa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab673429c61ee114e6c879b65a2397aa6">&#9670;&#160;</a></span>TYPED_TEST() <span class="overload">[6/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::clock_cache::TYPED_TEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Limits</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html">lru_cache_test.cc</a> 파일의 <a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html#l00499">499</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  499</span>                                   {</div>
<div class="line"><span class="lineno">  500</span>  <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> kCapacity = 64;</div>
<div class="line"><span class="lineno">  501</span>  this-&gt;NewShard(kCapacity, <span class="keyword">false</span> <span class="comment">/*strict_capacity_limit*/</span>);</div>
<div class="line"><span class="lineno">  502</span>  <span class="keyword">auto</span>&amp; shard = *this-&gt;shard_;</div>
<div class="line"><span class="lineno">  503</span>  <span class="keyword">using </span>HandleImpl = <span class="keyword">typename</span> <a class="code hl_class" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest&lt;TypeParam&gt;::Shard::HandleImpl</a>;</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>  <span class="keywordflow">for</span> (<span class="keywordtype">bool</span> strict_capacity_limit : {<span class="keyword">false</span>, <span class="keyword">true</span>, <span class="keyword">false</span>}) {</div>
<div class="line"><span class="lineno">  506</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a4dac08f15adc8cb1ee0e5c1bfb0f440d">SCOPED_TRACE</a>(<span class="stringliteral">&quot;strict_capacity_limit = &quot;</span> +</div>
<div class="line"><span class="lineno">  507</span>                 std::to_string(strict_capacity_limit));</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>    <span class="comment">// Also tests switching between strict limit and not</span></div>
<div class="line"><span class="lineno">  510</span>    shard.SetStrictCapacityLimit(strict_capacity_limit);</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>    <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a> hkey = this-&gt;TestHashedKey(<span class="charliteral">&#39;x&#39;</span>);</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>    <span class="comment">// Single entry charge beyond capacity</span></div>
<div class="line"><span class="lineno">  515</span>    {</div>
<div class="line"><span class="lineno">  516</span>      <a class="code hl_class" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a> s = shard.Insert(this-&gt;<a class="code hl_function" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f">TestKey</a>(hkey), hkey, <span class="keyword">nullptr</span> <span class="comment">/*value*/</span>,</div>
<div class="line"><span class="lineno">  517</span>                              &amp;<a class="code hl_variable" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#accde0b89ba929b499299147738c24fcc">kNoopCacheItemHelper</a>, kCapacity + 2 <span class="comment">/*charge*/</span>,</div>
<div class="line"><span class="lineno">  518</span>                              <span class="keyword">nullptr</span> <span class="comment">/*handle*/</span>, <a class="code hl_enumvalue" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84da41bc94cbd8eebea13ce0491b2ac11b88">Cache::Priority::LOW</a>);</div>
<div class="line"><span class="lineno">  519</span>      <span class="keywordflow">if</span> (strict_capacity_limit) {</div>
<div class="line"><span class="lineno">  520</span>        <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(s.<a class="code hl_function" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#ad9cb3c286fb178472c46839fd6cd4c0e">IsMemoryLimit</a>());</div>
<div class="line"><span class="lineno">  521</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  522</span>        <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(s);</div>
<div class="line"><span class="lineno">  523</span>      }</div>
<div class="line"><span class="lineno">  524</span>    }</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>    <span class="comment">// Single entry fills capacity</span></div>
<div class="line"><span class="lineno">  527</span>    {</div>
<div class="line"><span class="lineno">  528</span>      HandleImpl* h;</div>
<div class="line"><span class="lineno">  529</span>      <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a6892e90ee417adfb0c66aa7a49769895">ASSERT_OK</a>(shard.Insert(this-&gt;TestKey(hkey), hkey, <span class="keyword">nullptr</span> <span class="comment">/*value*/</span>,</div>
<div class="line"><span class="lineno">  530</span>                             &amp;kNoopCacheItemHelper, kCapacity <span class="comment">/*charge*/</span>, &amp;h,</div>
<div class="line"><span class="lineno">  531</span>                             Cache::Priority::LOW));</div>
<div class="line"><span class="lineno">  532</span>      <span class="comment">// Try to insert more</span></div>
<div class="line"><span class="lineno">  533</span>      Status s = this-&gt;Insert(<span class="charliteral">&#39;a&#39;</span>);</div>
<div class="line"><span class="lineno">  534</span>      <span class="keywordflow">if</span> (strict_capacity_limit) {</div>
<div class="line"><span class="lineno">  535</span>        <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(s.IsMemoryLimit());</div>
<div class="line"><span class="lineno">  536</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  537</span>        <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(s);</div>
<div class="line"><span class="lineno">  538</span>      }</div>
<div class="line"><span class="lineno">  539</span>      <span class="comment">// Release entry filling capacity.</span></div>
<div class="line"><span class="lineno">  540</span>      <span class="comment">// Cover useful = false case.</span></div>
<div class="line"><span class="lineno">  541</span>      shard.Release(h, <span class="keyword">false</span> <span class="comment">/*useful*/</span>, <span class="keyword">false</span> <span class="comment">/*erase_if_last_ref*/</span>);</div>
<div class="line"><span class="lineno">  542</span>    }</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>    <span class="comment">// Insert more than table size can handle to exceed occupancy limit.</span></div>
<div class="line"><span class="lineno">  545</span>    <span class="comment">// (Cleverly using mostly zero-charge entries, but some non-zero to</span></div>
<div class="line"><span class="lineno">  546</span>    <span class="comment">// verify usage tracking on detached entries.)</span></div>
<div class="line"><span class="lineno">  547</span>    {</div>
<div class="line"><span class="lineno">  548</span>      <span class="keywordtype">size_t</span> n = kCapacity * 5 + 1;</div>
<div class="line"><span class="lineno">  549</span>      std::unique_ptr&lt;HandleImpl* []&gt; ha { <span class="keyword">new</span> HandleImpl* [n] {} };</div>
<div class="line"><span class="lineno">  550</span>      Status s;</div>
<div class="line"><span class="lineno">  551</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n &amp;&amp; s.ok(); ++i) {</div>
<div class="line"><span class="lineno">  552</span>        hkey[1] = i;</div>
<div class="line"><span class="lineno">  553</span>        s = shard.Insert(this-&gt;TestKey(hkey), hkey, <span class="keyword">nullptr</span> <span class="comment">/*value*/</span>,</div>
<div class="line"><span class="lineno">  554</span>                         &amp;kNoopCacheItemHelper,</div>
<div class="line"><span class="lineno">  555</span>                         (i + kCapacity &lt; n) ? 0 : 1 <span class="comment">/*charge*/</span>, &amp;ha[i],</div>
<div class="line"><span class="lineno">  556</span>                         Cache::Priority::LOW);</div>
<div class="line"><span class="lineno">  557</span>        <span class="keywordflow">if</span> (i == 0) {</div>
<div class="line"><span class="lineno">  558</span>          <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(s);</div>
<div class="line"><span class="lineno">  559</span>        }</div>
<div class="line"><span class="lineno">  560</span>      }</div>
<div class="line"><span class="lineno">  561</span>      <span class="keywordflow">if</span> (strict_capacity_limit) {</div>
<div class="line"><span class="lineno">  562</span>        <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(s.IsMemoryLimit());</div>
<div class="line"><span class="lineno">  563</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  564</span>        <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(s);</div>
<div class="line"><span class="lineno">  565</span>      }</div>
<div class="line"><span class="lineno">  566</span>      <span class="comment">// Same result if not keeping a reference</span></div>
<div class="line"><span class="lineno">  567</span>      s = this-&gt;Insert(<span class="charliteral">&#39;a&#39;</span>);</div>
<div class="line"><span class="lineno">  568</span>      <span class="keywordflow">if</span> (strict_capacity_limit) {</div>
<div class="line"><span class="lineno">  569</span>        <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ac33e7cdfb5d44a7a0f0ab552eb5c3c6a">EXPECT_TRUE</a>(s.IsMemoryLimit());</div>
<div class="line"><span class="lineno">  570</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  571</span>        <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(s);</div>
<div class="line"><span class="lineno">  572</span>      }</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(shard.GetOccupancyCount(), shard.GetOccupancyLimit());</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>      <span class="comment">// Regardless, we didn&#39;t allow table to actually get full</span></div>
<div class="line"><span class="lineno">  577</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#af28c06b2b5e8dee151896f299f6610cf">EXPECT_LT</a>(shard.GetOccupancyCount(), shard.GetTableAddressCount());</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>      <span class="comment">// Release handles</span></div>
<div class="line"><span class="lineno">  580</span>      <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; n; ++i) {</div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordflow">if</span> (ha[i]) {</div>
<div class="line"><span class="lineno">  582</span>          shard.Release(ha[i]);</div>
<div class="line"><span class="lineno">  583</span>        }</div>
<div class="line"><span class="lineno">  584</span>      }</div>
<div class="line"><span class="lineno">  585</span>    }</div>
<div class="line"><span class="lineno">  586</span>  }</div>
<div class="line"><span class="lineno">  587</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1Status_html"><div class="ttname"><a href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">ROCKSDB_NAMESPACE::Status</a></div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd0/include_2rocksdb_2status_8h_source.html#l00035">status.h:35</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1Status_html_ad9cb3c286fb178472c46839fd6cd4c0e"><div class="ttname"><a href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#ad9cb3c286fb178472c46839fd6cd4c0e">ROCKSDB_NAMESPACE::Status::IsMemoryLimit</a></div><div class="ttdeci">bool IsMemoryLimit() const</div><div class="ttdef"><b>Definition</b> <a href="../../d9/dd0/include_2rocksdb_2status_8h_source.html#l00453">status.h:453</a></div></div>
<div class="ttc" id="agtest_8h_html_af28c06b2b5e8dee151896f299f6610cf"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#af28c06b2b5e8dee151896f299f6610cf">EXPECT_LT</a></div><div class="ttdeci">#define EXPECT_LT(val1, val2)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21743">gtest.h:21743</a></div></div>
<div class="ttc" id="anamespaceROCKSDB__NAMESPACE_html_accde0b89ba929b499299147738c24fcc"><div class="ttname"><a href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#accde0b89ba929b499299147738c24fcc">ROCKSDB_NAMESPACE::kNoopCacheItemHelper</a></div><div class="ttdeci">const Cache::CacheItemHelper kNoopCacheItemHelper</div><div class="ttdef"><b>Definition</b> <a href="../../db/d4b/cache_8cc_source.html#l00019">cache.cc:19</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab673429c61ee114e6c879b65a2397aa6_cgraph.png" border="0" usemap="#ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab673429c61ee114e6c879b65a2397aa6_cgraph" alt=""/></div>
<map name="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab673429c61ee114e6c879b65a2397aa6_cgraph" id="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_ab673429c61ee114e6c879b65a2397aa6_cgraph">
<area shape="rect" title=" " alt="" coords="5,207,195,251"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#ad9cb3c286fb178472c46839fd6cd4c0e" title=" " alt="" coords="243,108,424,153"/>
<area shape="poly" title=" " alt="" coords="154,204,263,157,265,162,156,209"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a44cf4d9e0f59181d4838378a46b41c73" title=" " alt="" coords="243,207,424,251"/>
<area shape="poly" title=" " alt="" coords="195,226,227,226,227,232,195,232"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a057ed32645e297021f1817797b2d659f" title=" " alt="" coords="243,363,424,407"/>
<area shape="poly" title=" " alt="" coords="136,249,287,351,284,356,133,254"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#afc660ff45fc7c890834fd65eb0ee6c9c" title=" " alt="" coords="486,161,667,206"/>
<area shape="poly" title=" " alt="" coords="425,148,471,158,470,163,424,153"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#acf8261295e4ab4ec8c132ed51b6feb71" title=" " alt="" coords="752,92,933,137"/>
<area shape="poly" title=" " alt="" coords="383,105,425,89,471,77,530,69,576,67,682,77,737,86,737,91,681,82,576,72,531,74,473,82,427,94,385,110"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a050fc5495745ccd2e8fe55855178ae67" title=" " alt="" coords="486,92,667,137"/>
<area shape="poly" title=" " alt="" coords="424,122,470,119,471,124,425,127"/>
<area shape="poly" title=" " alt="" coords="665,158,739,139,740,144,666,163"/>
<area shape="poly" title=" " alt="" coords="668,112,737,112,737,117,668,117"/>
<area shape="poly" title=" " alt="" coords="424,209,470,201,471,206,425,215"/>
<area shape="poly" title=" " alt="" coords="425,245,485,251,551,250,618,240,650,230,680,216,696,201,704,184,711,165,728,147,736,141,739,146,731,151,716,168,709,186,701,205,683,221,652,235,619,245,551,255,484,256,424,250"/>
<area shape="poly" title=" " alt="" coords="289,363,287,353,295,344,310,338,333,336,359,339,374,345,371,350,357,344,333,341,312,343,298,348,293,354,294,362"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a52798f38f71372d358d8623173bb6d34" title=" " alt="" coords="472,334,681,362"/>
<area shape="poly" title=" " alt="" coords="424,368,466,362,467,367,425,374"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a7fae4a23fa6b9c2c08ee516677913d33" title=" " alt="" coords="486,428,667,473"/>
<area shape="poly" title=" " alt="" coords="420,405,477,421,476,426,418,411"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a290b26395e5d5df4b78f0a164c7da733" title=" " alt="" coords="1029,808,1210,853"/>
<area shape="poly" title=" " alt="" coords="356,406,414,469,501,555,610,646,669,688,731,724,801,756,875,781,948,800,1014,813,1013,818,947,805,874,786,799,761,728,729,666,692,606,650,497,559,410,473,352,409"/>
<area shape="poly" title=" " alt="" coords="535,335,528,325,534,315,550,309,577,307,605,310,621,316,618,321,604,315,577,312,551,314,537,319,534,325,540,332"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ab9c977b6a99bf130cdd3700043959174" title=" " alt="" coords="752,185,933,230"/>
<area shape="poly" title=" " alt="" coords="596,331,654,292,728,249,762,234,764,239,731,254,657,297,599,336"/>
<area shape="poly" title=" " alt="" coords="792,185,791,175,799,166,817,161,843,159,871,161,888,168,886,173,870,166,842,164,818,166,802,171,796,177,797,184"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a5230d45b66475f5e342a7654313d4c0e" title=" " alt="" coords="1029,243,1210,287"/>
<area shape="poly" title=" " alt="" coords="934,224,1014,240,1013,246,933,229"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a6509ca94b39300b188e7fb07f6ba1e00" title=" " alt="" coords="1029,123,1210,167"/>
<area shape="poly" title=" " alt="" coords="933,185,1013,166,1014,172,934,190"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#aa46047142028b8969a7c1ff3b6779887" title=" " alt="" coords="1029,29,1210,74"/>
<area shape="poly" title=" " alt="" coords="897,183,927,166,954,147,968,131,977,115,986,100,1002,84,1013,77,1016,82,1005,88,990,103,981,118,973,134,957,151,929,171,900,187"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a47c51c16ecee27b619768f1b817a342c" title=" " alt="" coords="1283,447,1464,491"/>
<area shape="poly" title=" " alt="" coords="933,187,1003,181,1082,182,1122,187,1162,196,1201,210,1236,228,1263,248,1286,272,1323,326,1349,383,1365,431,1360,433,1344,385,1318,329,1282,275,1259,252,1234,233,1198,214,1161,201,1122,193,1082,187,1004,186,934,193"/>
<area shape="poly" title=" " alt="" coords="1071,123,1070,112,1078,104,1094,98,1119,96,1147,99,1163,105,1161,110,1146,104,1119,101,1095,103,1081,108,1075,114,1076,122"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a4fc52204fdb26cc0f621fb653413f486" title=" " alt="" coords="1283,213,1464,258"/>
<area shape="poly" title=" " alt="" coords="1185,165,1295,205,1294,210,1183,170"/>
<area shape="poly" title=" " alt="" coords="1330,213,1329,203,1336,194,1351,189,1374,187,1399,189,1413,196,1411,201,1397,194,1374,192,1352,194,1339,199,1334,205,1335,212"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a4879ddbc5707448566621f8e55cac1e6" title=" " alt="" coords="1512,213,1694,258"/>
<area shape="poly" title=" " alt="" coords="1465,233,1497,233,1497,238,1465,238"/>
<area shape="poly" title=" " alt="" coords="1559,213,1558,203,1565,194,1580,189,1603,187,1628,189,1643,196,1640,201,1626,194,1603,192,1582,194,1568,199,1563,205,1564,212"/>
<area shape="poly" title=" " alt="" coords="1071,29,1070,19,1078,10,1094,5,1119,3,1147,5,1163,12,1161,17,1146,10,1119,8,1095,10,1081,15,1075,21,1076,28"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ac153d89dc9eb4259b8cc75827d9a1dfd" title=" " alt="" coords="1283,29,1464,74"/>
<area shape="poly" title=" " alt="" coords="1210,49,1268,49,1268,54,1210,54"/>
<area shape="poly" title=" " alt="" coords="1330,29,1329,19,1336,10,1351,5,1374,3,1399,5,1413,12,1411,17,1397,10,1374,8,1352,10,1339,15,1334,21,1335,28"/>
<area shape="poly" title=" " alt="" coords="613,425,646,400,679,371,693,353,701,336,710,319,728,304,762,287,798,274,872,257,946,251,1013,251,1013,256,946,256,873,263,799,279,764,292,731,309,714,323,705,338,697,356,683,375,650,405,616,430"/>
<area shape="poly" title=" " alt="" coords="607,425,672,380,728,348,803,326,867,316,925,314,980,316,1035,319,1094,320,1159,313,1234,297,1278,282,1318,263,1320,268,1280,287,1236,302,1160,319,1094,325,1035,325,980,322,925,319,868,322,804,331,730,353,675,385,610,430"/>
<area shape="poly" title=" " alt="" coords="668,450,1267,464,1267,469,668,455"/>
<area shape="poly" title=" " alt="" coords="530,428,529,418,537,409,553,403,577,401,603,404,619,410,616,415,602,409,577,407,554,409,540,413,534,419,536,427"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a41dc92b90c65fe4db6b69108cf52569e" title=" " alt="" coords="752,576,933,621"/>
<area shape="poly" title=" " alt="" coords="605,471,660,517,731,561,743,567,741,572,728,566,657,521,601,475"/>
<area shape="rect" href="../../dd/da1/structROCKSDB__NAMESPACE_1_1ParsedInternalKey.html#a0e89fb7fd6a5cb67f94626e1b69ab6bb" title=" " alt="" coords="729,669,956,714"/>
<area shape="poly" title=" " alt="" coords="595,471,650,547,688,591,731,631,775,660,772,664,728,635,684,595,646,551,590,475"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a421b5c2517a97e33788c52ecabf6045e" title=" " alt="" coords="752,387,933,431"/>
<area shape="poly" title=" " alt="" coords="667,434,736,423,737,428,668,439"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a68c941da5f3083ca54122b381139b65b" title=" " alt="" coords="752,507,933,551"/>
<area shape="poly" title=" " alt="" coords="656,471,751,499,749,504,654,476"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="1029,507,1210,551"/>
<area shape="poly" title=" " alt="" coords="933,573,1013,553,1014,558,934,578"/>
<area shape="poly" title=" " alt="" coords="792,669,791,659,799,650,817,645,843,643,871,645,888,652,886,657,870,650,842,648,818,650,802,655,796,661,797,668"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a280e2eb48dc8f91c6e6477c3cbd96659" title=" " alt="" coords="1029,576,1210,621"/>
<area shape="poly" title=" " alt="" coords="903,666,1003,630,1025,623,1027,628,1005,636,905,671"/>
<area shape="rect" href="../../dc/d3f/classROCKSDB__NAMESPACE_1_1Comparator.html#a03f7ac443b54e608e1fc508c34aaf8fa" title=" " alt="" coords="1014,715,1224,759"/>
<area shape="poly" title=" " alt="" coords="957,708,1000,715,999,720,956,713"/>
<area shape="rect" href="../../dc/d3f/classROCKSDB__NAMESPACE_1_1Comparator.html#a5873c3e92ec11e153b2c62fbafce9633" title=" " alt="" coords="1004,645,1235,690"/>
<area shape="poly" title=" " alt="" coords="956,679,988,676,988,682,956,684"/>
<area shape="poly" title=" " alt="" coords="890,712,1061,798,1058,803,888,717"/>
<area shape="poly" title=" " alt="" coords="1206,573,1234,561,1286,531,1332,499,1335,503,1289,536,1236,566,1208,578"/>
<area shape="poly" title=" " alt="" coords="1071,808,1070,798,1078,789,1094,783,1119,781,1147,784,1163,790,1161,795,1146,789,1119,787,1095,789,1081,793,1075,799,1076,807"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af026b3da84709ab0bfb50788de9e04b7" title=" " alt="" coords="1283,808,1464,853"/>
<area shape="poly" title=" " alt="" coords="1210,828,1268,828,1268,833,1210,833"/>
<area shape="poly" title=" " alt="" coords="1330,808,1329,798,1336,789,1351,783,1374,781,1399,784,1413,790,1411,795,1397,789,1374,787,1352,789,1339,793,1334,799,1335,807"/>
<area shape="poly" title=" " alt="" coords="792,387,791,376,799,368,817,362,843,360,871,362,888,369,886,374,870,368,842,365,818,367,802,372,796,378,797,386"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a0afa96709ce3127ae462031b1009f797" title=" " alt="" coords="1029,387,1210,431"/>
<area shape="poly" title=" " alt="" coords="934,406,1013,406,1013,412,934,412"/>
<area shape="poly" title=" " alt="" coords="1071,387,1070,376,1078,368,1094,362,1119,360,1147,363,1163,369,1161,374,1146,368,1119,365,1095,367,1081,372,1075,378,1076,386"/>
<area shape="poly" title=" " alt="" coords="934,526,1013,526,1013,532,934,532"/>
</map>
</div>

</div>
</div>
<a id="a13f2c34917c7c46800f9ab153aeae627" name="a13f2c34917c7c46800f9ab153aeae627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13f2c34917c7c46800f9ab153aeae627">&#9670;&#160;</a></span>TYPED_TEST() <span class="overload">[7/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::clock_cache::TYPED_TEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Misc</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html">lru_cache_test.cc</a> 파일의 <a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html#l00476">476</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  476</span>                                 {</div>
<div class="line"><span class="lineno">  477</span>  this-&gt;NewShard(3);</div>
<div class="line"><span class="lineno">  478</span>  <span class="comment">// NOTE: templated base class prevents simple naming of inherited members,</span></div>
<div class="line"><span class="lineno">  479</span>  <span class="comment">// so lots of `this-&gt;`</span></div>
<div class="line"><span class="lineno">  480</span>  <span class="keyword">auto</span>&amp; shard = *this-&gt;shard_;</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>  <span class="comment">// Key size stuff</span></div>
<div class="line"><span class="lineno">  483</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;InsertWithLen(<span class="charliteral">&#39;a&#39;</span>, 16));</div>
<div class="line"><span class="lineno">  484</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#aabff702ff226f2d0eba0f919a309080d">EXPECT_NOK</a>(this-&gt;InsertWithLen(<span class="charliteral">&#39;b&#39;</span>, 15));</div>
<div class="line"><span class="lineno">  485</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#a72818a1b73e08f703b93b673513ca08a">EXPECT_OK</a>(this-&gt;InsertWithLen(<span class="charliteral">&#39;b&#39;</span>, 16));</div>
<div class="line"><span class="lineno">  486</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#aabff702ff226f2d0eba0f919a309080d">EXPECT_NOK</a>(this-&gt;InsertWithLen(<span class="charliteral">&#39;c&#39;</span>, 17));</div>
<div class="line"><span class="lineno">  487</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#aabff702ff226f2d0eba0f919a309080d">EXPECT_NOK</a>(this-&gt;InsertWithLen(<span class="charliteral">&#39;d&#39;</span>, 1000));</div>
<div class="line"><span class="lineno">  488</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#aabff702ff226f2d0eba0f919a309080d">EXPECT_NOK</a>(this-&gt;InsertWithLen(<span class="charliteral">&#39;e&#39;</span>, 11));</div>
<div class="line"><span class="lineno">  489</span>  <a class="code hl_define" href="../../dc/d42/testharness_8h.html#aabff702ff226f2d0eba0f919a309080d">EXPECT_NOK</a>(this-&gt;InsertWithLen(<span class="charliteral">&#39;f&#39;</span>, 0));</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>  <span class="comment">// Some of this is motivated by code coverage</span></div>
<div class="line"><span class="lineno">  492</span>  std::string wrong_size_key(15, <span class="charliteral">&#39;x&#39;</span>);</div>
<div class="line"><span class="lineno">  493</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(this-&gt;Lookup(wrong_size_key, this-&gt;TestHashedKey(<span class="charliteral">&#39;x&#39;</span>)));</div>
<div class="line"><span class="lineno">  494</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(shard.Ref(<span class="keyword">nullptr</span>));</div>
<div class="line"><span class="lineno">  495</span>  <a class="code hl_define" href="../../d8/d73/gtest_8h.html#aeb6c7ae89f440c90c1a1815951c836da">EXPECT_FALSE</a>(shard.Release(<span class="keyword">nullptr</span>));</div>
<div class="line"><span class="lineno">  496</span>  shard.Erase(wrong_size_key, this-&gt;TestHashedKey(<span class="charliteral">&#39;x&#39;</span>));  <span class="comment">// no-op</span></div>
<div class="line"><span class="lineno">  497</span>}</div>
<div class="ttc" id="atestharness_8h_html_aabff702ff226f2d0eba0f919a309080d"><div class="ttname"><a href="../../dc/d42/testharness_8h.html#aabff702ff226f2d0eba0f919a309080d">EXPECT_NOK</a></div><div class="ttdeci">#define EXPECT_NOK(s)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/d42/testharness_8h_source.html#l00087">testharness.h:87</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d5fb7420b9c2bb88554fc29029d7266" name="a9d5fb7420b9c2bb88554fc29029d7266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d5fb7420b9c2bb88554fc29029d7266">&#9670;&#160;</a></span>TYPED_TEST() <span class="overload">[8/8]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::clock_cache::TYPED_TEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TableSizesTest</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html">lru_cache_test.cc</a> 파일의 <a class="el" href="../../dc/d1d/lru__cache__test_8cc_source.html#l00985">985</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  985</span>                                           {</div>
<div class="line"><span class="lineno">  986</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> est_val_size : {1U, 5U, 123U, 2345U, 345678U}) {</div>
<div class="line"><span class="lineno">  987</span>    <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a4dac08f15adc8cb1ee0e5c1bfb0f440d">SCOPED_TRACE</a>(<span class="stringliteral">&quot;est_val_size = &quot;</span> + std::to_string(est_val_size));</div>
<div class="line"><span class="lineno">  988</span>    <span class="keywordflow">for</span> (<span class="keywordtype">double</span> est_count : {1.1, 2.2, 511.9, 512.1, 2345.0}) {</div>
<div class="line"><span class="lineno">  989</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a4dac08f15adc8cb1ee0e5c1bfb0f440d">SCOPED_TRACE</a>(<span class="stringliteral">&quot;est_count = &quot;</span> + std::to_string(est_count));</div>
<div class="line"><span class="lineno">  990</span>      <span class="keywordtype">size_t</span> capacity = <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(est_val_size * est_count);</div>
<div class="line"><span class="lineno">  991</span>      <span class="comment">// kDontChargeCacheMetadata</span></div>
<div class="line"><span class="lineno">  992</span>      <span class="keyword">auto</span> cache = HyperClockCacheOptions(</div>
<div class="line"><span class="lineno">  993</span>                       capacity, est_val_size, <span class="comment">/*num shard_bits*/</span> -1,</div>
<div class="line"><span class="lineno">  994</span>                       <span class="comment">/*strict_capacity_limit*/</span> <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno">  995</span>                       <span class="comment">/*memory_allocator*/</span> <span class="keyword">nullptr</span>, kDontChargeCacheMetadata)</div>
<div class="line"><span class="lineno">  996</span>                       .MakeSharedCache();</div>
<div class="line"><span class="lineno">  997</span>      <span class="comment">// Table sizes are currently only powers of two</span></div>
<div class="line"><span class="lineno">  998</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ab7a0ff4bfa4d9b27baa118d8b0756ca0">EXPECT_GE</a>(cache-&gt;GetTableAddressCount(),</div>
<div class="line"><span class="lineno">  999</span>                est_count / FixedHyperClockTable::kLoadFactor);</div>
<div class="line"><span class="lineno"> 1000</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ae0f265632323b4a07b585dcfde10f60a">EXPECT_LE</a>(cache-&gt;GetTableAddressCount(),</div>
<div class="line"><span class="lineno"> 1001</span>                est_count / FixedHyperClockTable::kLoadFactor * 2.0);</div>
<div class="line"><span class="lineno"> 1002</span>      <a class="code hl_define" href="../../d8/d73/gtest_8h.html#a4159019abda84f5366acdb7604ff220a">EXPECT_EQ</a>(cache-&gt;GetUsage(), 0);</div>
<div class="line"><span class="lineno"> 1003</span> </div>
<div class="line"><span class="lineno"> 1004</span>      <span class="comment">// kFullChargeMetaData</span></div>
<div class="line"><span class="lineno"> 1005</span>      <span class="comment">// Because table sizes are currently only powers of two, sizes get</span></div>
<div class="line"><span class="lineno"> 1006</span>      <span class="comment">// really weird when metadata is a huge portion of capacity. For example,</span></div>
<div class="line"><span class="lineno"> 1007</span>      <span class="comment">// doubling the table size could cut by 90% the space available to</span></div>
<div class="line"><span class="lineno"> 1008</span>      <span class="comment">// values. Therefore, we omit those weird cases for now.</span></div>
<div class="line"><span class="lineno"> 1009</span>      <span class="keywordflow">if</span> (est_val_size &gt;= 512) {</div>
<div class="line"><span class="lineno"> 1010</span>        cache = HyperClockCacheOptions(</div>
<div class="line"><span class="lineno"> 1011</span>                    capacity, est_val_size, <span class="comment">/*num shard_bits*/</span> -1,</div>
<div class="line"><span class="lineno"> 1012</span>                    <span class="comment">/*strict_capacity_limit*/</span> <span class="keyword">false</span>,</div>
<div class="line"><span class="lineno"> 1013</span>                    <span class="comment">/*memory_allocator*/</span> <span class="keyword">nullptr</span>, kFullChargeCacheMetadata)</div>
<div class="line"><span class="lineno"> 1014</span>                    .MakeSharedCache();</div>
<div class="line"><span class="lineno"> 1015</span>        <span class="keywordtype">double</span> est_count_after_meta =</div>
<div class="line"><span class="lineno"> 1016</span>            (capacity - cache-&gt;GetUsage()) * 1.0 / est_val_size;</div>
<div class="line"><span class="lineno"> 1017</span>        <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ab7a0ff4bfa4d9b27baa118d8b0756ca0">EXPECT_GE</a>(cache-&gt;GetTableAddressCount(),</div>
<div class="line"><span class="lineno"> 1018</span>                  est_count_after_meta / FixedHyperClockTable::kLoadFactor);</div>
<div class="line"><span class="lineno"> 1019</span>        <a class="code hl_define" href="../../d8/d73/gtest_8h.html#ae0f265632323b4a07b585dcfde10f60a">EXPECT_LE</a>(</div>
<div class="line"><span class="lineno"> 1020</span>            cache-&gt;GetTableAddressCount(),</div>
<div class="line"><span class="lineno"> 1021</span>            est_count_after_meta / FixedHyperClockTable::kLoadFactor * 2.0);</div>
<div class="line"><span class="lineno"> 1022</span>      }</div>
<div class="line"><span class="lineno"> 1023</span>    }</div>
<div class="line"><span class="lineno"> 1024</span>  }</div>
<div class="line"><span class="lineno"> 1025</span>}</div>
<div class="ttc" id="agtest_8h_html_ab7a0ff4bfa4d9b27baa118d8b0756ca0"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#ab7a0ff4bfa4d9b27baa118d8b0756ca0">EXPECT_GE</a></div><div class="ttdeci">#define EXPECT_GE(val1, val2)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21745">gtest.h:21745</a></div></div>
<div class="ttc" id="agtest_8h_html_ae0f265632323b4a07b585dcfde10f60a"><div class="ttname"><a href="../../d8/d73/gtest_8h.html#ae0f265632323b4a07b585dcfde10f60a">EXPECT_LE</a></div><div class="ttdeci">#define EXPECT_LE(val1, val2)</div><div class="ttdef"><b>Definition</b> <a href="../../d8/d73/gtest_8h_source.html#l21741">gtest.h:21741</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a9d5fb7420b9c2bb88554fc29029d7266_cgraph.png" border="0" usemap="#ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a9d5fb7420b9c2bb88554fc29029d7266_cgraph" alt=""/></div>
<map name="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a9d5fb7420b9c2bb88554fc29029d7266_cgraph" id="ad9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache_a9d5fb7420b9c2bb88554fc29029d7266_cgraph">
<area shape="rect" title=" " alt="" coords="5,68,195,113"/>
<area shape="rect" href="../../d1/d98/structROCKSDB__NAMESPACE_1_1HyperClockCacheOptions.html#a300458f9c90910595e2049f47f91a7b1" title=" " alt="" coords="243,60,429,121"/>
<area shape="poly" title=" " alt="" coords="195,88,227,88,227,93,195,93"/>
<area shape="poly" title=" " alt="" coords="289,59,291,49,299,40,314,35,336,33,361,36,376,43,373,48,359,41,336,38,316,40,302,45,295,51,295,60"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#afaeb68ff36678257f1f80dd21d46b58b" title=" " alt="" coords="477,29,671,74"/>
<area shape="poly" title=" " alt="" coords="429,73,461,67,462,73,430,78"/>
<area shape="rect" href="../../d1/d98/structROCKSDB__NAMESPACE_1_1HyperClockCacheOptions.html#a1245c30c37c1739b9f5f656f843b5258" title=" " alt="" coords="477,98,671,160"/>
<area shape="poly" title=" " alt="" coords="430,103,462,108,461,113,429,108"/>
<area shape="poly" title=" " alt="" coords="529,29,528,19,535,10,551,5,574,3,600,5,615,12,613,17,598,10,574,8,552,10,538,15,533,21,534,28"/>
<area shape="rect" href="../../d8/d1f/structROCKSDB__NAMESPACE_1_1ShardedCacheOptions.html#a625cdd3a901f49ccc5135f930474a2da" title=" " alt="" coords="719,98,901,160"/>
<area shape="poly" title=" " alt="" coords="672,126,703,126,703,132,672,132"/>
</map>
</div>

</div>
</div>
<a id="a8a3a0f4b56f20b8ddfb81f626cbf2dd3" name="a8a3a0f4b56f20b8ddfb81f626cbf2dd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a3a0f4b56f20b8ddfb81f626cbf2dd3">&#9670;&#160;</a></span>TYPED_TEST_CASE()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::clock_cache::TYPED_TEST_CASE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d44/classROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockCacheTest.html">ClockCacheTest</a></td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#ac9da39bc72bc3f699ad7f7dfb3bb01be">ClockCacheTypes</a></td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html">ROCKSDB_NAMESPACE</a></li><li class="navelem"><a class="el" href="../../d9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache.html">clock_cache</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
