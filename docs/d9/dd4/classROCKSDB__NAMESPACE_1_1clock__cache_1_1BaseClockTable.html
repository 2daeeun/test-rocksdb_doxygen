<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RocksDB Doxygen: ROCKSDB_NAMESPACE::clock_cache::BaseClockTable 클래스 참조</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RocksDB Doxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','검색',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">클래스</a> &#124;
<a href="#pub-methods">Public 멤버 함수</a> &#124;
<a href="#pro-attribs">Protected 속성</a> &#124;
<a href="#pri-methods">Private 멤버 함수</a> &#124;
<a href="../../d4/d9f/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable-members.html">모든 멤버 목록</a>  </div>
  <div class="headertitle"><div class="title">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable 클래스 참조</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a>&gt;</code></p>
<div class="dynheader">
ROCKSDB_NAMESPACE::clock_cache::BaseClockTable에 대한 상속 다이어그램 : </div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dc4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable__inherit__graph.png" border="0" usemap="#aROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_inherit__map" alt="Inheritance graph"/></div>
<map name="aROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_inherit__map" id="aROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_inherit__map">
<area shape="rect" title=" " alt="" coords="5,56,216,101"/>
<area shape="rect" href="../../d1/d81/classROCKSDB__NAMESPACE_1_1clock__cache_1_1AutoHyperClockTable.html" title=" " alt="" coords="266,5,479,67"/>
<area shape="poly" title=" " alt="" coords="231,57,265,51,266,56,231,62"/>
<area shape="rect" href="../../d3/d91/classROCKSDB__NAMESPACE_1_1clock__cache_1_1FixedHyperClockTable.html" title=" " alt="" coords="264,91,481,152"/>
<area shape="poly" title=" " alt="" coords="232,96,264,101,263,106,231,101"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">범례</a>]</span></center></div>
<div class="dynheader">
ROCKSDB_NAMESPACE::clock_cache::BaseClockTable에 대한 협력 다이어그램:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d92/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable__coll__graph.png" border="0" usemap="#aROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_coll__map" alt="Collaboration graph"/></div>
<map name="aROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_coll__map" id="aROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_coll__map">
<area shape="rect" title=" " alt="" coords="890,148,1100,192"/>
<area shape="rect" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html" title=" " alt="" coords="474,49,677,94"/>
<area shape="poly" title=" " alt="" coords="693,70,779,79,867,98,918,120,962,145,959,150,916,124,865,103,778,84,692,75"/>
<area shape="rect" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html" title=" " alt="" coords="485,142,666,187"/>
<area shape="poly" title=" " alt="" coords="682,166,701,166,889,168,889,173,701,171,682,171"/>
<area shape="rect" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html" title=" " alt="" coords="236,142,424,187"/>
<area shape="poly" title=" " alt="" coords="440,162,484,162,484,167,440,167"/>
<area shape="rect" href="../../d1/d8f/classROCKSDB__NAMESPACE_1_1MemoryAllocator.html" title=" " alt="" coords="485,212,666,256"/>
<area shape="poly" title=" " alt="" coords="681,217,866,190,889,186,890,191,866,195,682,222"/>
<area shape="rect" href="../../d0/deb/classROCKSDB__NAMESPACE_1_1Customizable.html" title=" " alt="" coords="240,212,421,256"/>
<area shape="poly" title=" " alt="" coords="437,231,484,231,484,237,437,237"/>
<area shape="rect" href="../../da/dc0/classROCKSDB__NAMESPACE_1_1Configurable.html" title=" " alt="" coords="5,212,187,256"/>
<area shape="poly" title=" " alt="" coords="202,231,239,231,239,237,202,237"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">범례</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
클래스</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/db3/structROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_1_1BaseOpts.html">BaseOpts</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d35/structROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_1_1EvictionData.html">EvictionData</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 멤버 함수</h2></td></tr>
<tr class="memitem:a589b754f612e4acebf3403fd26f9a43e" id="r_a589b754f612e4acebf3403fd26f9a43e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a589b754f612e4acebf3403fd26f9a43e">BaseClockTable</a> (<a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ad6fbfb4d192b433af6ebde26a12775dc">CacheMetadataChargePolicy</a> metadata_charge_policy, <a class="el" href="../../d1/d8f/classROCKSDB__NAMESPACE_1_1MemoryAllocator.html">MemoryAllocator</a> *allocator, const <a class="el" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#af94e718286ee6148eacb1e95808c2399">Cache::EvictionCallback</a> *eviction_callback, const uint32_t *hash_seed)</td></tr>
<tr class="separator:a589b754f612e4acebf3403fd26f9a43e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc95f17b3d2608b533954a2b123e893" id="r_abbc95f17b3d2608b533954a2b123e893"><td class="memTemplParams" colspan="2">template&lt;class Table&gt; </td></tr>
<tr class="memitem:abbc95f17b3d2608b533954a2b123e893"><td class="memTemplItemLeft" align="right" valign="top">Table::HandleImpl *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#abbc95f17b3d2608b533954a2b123e893">CreateStandalone</a> (<a class="el" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html">ClockHandleBasicData</a> &amp;proto, size_t capacity, uint32_t eec_and_scl, bool allow_uncharged)</td></tr>
<tr class="separator:abbc95f17b3d2608b533954a2b123e893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f4cbb156e643c3efa9022b1c3fc1463" id="r_a2f4cbb156e643c3efa9022b1c3fc1463"><td class="memTemplParams" colspan="2">template&lt;class Table&gt; </td></tr>
<tr class="memitem:a2f4cbb156e643c3efa9022b1c3fc1463"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a2f4cbb156e643c3efa9022b1c3fc1463">Insert</a> (const <a class="el" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html">ClockHandleBasicData</a> &amp;proto, typename Table::HandleImpl **handle, <a class="el" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84d">Cache::Priority</a> priority, size_t capacity, uint32_t eec_and_scl)</td></tr>
<tr class="separator:a2f4cbb156e643c3efa9022b1c3fc1463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6ee78d01b300b1f03b3f8804def847b" id="r_aa6ee78d01b300b1f03b3f8804def847b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6ee78d01b300b1f03b3f8804def847b">Ref</a> (<a class="el" href="../../d7/d95/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandle.html">ClockHandle</a> &amp;handle)</td></tr>
<tr class="separator:aa6ee78d01b300b1f03b3f8804def847b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59235f2b9afd06e12c6de65477802773" id="r_a59235f2b9afd06e12c6de65477802773"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59235f2b9afd06e12c6de65477802773">GetOccupancy</a> () const</td></tr>
<tr class="separator:a59235f2b9afd06e12c6de65477802773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a560102008d3d124ef021139ab558df3d" id="r_a560102008d3d124ef021139ab558df3d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a560102008d3d124ef021139ab558df3d">GetUsage</a> () const</td></tr>
<tr class="separator:a560102008d3d124ef021139ab558df3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124b0bd45682aaf62baa5131e38deb65" id="r_a124b0bd45682aaf62baa5131e38deb65"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a124b0bd45682aaf62baa5131e38deb65">GetStandaloneUsage</a> () const</td></tr>
<tr class="separator:a124b0bd45682aaf62baa5131e38deb65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d044deed4670df98192cc0820a8582" id="r_a66d044deed4670df98192cc0820a8582"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66d044deed4670df98192cc0820a8582">GetHashSeed</a> () const</td></tr>
<tr class="separator:a66d044deed4670df98192cc0820a8582"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a22dc59a1e8f5beb030731aa5ebd27" id="r_a79a22dc59a1e8f5beb030731aa5ebd27"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79a22dc59a1e8f5beb030731aa5ebd27">GetYieldCount</a> () const</td></tr>
<tr class="separator:a79a22dc59a1e8f5beb030731aa5ebd27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d28f16fd5324f709c7f57779674436" id="r_a06d28f16fd5324f709c7f57779674436"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06d28f16fd5324f709c7f57779674436">GetEvictionEffortExceededCount</a> () const</td></tr>
<tr class="separator:a06d28f16fd5324f709c7f57779674436"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32ca86b0bb994fcb45ddb2cbebd40e1" id="r_aa32ca86b0bb994fcb45ddb2cbebd40e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa32ca86b0bb994fcb45ddb2cbebd40e1">TrackAndReleaseEvictedEntry</a> (<a class="el" href="../../d7/d95/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandle.html">ClockHandle</a> *h)</td></tr>
<tr class="separator:aa32ca86b0bb994fcb45ddb2cbebd40e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dfca308c0668c21d38967f5e150bffa" id="r_a4dfca308c0668c21d38967f5e150bffa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4dfca308c0668c21d38967f5e150bffa">TEST_RefN</a> (<a class="el" href="../../d7/d95/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandle.html">ClockHandle</a> &amp;handle, size_t n)</td></tr>
<tr class="separator:a4dfca308c0668c21d38967f5e150bffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae56c44d575aee6d3d4dcedec2a5de280" id="r_ae56c44d575aee6d3d4dcedec2a5de280"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae56c44d575aee6d3d4dcedec2a5de280">TEST_ReleaseNMinus1</a> (<a class="el" href="../../d7/d95/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandle.html">ClockHandle</a> *handle, size_t n)</td></tr>
<tr class="separator:ae56c44d575aee6d3d4dcedec2a5de280"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected 속성</h2></td></tr>
<tr class="memitem:aaf422722f1e9ff79fd0f8d1952068b57" id="r_aaf422722f1e9ff79fd0f8d1952068b57"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html">RelaxedAtomic</a>&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf422722f1e9ff79fd0f8d1952068b57">clock_pointer_</a> {}</td></tr>
<tr class="separator:aaf422722f1e9ff79fd0f8d1952068b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae058b85ca9ff2ed2c9240cafe094f99f" id="r_ae058b85ca9ff2ed2c9240cafe094f99f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html">RelaxedAtomic</a>&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae058b85ca9ff2ed2c9240cafe094f99f">yield_count_</a> {}</td></tr>
<tr class="separator:ae058b85ca9ff2ed2c9240cafe094f99f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbfb2f7669dfb5646031a78ff9457374" id="r_afbfb2f7669dfb5646031a78ff9457374"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html">RelaxedAtomic</a>&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbfb2f7669dfb5646031a78ff9457374">eviction_effort_exceeded_count_</a> {}</td></tr>
<tr class="separator:afbfb2f7669dfb5646031a78ff9457374"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac77e847a676d7b1c9b23386e8fc0671b" id="r_ac77e847a676d7b1c9b23386e8fc0671b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html">AcqRelAtomic</a>&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac77e847a676d7b1c9b23386e8fc0671b">occupancy_</a> {}</td></tr>
<tr class="separator:ac77e847a676d7b1c9b23386e8fc0671b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83cfd21cdc4064eaad12cf25f7dc0011" id="r_a83cfd21cdc4064eaad12cf25f7dc0011"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html">AcqRelAtomic</a>&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a> {}</td></tr>
<tr class="separator:a83cfd21cdc4064eaad12cf25f7dc0011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52195d41a6f06bfcbd82679a027cbf6" id="r_af52195d41a6f06bfcbd82679a027cbf6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html">AcqRelAtomic</a>&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af52195d41a6f06bfcbd82679a027cbf6">standalone_usage_</a> {}</td></tr>
<tr class="separator:af52195d41a6f06bfcbd82679a027cbf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b3d1b42cce7ea431ff90d735eb35c0a" id="r_a9b3d1b42cce7ea431ff90d735eb35c0a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ad6fbfb4d192b433af6ebde26a12775dc">CacheMetadataChargePolicy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9b3d1b42cce7ea431ff90d735eb35c0a">metadata_charge_policy_</a></td></tr>
<tr class="separator:a9b3d1b42cce7ea431ff90d735eb35c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17ac84de3be7dec0320979693b01f78" id="r_ac17ac84de3be7dec0320979693b01f78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d8f/classROCKSDB__NAMESPACE_1_1MemoryAllocator.html">MemoryAllocator</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac17ac84de3be7dec0320979693b01f78">allocator_</a></td></tr>
<tr class="separator:ac17ac84de3be7dec0320979693b01f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5dca373e480f88dfa20c828104b8c38" id="r_ab5dca373e480f88dfa20c828104b8c38"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#af94e718286ee6148eacb1e95808c2399">Cache::EvictionCallback</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5dca373e480f88dfa20c828104b8c38">eviction_callback_</a></td></tr>
<tr class="separator:ab5dca373e480f88dfa20c828104b8c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2b3971ae328e8ee5badf31a1b9c6a0d" id="r_aa2b3971ae328e8ee5badf31a1b9c6a0d"><td class="memItemLeft" align="right" valign="top">const uint32_t &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2b3971ae328e8ee5badf31a1b9c6a0d">hash_seed_</a></td></tr>
<tr class="separator:aa2b3971ae328e8ee5badf31a1b9c6a0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 멤버 함수</h2></td></tr>
<tr class="memitem:a08dcc51a1ef4da95397b99d99637a6f4" id="r_a08dcc51a1ef4da95397b99d99637a6f4"><td class="memTemplParams" colspan="2">template&lt;class HandleImpl&gt; </td></tr>
<tr class="memitem:a08dcc51a1ef4da95397b99d99637a6f4"><td class="memTemplItemLeft" align="right" valign="top">HandleImpl *&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a08dcc51a1ef4da95397b99d99637a6f4">StandaloneInsert</a> (const <a class="el" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html">ClockHandleBasicData</a> &amp;proto)</td></tr>
<tr class="separator:a08dcc51a1ef4da95397b99d99637a6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc181854c080c83c83b1de231465f663" id="r_afc181854c080c83c83b1de231465f663"><td class="memTemplParams" colspan="2">template&lt;class Table&gt; </td></tr>
<tr class="memitem:afc181854c080c83c83b1de231465f663"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#afc181854c080c83c83b1de231465f663">ChargeUsageMaybeEvictStrict</a> (size_t total_charge, size_t capacity, bool need_evict_for_occupancy, uint32_t eviction_effort_cap, typename Table::InsertState &amp;state)</td></tr>
<tr class="separator:afc181854c080c83c83b1de231465f663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f70e8b7d87176f0edbe915d0a2d94ac" id="r_a4f70e8b7d87176f0edbe915d0a2d94ac"><td class="memTemplParams" colspan="2">template&lt;class Table&gt; </td></tr>
<tr class="memitem:a4f70e8b7d87176f0edbe915d0a2d94ac"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a4f70e8b7d87176f0edbe915d0a2d94ac">ChargeUsageMaybeEvictNonStrict</a> (size_t total_charge, size_t capacity, bool need_evict_for_occupancy, uint32_t eviction_effort_cap, typename Table::InsertState &amp;state)</td></tr>
<tr class="separator:a4f70e8b7d87176f0edbe915d0a2d94ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">상세한 설명</h2>
<div class="textblock">
<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00376">376</a> 번째 라인에서 정의되었습니다.</p>
</div><h2 class="groupheader">생성자 &amp; 소멸자 문서화</h2>
<a id="a589b754f612e4acebf3403fd26f9a43e" name="a589b754f612e4acebf3403fd26f9a43e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a589b754f612e4acebf3403fd26f9a43e">&#9670;&#160;</a></span>BaseClockTable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::BaseClockTable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ad6fbfb4d192b433af6ebde26a12775dc">CacheMetadataChargePolicy</a></td>          <td class="paramname"><span class="paramname"><em>metadata_charge_policy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d8f/classROCKSDB__NAMESPACE_1_1MemoryAllocator.html">MemoryAllocator</a> *</td>          <td class="paramname"><span class="paramname"><em>allocator</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#af94e718286ee6148eacb1e95808c2399">Cache::EvictionCallback</a> *</td>          <td class="paramname"><span class="paramname"><em>eviction_callback</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t *</td>          <td class="paramname"><span class="paramname"><em>hash_seed</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00386">386</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  390</span>      : <a class="code hl_variable" href="#a9b3d1b42cce7ea431ff90d735eb35c0a">metadata_charge_policy_</a>(metadata_charge_policy),</div>
<div class="line"><span class="lineno">  391</span>        <a class="code hl_variable" href="#ac17ac84de3be7dec0320979693b01f78">allocator_</a>(allocator),</div>
<div class="line"><span class="lineno">  392</span>        <a class="code hl_variable" href="#ab5dca373e480f88dfa20c828104b8c38">eviction_callback_</a>(*eviction_callback),</div>
<div class="line"><span class="lineno">  393</span>        <a class="code hl_variable" href="#aa2b3971ae328e8ee5badf31a1b9c6a0d">hash_seed_</a>(*hash_seed) {}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_html_a9b3d1b42cce7ea431ff90d735eb35c0a"><div class="ttname"><a href="#a9b3d1b42cce7ea431ff90d735eb35c0a">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::metadata_charge_policy_</a></div><div class="ttdeci">const CacheMetadataChargePolicy metadata_charge_policy_</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00501">clock_cache.h:501</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_html_aa2b3971ae328e8ee5badf31a1b9c6a0d"><div class="ttname"><a href="#aa2b3971ae328e8ee5badf31a1b9c6a0d">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::hash_seed_</a></div><div class="ttdeci">const uint32_t &amp; hash_seed_</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00510">clock_cache.h:510</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_html_ab5dca373e480f88dfa20c828104b8c38"><div class="ttname"><a href="#ab5dca373e480f88dfa20c828104b8c38">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::eviction_callback_</a></div><div class="ttdeci">const Cache::EvictionCallback &amp; eviction_callback_</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00507">clock_cache.h:507</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_html_ac17ac84de3be7dec0320979693b01f78"><div class="ttname"><a href="#ac17ac84de3be7dec0320979693b01f78">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::allocator_</a></div><div class="ttdeci">MemoryAllocator *const allocator_</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00504">clock_cache.h:504</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a589b754f612e4acebf3403fd26f9a43e_icgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a589b754f612e4acebf3403fd26f9a43e_icgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a589b754f612e4acebf3403fd26f9a43e_icgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a589b754f612e4acebf3403fd26f9a43e_icgraph">
<area shape="rect" title=" " alt="" coords="271,84,481,146"/>
<area shape="rect" href="../../d1/d81/classROCKSDB__NAMESPACE_1_1clock__cache_1_1AutoHyperClockTable.html#a9616b2306e5efc8080bd3f56e3d59945" title=" " alt="" coords="7,29,221,91"/>
<area shape="poly" title=" " alt="" coords="255,92,221,85,222,80,256,87"/>
<area shape="rect" href="../../d3/d91/classROCKSDB__NAMESPACE_1_1clock__cache_1_1FixedHyperClockTable.html#aea3c0219542bc2a1961ff7f8915d6588" title=" " alt="" coords="5,139,223,200"/>
<area shape="poly" title=" " alt="" coords="256,143,224,149,223,144,255,137"/>
<area shape="poly" title=" " alt="" coords="156,17,140,11,114,8,91,10,76,15,69,21,68,29,63,29,64,19,74,10,90,5,114,3,141,5,158,13"/>
<area shape="poly" title=" " alt="" coords="156,127,140,120,114,117,91,119,76,124,69,131,68,139,63,138,64,128,74,119,90,114,114,112,141,115,158,122"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">멤버 함수 문서화</h2>
<a id="a4f70e8b7d87176f0edbe915d0a2d94ac" name="a4f70e8b7d87176f0edbe915d0a2d94ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f70e8b7d87176f0edbe915d0a2d94ac">&#9670;&#160;</a></span>ChargeUsageMaybeEvictNonStrict()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Table&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::ChargeUsageMaybeEvictNonStrict </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>total_charge</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>capacity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>need_evict_for_occupancy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>eviction_effort_cap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename Table::InsertState &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l00497">497</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  499</span>                                                                    {</div>
<div class="line"><span class="lineno">  500</span>  <span class="comment">// For simplicity, we consider that either the cache can accept the insert</span></div>
<div class="line"><span class="lineno">  501</span>  <span class="comment">// with no evictions, or we must evict enough to make (at least) enough</span></div>
<div class="line"><span class="lineno">  502</span>  <span class="comment">// space. It could lead to unnecessary failures or excessive evictions in</span></div>
<div class="line"><span class="lineno">  503</span>  <span class="comment">// some extreme cases, but allows a fast, simple protocol. If we allow a</span></div>
<div class="line"><span class="lineno">  504</span>  <span class="comment">// race to get us over capacity, then we might never get back to capacity</span></div>
<div class="line"><span class="lineno">  505</span>  <span class="comment">// limit if the sizes of entries allow each insertion to evict the minimum</span></div>
<div class="line"><span class="lineno">  506</span>  <span class="comment">// charge. Thus, we should evict some extra if it&#39;s not a signifcant</span></div>
<div class="line"><span class="lineno">  507</span>  <span class="comment">// portion of the shard capacity. This can have the side benefit of</span></div>
<div class="line"><span class="lineno">  508</span>  <span class="comment">// involving fewer threads in eviction.</span></div>
<div class="line"><span class="lineno">  509</span>  <span class="keywordtype">size_t</span> old_usage = <a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d">LoadRelaxed</a>();</div>
<div class="line"><span class="lineno">  510</span>  <span class="keywordtype">size_t</span> need_evict_charge;</div>
<div class="line"><span class="lineno">  511</span>  <span class="comment">// NOTE: if total_charge &gt; old_usage, there isn&#39;t yet enough to evict</span></div>
<div class="line"><span class="lineno">  512</span>  <span class="comment">// `total_charge` amount. Even if we only try to evict `old_usage` amount,</span></div>
<div class="line"><span class="lineno">  513</span>  <span class="comment">// there&#39;s likely something referenced and we would eat CPU looking for</span></div>
<div class="line"><span class="lineno">  514</span>  <span class="comment">// enough to evict.</span></div>
<div class="line"><span class="lineno">  515</span>  <span class="keywordflow">if</span> (old_usage + total_charge &lt;= capacity || total_charge &gt; old_usage) {</div>
<div class="line"><span class="lineno">  516</span>    <span class="comment">// Good enough for me (might run over with a race)</span></div>
<div class="line"><span class="lineno">  517</span>    need_evict_charge = 0;</div>
<div class="line"><span class="lineno">  518</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  519</span>    <span class="comment">// Try to evict enough space, and maybe some extra</span></div>
<div class="line"><span class="lineno">  520</span>    need_evict_charge = total_charge;</div>
<div class="line"><span class="lineno">  521</span>    <span class="keywordflow">if</span> (old_usage &gt; capacity) {</div>
<div class="line"><span class="lineno">  522</span>      <span class="comment">// Not too much to avoid thundering herd while avoiding strict</span></div>
<div class="line"><span class="lineno">  523</span>      <span class="comment">// synchronization, such as the compare_exchange used with strict</span></div>
<div class="line"><span class="lineno">  524</span>      <span class="comment">// capacity limit.</span></div>
<div class="line"><span class="lineno">  525</span>      need_evict_charge += std::min(capacity / 1024, total_charge) + 1;</div>
<div class="line"><span class="lineno">  526</span>    }</div>
<div class="line"><span class="lineno">  527</span>  }</div>
<div class="line"><span class="lineno">  528</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d6/dd6/likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(need_evict_for_occupancy) &amp;&amp; need_evict_charge == 0) {</div>
<div class="line"><span class="lineno">  529</span>    <span class="comment">// Special case: require at least 1 eviction if we only have to</span></div>
<div class="line"><span class="lineno">  530</span>    <span class="comment">// deal with occupancy</span></div>
<div class="line"><span class="lineno">  531</span>    need_evict_charge = 1;</div>
<div class="line"><span class="lineno">  532</span>  }</div>
<div class="line"><span class="lineno">  533</span>  EvictionData data;</div>
<div class="line"><span class="lineno">  534</span>  <span class="keywordflow">if</span> (need_evict_charge &gt; 0) {</div>
<div class="line"><span class="lineno">  535</span>    <span class="keyword">static_cast&lt;</span>Table*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;Evict(need_evict_charge, state, &amp;data,</div>
<div class="line"><span class="lineno">  536</span>                                     eviction_effort_cap);</div>
<div class="line"><span class="lineno">  537</span>    <span class="comment">// Deal with potential occupancy deficit</span></div>
<div class="line"><span class="lineno">  538</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d6/dd6/likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(need_evict_for_occupancy) &amp;&amp; data.freed_count == 0) {</div>
<div class="line"><span class="lineno">  539</span>      assert(data.freed_charge == 0);</div>
<div class="line"><span class="lineno">  540</span>      <span class="comment">// Can&#39;t meet occupancy requirement</span></div>
<div class="line"><span class="lineno">  541</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  542</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  543</span>      <span class="comment">// Update occupancy for evictions</span></div>
<div class="line"><span class="lineno">  544</span>      <a class="code hl_variable" href="#ac77e847a676d7b1c9b23386e8fc0671b">occupancy_</a>.<a class="code hl_function" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html#a215ec373e21f9b51cdc18cfb082d7bca">FetchSub</a>(data.freed_count);</div>
<div class="line"><span class="lineno">  545</span>    }</div>
<div class="line"><span class="lineno">  546</span>  }</div>
<div class="line"><span class="lineno">  547</span>  <span class="comment">// Track new usage even if we weren&#39;t able to evict enough</span></div>
<div class="line"><span class="lineno">  548</span>  <a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#ab8c07210b81d7b64fc00ce2d30fc5631">FetchAddRelaxed</a>(total_charge - data.freed_charge);</div>
<div class="line"><span class="lineno">  549</span>  <span class="comment">// No underflow</span></div>
<div class="line"><span class="lineno">  550</span>  assert(<a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d">LoadRelaxed</a>() &lt; SIZE_MAX / 2);</div>
<div class="line"><span class="lineno">  551</span>  <span class="comment">// Success</span></div>
<div class="line"><span class="lineno">  552</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  553</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1AcqRelAtomic_html_a215ec373e21f9b51cdc18cfb082d7bca"><div class="ttname"><a href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html#a215ec373e21f9b51cdc18cfb082d7bca">ROCKSDB_NAMESPACE::AcqRelAtomic::FetchSub</a></div><div class="ttdeci">T FetchSub(T operand)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d02/atomic_8h_source.html#l00097">atomic.h:97</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1RelaxedAtomic_html_a6a8401cbb9ead0bbb0def8fbfbabc97d"><div class="ttname"><a href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d">ROCKSDB_NAMESPACE::RelaxedAtomic::LoadRelaxed</a></div><div class="ttdeci">T LoadRelaxed() const</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d02/atomic_8h_source.html#l00037">atomic.h:37</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1RelaxedAtomic_html_ab8c07210b81d7b64fc00ce2d30fc5631"><div class="ttname"><a href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#ab8c07210b81d7b64fc00ce2d30fc5631">ROCKSDB_NAMESPACE::RelaxedAtomic::FetchAddRelaxed</a></div><div class="ttdeci">T FetchAddRelaxed(T operand)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d02/atomic_8h_source.html#l00049">atomic.h:49</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_html_a83cfd21cdc4064eaad12cf25f7dc0011"><div class="ttname"><a href="#a83cfd21cdc4064eaad12cf25f7dc0011">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::usage_</a></div><div class="ttdeci">AcqRelAtomic&lt; size_t &gt; usage_</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00495">clock_cache.h:495</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_html_ac77e847a676d7b1c9b23386e8fc0671b"><div class="ttname"><a href="#ac77e847a676d7b1c9b23386e8fc0671b">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::occupancy_</a></div><div class="ttdeci">AcqRelAtomic&lt; size_t &gt; occupancy_</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00492">clock_cache.h:492</a></div></div>
<div class="ttc" id="alikely_8h_html_ab10d0a221f4d7a706701b806c8135fd7"><div class="ttname"><a href="../../d6/dd6/likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a></div><div class="ttdeci">#define UNLIKELY(x)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dd6/likely_8h_source.html#l00017">likely.h:17</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4f70e8b7d87176f0edbe915d0a2d94ac_cgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4f70e8b7d87176f0edbe915d0a2d94ac_cgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4f70e8b7d87176f0edbe915d0a2d94ac_cgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4f70e8b7d87176f0edbe915d0a2d94ac_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,258,91"/>
<area shape="poly" title=" " alt="" coords="82,29,83,19,93,10,109,5,132,3,158,5,174,13,172,17,157,11,131,8,110,10,95,15,88,21,87,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4f70e8b7d87176f0edbe915d0a2d94ac_icgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4f70e8b7d87176f0edbe915d0a2d94ac_icgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4f70e8b7d87176f0edbe915d0a2d94ac_icgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4f70e8b7d87176f0edbe915d0a2d94ac_icgraph">
<area shape="rect" title=" " alt="" coords="264,84,516,146"/>
<area shape="poly" title=" " alt="" coords="435,73,418,65,390,63,366,65,349,69,341,76,341,84,335,83,337,73,347,65,365,59,390,57,420,60,437,68"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#abbc95f17b3d2608b533954a2b123e893" title=" " alt="" coords="5,29,216,91"/>
<area shape="poly" title=" " alt="" coords="248,90,216,83,217,78,249,85"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#a2f4cbb156e643c3efa9022b1c3fc1463" title=" " alt="" coords="5,139,216,200"/>
<area shape="poly" title=" " alt="" coords="249,145,217,152,216,146,248,140"/>
<area shape="poly" title=" " alt="" coords="156,18,139,11,110,8,86,10,70,15,62,21,61,30,56,29,57,19,68,10,85,5,111,3,140,6,158,13"/>
<area shape="poly" title=" " alt="" coords="156,127,139,120,110,117,86,119,70,124,62,131,61,139,56,138,57,128,68,119,85,114,111,112,140,115,158,122"/>
</map>
</div>

</div>
</div>
<a id="afc181854c080c83c83b1de231465f663" name="afc181854c080c83c83b1de231465f663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc181854c080c83c83b1de231465f663">&#9670;&#160;</a></span>ChargeUsageMaybeEvictStrict()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Table&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a> ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::ChargeUsageMaybeEvictStrict </td>
          <td>(</td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>total_charge</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>capacity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>need_evict_for_occupancy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>eviction_effort_cap</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename Table::InsertState &amp;</td>          <td class="paramname"><span class="paramname"><em>state</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l00441">441</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  443</span>                                                                    {</div>
<div class="line"><span class="lineno">  444</span>  <span class="keywordflow">if</span> (total_charge &gt; capacity) {</div>
<div class="line"><span class="lineno">  445</span>    <span class="keywordflow">return</span> Status::MemoryLimit(</div>
<div class="line"><span class="lineno">  446</span>        <span class="stringliteral">&quot;Cache entry too large for a single cache shard: &quot;</span> +</div>
<div class="line"><span class="lineno">  447</span>        std::to_string(total_charge) + <span class="stringliteral">&quot; &gt; &quot;</span> + std::to_string(capacity));</div>
<div class="line"><span class="lineno">  448</span>  }</div>
<div class="line"><span class="lineno">  449</span>  <span class="comment">// Grab any available capacity, and free up any more required.</span></div>
<div class="line"><span class="lineno">  450</span>  <span class="keywordtype">size_t</span> old_usage = <a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d">LoadRelaxed</a>();</div>
<div class="line"><span class="lineno">  451</span>  <span class="keywordtype">size_t</span> new_usage;</div>
<div class="line"><span class="lineno">  452</span>  <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  453</span>    new_usage = std::min(capacity, old_usage + total_charge);</div>
<div class="line"><span class="lineno">  454</span>    <span class="keywordflow">if</span> (new_usage == old_usage) {</div>
<div class="line"><span class="lineno">  455</span>      <span class="comment">// No change needed</span></div>
<div class="line"><span class="lineno">  456</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  457</span>    }</div>
<div class="line"><span class="lineno">  458</span>  } <span class="keywordflow">while</span> (!<a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a7f03c00f2d2f98350481bebd874a6cd6">CasWeakRelaxed</a>(old_usage, new_usage));</div>
<div class="line"><span class="lineno">  459</span>  <span class="comment">// How much do we need to evict then?</span></div>
<div class="line"><span class="lineno">  460</span>  <span class="keywordtype">size_t</span> need_evict_charge = old_usage + total_charge - new_usage;</div>
<div class="line"><span class="lineno">  461</span>  <span class="keywordtype">size_t</span> request_evict_charge = need_evict_charge;</div>
<div class="line"><span class="lineno">  462</span>  <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d6/dd6/likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(need_evict_for_occupancy) &amp;&amp; request_evict_charge == 0) {</div>
<div class="line"><span class="lineno">  463</span>    <span class="comment">// Require at least 1 eviction.</span></div>
<div class="line"><span class="lineno">  464</span>    request_evict_charge = 1;</div>
<div class="line"><span class="lineno">  465</span>  }</div>
<div class="line"><span class="lineno">  466</span>  <span class="keywordflow">if</span> (request_evict_charge &gt; 0) {</div>
<div class="line"><span class="lineno">  467</span>    EvictionData data;</div>
<div class="line"><span class="lineno">  468</span>    <span class="keyword">static_cast&lt;</span>Table*<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;Evict(request_evict_charge, state, &amp;data,</div>
<div class="line"><span class="lineno">  469</span>                                     eviction_effort_cap);</div>
<div class="line"><span class="lineno">  470</span>    <a class="code hl_variable" href="#ac77e847a676d7b1c9b23386e8fc0671b">occupancy_</a>.<a class="code hl_function" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html#a215ec373e21f9b51cdc18cfb082d7bca">FetchSub</a>(data.freed_count);</div>
<div class="line"><span class="lineno">  471</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d6/dd6/likely_8h.html#affde14445f49f65ff4f5b592e44ee71a">LIKELY</a>(data.freed_charge &gt; need_evict_charge)) {</div>
<div class="line"><span class="lineno">  472</span>      assert(data.freed_count &gt; 0);</div>
<div class="line"><span class="lineno">  473</span>      <span class="comment">// Evicted more than enough</span></div>
<div class="line"><span class="lineno">  474</span>      <a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6eee24b94e05b32724d318d80b24397d">FetchSubRelaxed</a>(data.freed_charge - need_evict_charge);</div>
<div class="line"><span class="lineno">  475</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (data.freed_charge &lt; need_evict_charge ||</div>
<div class="line"><span class="lineno">  476</span>               (<a class="code hl_define" href="../../d6/dd6/likely_8h.html#ab10d0a221f4d7a706701b806c8135fd7">UNLIKELY</a>(need_evict_for_occupancy) &amp;&amp; data.freed_count == 0)) {</div>
<div class="line"><span class="lineno">  477</span>      <span class="comment">// Roll back to old usage minus evicted</span></div>
<div class="line"><span class="lineno">  478</span>      <a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6eee24b94e05b32724d318d80b24397d">FetchSubRelaxed</a>(data.freed_charge + (new_usage - old_usage));</div>
<div class="line"><span class="lineno">  479</span>      <span class="keywordflow">if</span> (data.freed_charge &lt; need_evict_charge) {</div>
<div class="line"><span class="lineno">  480</span>        <span class="keywordflow">return</span> Status::MemoryLimit(</div>
<div class="line"><span class="lineno">  481</span>            <span class="stringliteral">&quot;Insert failed because unable to evict entries to stay within &quot;</span></div>
<div class="line"><span class="lineno">  482</span>            <span class="stringliteral">&quot;capacity limit.&quot;</span>);</div>
<div class="line"><span class="lineno">  483</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">return</span> Status::MemoryLimit(</div>
<div class="line"><span class="lineno">  485</span>            <span class="stringliteral">&quot;Insert failed because unable to evict entries to stay within &quot;</span></div>
<div class="line"><span class="lineno">  486</span>            <span class="stringliteral">&quot;table occupancy limit.&quot;</span>);</div>
<div class="line"><span class="lineno">  487</span>      }</div>
<div class="line"><span class="lineno">  488</span>    }</div>
<div class="line"><span class="lineno">  489</span>    <span class="comment">// If we needed to evict something and we are proceeding, we must have</span></div>
<div class="line"><span class="lineno">  490</span>    <span class="comment">// evicted something.</span></div>
<div class="line"><span class="lineno">  491</span>    assert(data.freed_count &gt; 0);</div>
<div class="line"><span class="lineno">  492</span>  }</div>
<div class="line"><span class="lineno">  493</span>  <span class="keywordflow">return</span> Status::OK();</div>
<div class="line"><span class="lineno">  494</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1RelaxedAtomic_html_a6eee24b94e05b32724d318d80b24397d"><div class="ttname"><a href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6eee24b94e05b32724d318d80b24397d">ROCKSDB_NAMESPACE::RelaxedAtomic::FetchSubRelaxed</a></div><div class="ttdeci">T FetchSubRelaxed(T operand)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d02/atomic_8h_source.html#l00052">atomic.h:52</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1RelaxedAtomic_html_a7f03c00f2d2f98350481bebd874a6cd6"><div class="ttname"><a href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a7f03c00f2d2f98350481bebd874a6cd6">ROCKSDB_NAMESPACE::RelaxedAtomic::CasWeakRelaxed</a></div><div class="ttdeci">bool CasWeakRelaxed(T &amp;expected, T desired)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d02/atomic_8h_source.html#l00038">atomic.h:38</a></div></div>
<div class="ttc" id="alikely_8h_html_affde14445f49f65ff4f5b592e44ee71a"><div class="ttname"><a href="../../d6/dd6/likely_8h.html#affde14445f49f65ff4f5b592e44ee71a">LIKELY</a></div><div class="ttdeci">#define LIKELY(x)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/dd6/likely_8h_source.html#l00016">likely.h:16</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_afc181854c080c83c83b1de231465f663_cgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_afc181854c080c83c83b1de231465f663_cgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_afc181854c080c83c83b1de231465f663_cgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_afc181854c080c83c83b1de231465f663_cgraph">
<area shape="rect" title=" " alt="" coords="5,32,232,93"/>
<area shape="poly" title=" " alt="" coords="69,31,70,21,80,12,96,7,119,5,145,8,161,15,159,20,143,13,118,10,97,12,82,17,75,23,74,32"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a97a23b3a8089ca01207c23e2536a828c" title=" " alt="" coords="280,5,461,50"/>
<area shape="poly" title=" " alt="" coords="232,44,264,40,265,45,232,49"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a68c941da5f3083ca54122b381139b65b" title=" " alt="" coords="280,75,461,119"/>
<area shape="poly" title=" " alt="" coords="232,75,265,80,264,85,232,81"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="509,40,690,85"/>
<area shape="poly" title=" " alt="" coords="462,39,494,44,493,49,461,44"/>
<area shape="poly" title=" " alt="" coords="461,81,493,76,494,81,462,86"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_afc181854c080c83c83b1de231465f663_icgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_afc181854c080c83c83b1de231465f663_icgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_afc181854c080c83c83b1de231465f663_icgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_afc181854c080c83c83b1de231465f663_icgraph">
<area shape="rect" title=" " alt="" coords="264,84,490,146"/>
<area shape="poly" title=" " alt="" coords="420,72,403,65,377,63,354,65,338,69,331,76,330,84,325,83,326,73,336,65,353,59,377,57,405,60,422,67"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#abbc95f17b3d2608b533954a2b123e893" title=" " alt="" coords="5,29,216,91"/>
<area shape="poly" title=" " alt="" coords="248,91,215,84,217,79,249,86"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#a2f4cbb156e643c3efa9022b1c3fc1463" title=" " alt="" coords="5,139,216,200"/>
<area shape="poly" title=" " alt="" coords="249,144,217,151,215,145,248,139"/>
<area shape="poly" title=" " alt="" coords="153,17,137,11,110,8,87,10,72,15,65,21,64,30,58,29,60,19,70,10,86,5,111,3,138,5,155,13"/>
<area shape="poly" title=" " alt="" coords="153,127,137,120,110,117,87,119,72,124,65,131,64,139,58,138,60,128,70,119,86,114,111,112,138,115,155,122"/>
</map>
</div>

</div>
</div>
<a id="abbc95f17b3d2608b533954a2b123e893" name="abbc95f17b3d2608b533954a2b123e893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbc95f17b3d2608b533954a2b123e893">&#9670;&#160;</a></span>CreateStandalone()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Table&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Table::HandleImpl * ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::CreateStandalone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html">ClockHandleBasicData</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>proto</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>capacity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>eec_and_scl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>allow_uncharged</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l00404">404</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  406</span>                          {</div>
<div class="line"><span class="lineno">  407</span>  Table&amp; derived = <span class="keyword">static_cast&lt;</span>Table&amp;<span class="keyword">&gt;</span>(*this);</div>
<div class="line"><span class="lineno">  408</span>  <span class="keyword">typename</span> Table::InsertState state;</div>
<div class="line"><span class="lineno">  409</span>  derived.StartInsert(state);</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>  <span class="keyword">const</span> <span class="keywordtype">size_t</span> total_charge = proto.GetTotalCharge();</div>
<div class="line"><span class="lineno">  412</span>  <span class="comment">// NOTE: we can use eec_and_scl as eviction_effort_cap below because</span></div>
<div class="line"><span class="lineno">  413</span>  <span class="comment">// strict_capacity_limit=true is supposed to disable the limit on eviction</span></div>
<div class="line"><span class="lineno">  414</span>  <span class="comment">// effort, and a large value effectively does that.</span></div>
<div class="line"><span class="lineno">  415</span>  <span class="keywordflow">if</span> (eec_and_scl &amp; kStrictCapacityLimitBit) {</div>
<div class="line"><span class="lineno">  416</span>    Status s = ChargeUsageMaybeEvictStrict&lt;Table&gt;(</div>
<div class="line"><span class="lineno">  417</span>        total_charge, capacity,</div>
<div class="line"><span class="lineno">  418</span>        <span class="comment">/*need_evict_for_occupancy=*/</span><span class="keyword">false</span>, eec_and_scl, state);</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">if</span> (!s.ok()) {</div>
<div class="line"><span class="lineno">  420</span>      <span class="keywordflow">if</span> (allow_uncharged) {</div>
<div class="line"><span class="lineno">  421</span>        proto.total_charge = 0;</div>
<div class="line"><span class="lineno">  422</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  423</span>        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  424</span>      }</div>
<div class="line"><span class="lineno">  425</span>    }</div>
<div class="line"><span class="lineno">  426</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  427</span>    <span class="comment">// Case strict_capacity_limit == false</span></div>
<div class="line"><span class="lineno">  428</span>    <span class="keywordtype">bool</span> success = ChargeUsageMaybeEvictNonStrict&lt;Table&gt;(</div>
<div class="line"><span class="lineno">  429</span>        total_charge, capacity,</div>
<div class="line"><span class="lineno">  430</span>        <span class="comment">/*need_evict_for_occupancy=*/</span><span class="keyword">false</span>, eec_and_scl, state);</div>
<div class="line"><span class="lineno">  431</span>    <span class="keywordflow">if</span> (!success) {</div>
<div class="line"><span class="lineno">  432</span>      <span class="comment">// Force the issue</span></div>
<div class="line"><span class="lineno">  433</span>      <a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#ab8c07210b81d7b64fc00ce2d30fc5631">FetchAddRelaxed</a>(total_charge);</div>
<div class="line"><span class="lineno">  434</span>    }</div>
<div class="line"><span class="lineno">  435</span>  }</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>  <span class="keywordflow">return</span> StandaloneInsert&lt;typename Table::HandleImpl&gt;(proto);</div>
<div class="line"><span class="lineno">  438</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_abbc95f17b3d2608b533954a2b123e893_cgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_abbc95f17b3d2608b533954a2b123e893_cgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_abbc95f17b3d2608b533954a2b123e893_cgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_abbc95f17b3d2608b533954a2b123e893_cgraph">
<area shape="rect" title=" " alt="" coords="5,207,216,268"/>
<area shape="poly" title=" " alt="" coords="56,206,57,196,68,187,85,182,111,180,140,183,158,190,156,195,139,188,110,185,86,187,70,192,62,199,61,207"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#a4f70e8b7d87176f0edbe915d0a2d94ac" title=" " alt="" coords="264,29,516,91"/>
<area shape="poly" title=" " alt="" coords="138,204,193,152,226,125,262,101,271,96,273,101,265,105,229,129,196,156,142,208"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#afc181854c080c83c83b1de231465f663" title=" " alt="" coords="277,139,503,200"/>
<area shape="poly" title=" " alt="" coords="215,209,261,198,262,203,217,214"/>
<area shape="rect" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html#ade3f61f6d579c162adb945d6394bfd4e" title=" " alt="" coords="564,239,789,300"/>
<area shape="poly" title=" " alt="" coords="216,241,549,260,548,265,216,246"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a44cf4d9e0f59181d4838378a46b41c73" title=" " alt="" coords="299,384,480,429"/>
<area shape="poly" title=" " alt="" coords="141,267,195,320,229,347,265,370,286,380,283,384,262,375,226,351,192,324,137,271"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#a08dcc51a1ef4da95397b99d99637a6f4" title=" " alt="" coords="285,299,495,360"/>
<area shape="poly" title=" " alt="" coords="207,266,280,291,279,296,205,271"/>
<area shape="poly" title=" " alt="" coords="335,29,337,19,347,10,365,5,390,3,420,6,437,13,435,18,418,11,390,8,366,10,349,15,341,21,341,30"/>
<area shape="poly" title=" " alt="" coords="335,138,337,128,347,119,365,114,390,112,420,115,437,122,435,127,418,120,390,117,366,119,349,124,341,131,341,139"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a97a23b3a8089ca01207c23e2536a828c" title=" " alt="" coords="586,90,767,134"/>
<area shape="poly" title=" " alt="" coords="503,144,570,131,571,136,504,149"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a68c941da5f3083ca54122b381139b65b" title=" " alt="" coords="586,159,767,204"/>
<area shape="poly" title=" " alt="" coords="504,172,571,174,571,180,503,177"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="837,124,1019,169"/>
<area shape="poly" title=" " alt="" coords="768,122,822,130,822,135,767,127"/>
<area shape="poly" title=" " alt="" coords="767,166,822,159,822,164,768,172"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#afc660ff45fc7c890834fd65eb0ee6c9c" title=" " alt="" coords="586,347,767,392"/>
<area shape="poly" title=" " alt="" coords="481,392,570,381,571,386,481,398"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#acf8261295e4ab4ec8c132ed51b6feb71" title=" " alt="" coords="837,376,1019,421"/>
<area shape="poly" title=" " alt="" coords="481,404,789,402,822,401,822,406,789,407,481,410"/>
<area shape="poly" title=" " alt="" coords="768,377,822,384,822,389,767,383"/>
<area shape="poly" title=" " alt="" coords="495,305,548,294,549,299,496,310"/>
<area shape="poly" title=" " alt="" coords="335,298,337,288,347,279,365,274,390,272,420,275,437,282,435,287,418,280,390,277,366,279,349,284,341,291,341,299"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_abbc95f17b3d2608b533954a2b123e893_icgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_abbc95f17b3d2608b533954a2b123e893_icgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_abbc95f17b3d2608b533954a2b123e893_icgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_abbc95f17b3d2608b533954a2b123e893_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,216,91"/>
<area shape="poly" title=" " alt="" coords="144,17,131,11,110,8,93,10,81,15,75,21,74,29,69,29,70,19,78,10,91,5,111,3,133,5,146,13"/>
</map>
</div>

</div>
</div>
<a id="a06d28f16fd5324f709c7f57779674436" name="a06d28f16fd5324f709c7f57779674436"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d28f16fd5324f709c7f57779674436">&#9670;&#160;</a></span>GetEvictionEffortExceededCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::GetEvictionEffortExceededCount </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00418">418</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  418</span>                                                  {</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#afbfb2f7669dfb5646031a78ff9457374">eviction_effort_exceeded_count_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d">LoadRelaxed</a>();</div>
<div class="line"><span class="lineno">  420</span>  }</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_html_afbfb2f7669dfb5646031a78ff9457374"><div class="ttname"><a href="#afbfb2f7669dfb5646031a78ff9457374">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::eviction_effort_exceeded_count_</a></div><div class="ttdeci">RelaxedAtomic&lt; uint64_t &gt; eviction_effort_exceeded_count_</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00487">clock_cache.h:487</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66d044deed4670df98192cc0820a8582" name="a66d044deed4670df98192cc0820a8582"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66d044deed4670df98192cc0820a8582">&#9670;&#160;</a></span>GetHashSeed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::GetHashSeed </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00414">414</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  414</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#aa2b3971ae328e8ee5badf31a1b9c6a0d">hash_seed_</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a59235f2b9afd06e12c6de65477802773" name="a59235f2b9afd06e12c6de65477802773"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59235f2b9afd06e12c6de65477802773">&#9670;&#160;</a></span>GetOccupancy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::GetOccupancy </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00408">408</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  408</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#ac77e847a676d7b1c9b23386e8fc0671b">occupancy_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d">LoadRelaxed</a>(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a124b0bd45682aaf62baa5131e38deb65" name="a124b0bd45682aaf62baa5131e38deb65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a124b0bd45682aaf62baa5131e38deb65">&#9670;&#160;</a></span>GetStandaloneUsage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::GetStandaloneUsage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00412">412</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  412</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#af52195d41a6f06bfcbd82679a027cbf6">standalone_usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d">LoadRelaxed</a>(); }</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_html_af52195d41a6f06bfcbd82679a027cbf6"><div class="ttname"><a href="#af52195d41a6f06bfcbd82679a027cbf6">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::standalone_usage_</a></div><div class="ttdeci">AcqRelAtomic&lt; size_t &gt; standalone_usage_</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00498">clock_cache.h:498</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a560102008d3d124ef021139ab558df3d" name="a560102008d3d124ef021139ab558df3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a560102008d3d124ef021139ab558df3d">&#9670;&#160;</a></span>GetUsage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::GetUsage </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00410">410</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  410</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d">LoadRelaxed</a>(); }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a79a22dc59a1e8f5beb030731aa5ebd27" name="a79a22dc59a1e8f5beb030731aa5ebd27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a22dc59a1e8f5beb030731aa5ebd27">&#9670;&#160;</a></span>GetYieldCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::GetYieldCount </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00416">416</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  416</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#ae058b85ca9ff2ed2c9240cafe094f99f">yield_count_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d">LoadRelaxed</a>(); }</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_html_ae058b85ca9ff2ed2c9240cafe094f99f"><div class="ttname"><a href="#ae058b85ca9ff2ed2c9240cafe094f99f">ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::yield_count_</a></div><div class="ttdeci">RelaxedAtomic&lt; uint64_t &gt; yield_count_</div><div class="ttdef"><b>Definition</b> <a href="../../db/d81/clock__cache_8h_source.html#l00482">clock_cache.h:482</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f4cbb156e643c3efa9022b1c3fc1463" name="a2f4cbb156e643c3efa9022b1c3fc1463"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f4cbb156e643c3efa9022b1c3fc1463">&#9670;&#160;</a></span>Insert()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Table&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a> ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::Insert </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html">ClockHandleBasicData</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>proto</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename Table::HandleImpl **</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#aae9756924748d66b8202bd4850e9d84d">Cache::Priority</a></td>          <td class="paramname"><span class="paramname"><em>priority</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>capacity</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>eec_and_scl</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l00582">582</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  585</span>                                                    {</div>
<div class="line"><span class="lineno">  586</span>  <span class="keyword">using </span>HandleImpl = <span class="keyword">typename</span> Table::HandleImpl;</div>
<div class="line"><span class="lineno">  587</span>  Table&amp; derived = <span class="keyword">static_cast&lt;</span>Table&amp;<span class="keyword">&gt;</span>(*this);</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>  <span class="keyword">typename</span> Table::InsertState state;</div>
<div class="line"><span class="lineno">  590</span>  derived.StartInsert(state);</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>  <span class="comment">// Do we have the available occupancy? Optimistically assume we do</span></div>
<div class="line"><span class="lineno">  593</span>  <span class="comment">// and deal with it if we don&#39;t.</span></div>
<div class="line"><span class="lineno">  594</span>  <span class="keywordtype">size_t</span> old_occupancy = <a class="code hl_variable" href="#ac77e847a676d7b1c9b23386e8fc0671b">occupancy_</a>.<a class="code hl_function" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html#aac93e76aa937b0f5ef7e127e9d72c775">FetchAdd</a>(1);</div>
<div class="line"><span class="lineno">  595</span>  <span class="comment">// Whether we over-committed and need an eviction to make up for it</span></div>
<div class="line"><span class="lineno">  596</span>  <span class="keywordtype">bool</span> need_evict_for_occupancy =</div>
<div class="line"><span class="lineno">  597</span>      !derived.GrowIfNeeded(old_occupancy + 1, state);</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>  <span class="comment">// Usage/capacity handling is somewhat different depending on</span></div>
<div class="line"><span class="lineno">  600</span>  <span class="comment">// strict_capacity_limit, but mostly pessimistic.</span></div>
<div class="line"><span class="lineno">  601</span>  <span class="keywordtype">bool</span> use_standalone_insert = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  602</span>  <span class="keyword">const</span> <span class="keywordtype">size_t</span> total_charge = proto.GetTotalCharge();</div>
<div class="line"><span class="lineno">  603</span>  <span class="comment">// NOTE: we can use eec_and_scl as eviction_effort_cap below because</span></div>
<div class="line"><span class="lineno">  604</span>  <span class="comment">// strict_capacity_limit=true is supposed to disable the limit on eviction</span></div>
<div class="line"><span class="lineno">  605</span>  <span class="comment">// effort, and a large value effectively does that.</span></div>
<div class="line"><span class="lineno">  606</span>  <span class="keywordflow">if</span> (eec_and_scl &amp; kStrictCapacityLimitBit) {</div>
<div class="line"><span class="lineno">  607</span>    Status s = ChargeUsageMaybeEvictStrict&lt;Table&gt;(</div>
<div class="line"><span class="lineno">  608</span>        total_charge, capacity, need_evict_for_occupancy, eec_and_scl, state);</div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">if</span> (!s.ok()) {</div>
<div class="line"><span class="lineno">  610</span>      <span class="comment">// Revert occupancy</span></div>
<div class="line"><span class="lineno">  611</span>      <a class="code hl_variable" href="#ac77e847a676d7b1c9b23386e8fc0671b">occupancy_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6eee24b94e05b32724d318d80b24397d">FetchSubRelaxed</a>(1);</div>
<div class="line"><span class="lineno">  612</span>      <span class="keywordflow">return</span> s;</div>
<div class="line"><span class="lineno">  613</span>    }</div>
<div class="line"><span class="lineno">  614</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  615</span>    <span class="comment">// Case strict_capacity_limit == false</span></div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordtype">bool</span> success = ChargeUsageMaybeEvictNonStrict&lt;Table&gt;(</div>
<div class="line"><span class="lineno">  617</span>        total_charge, capacity, need_evict_for_occupancy, eec_and_scl, state);</div>
<div class="line"><span class="lineno">  618</span>    <span class="keywordflow">if</span> (!success) {</div>
<div class="line"><span class="lineno">  619</span>      <span class="comment">// Revert occupancy</span></div>
<div class="line"><span class="lineno">  620</span>      <a class="code hl_variable" href="#ac77e847a676d7b1c9b23386e8fc0671b">occupancy_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6eee24b94e05b32724d318d80b24397d">FetchSubRelaxed</a>(1);</div>
<div class="line"><span class="lineno">  621</span>      <span class="keywordflow">if</span> (handle == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  622</span>        <span class="comment">// Don&#39;t insert the entry but still return ok, as if the entry</span></div>
<div class="line"><span class="lineno">  623</span>        <span class="comment">// inserted into cache and evicted immediately.</span></div>
<div class="line"><span class="lineno">  624</span>        proto.FreeData(allocator_);</div>
<div class="line"><span class="lineno">  625</span>        <span class="keywordflow">return</span> Status::OK();</div>
<div class="line"><span class="lineno">  626</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  627</span>        <span class="comment">// Need to track usage of fallback standalone insert</span></div>
<div class="line"><span class="lineno">  628</span>        <a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#ab8c07210b81d7b64fc00ce2d30fc5631">FetchAddRelaxed</a>(total_charge);</div>
<div class="line"><span class="lineno">  629</span>        use_standalone_insert = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  630</span>      }</div>
<div class="line"><span class="lineno">  631</span>    }</div>
<div class="line"><span class="lineno">  632</span>  }</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>  <span class="keywordflow">if</span> (!use_standalone_insert) {</div>
<div class="line"><span class="lineno">  635</span>    <span class="comment">// Attempt a table insert, but abort if we find an existing entry for the</span></div>
<div class="line"><span class="lineno">  636</span>    <span class="comment">// key. If we were to overwrite old entries, we would either</span></div>
<div class="line"><span class="lineno">  637</span>    <span class="comment">// * Have to gain ownership over an existing entry to overwrite it, which</span></div>
<div class="line"><span class="lineno">  638</span>    <span class="comment">// would only work if there are no outstanding (read) references and would</span></div>
<div class="line"><span class="lineno">  639</span>    <span class="comment">// create a small gap in availability of the entry (old or new) to lookups.</span></div>
<div class="line"><span class="lineno">  640</span>    <span class="comment">// * Have to insert into a suboptimal location (more probes) so that the</span></div>
<div class="line"><span class="lineno">  641</span>    <span class="comment">// old entry can be kept around as well.</span></div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    uint64_t initial_countdown = GetInitialCountdown(priority);</div>
<div class="line"><span class="lineno">  644</span>    assert(initial_countdown &gt; 0);</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>    HandleImpl* e =</div>
<div class="line"><span class="lineno">  647</span>        derived.DoInsert(proto, initial_countdown, handle != <span class="keyword">nullptr</span>, state);</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span>    <span class="keywordflow">if</span> (e) {</div>
<div class="line"><span class="lineno">  650</span>      <span class="comment">// Successfully inserted</span></div>
<div class="line"><span class="lineno">  651</span>      <span class="keywordflow">if</span> (handle) {</div>
<div class="line"><span class="lineno">  652</span>        *handle = e;</div>
<div class="line"><span class="lineno">  653</span>      }</div>
<div class="line"><span class="lineno">  654</span>      <span class="keywordflow">return</span> Status::OK();</div>
<div class="line"><span class="lineno">  655</span>    }</div>
<div class="line"><span class="lineno">  656</span>    <span class="comment">// Not inserted</span></div>
<div class="line"><span class="lineno">  657</span>    <span class="comment">// Revert occupancy</span></div>
<div class="line"><span class="lineno">  658</span>    <a class="code hl_variable" href="#ac77e847a676d7b1c9b23386e8fc0671b">occupancy_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6eee24b94e05b32724d318d80b24397d">FetchSubRelaxed</a>(1);</div>
<div class="line"><span class="lineno">  659</span>    <span class="comment">// Maybe fall back on standalone insert</span></div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">if</span> (handle == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  661</span>      <span class="comment">// Revert usage</span></div>
<div class="line"><span class="lineno">  662</span>      <a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6eee24b94e05b32724d318d80b24397d">FetchSubRelaxed</a>(total_charge);</div>
<div class="line"><span class="lineno">  663</span>      <span class="comment">// No underflow</span></div>
<div class="line"><span class="lineno">  664</span>      assert(<a class="code hl_variable" href="#a83cfd21cdc4064eaad12cf25f7dc0011">usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d">LoadRelaxed</a>() &lt; SIZE_MAX / 2);</div>
<div class="line"><span class="lineno">  665</span>      <span class="comment">// As if unrefed entry immdiately evicted</span></div>
<div class="line"><span class="lineno">  666</span>      proto.FreeData(allocator_);</div>
<div class="line"><span class="lineno">  667</span>      <span class="keywordflow">return</span> Status::OK();</div>
<div class="line"><span class="lineno">  668</span>    }</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>    use_standalone_insert = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  671</span>  }</div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span>  <span class="comment">// Run standalone insert</span></div>
<div class="line"><span class="lineno">  674</span>  assert(use_standalone_insert);</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>  *handle = StandaloneInsert&lt;HandleImpl&gt;(proto);</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>  <span class="comment">// The OkOverwritten status is used to count &quot;redundant&quot; insertions into</span></div>
<div class="line"><span class="lineno">  679</span>  <span class="comment">// block cache. This implementation doesn&#39;t strictly check for redundant</span></div>
<div class="line"><span class="lineno">  680</span>  <span class="comment">// insertions, but we instead are probably interested in how many insertions</span></div>
<div class="line"><span class="lineno">  681</span>  <span class="comment">// didn&#39;t go into the table (instead &quot;standalone&quot;), which could be redundant</span></div>
<div class="line"><span class="lineno">  682</span>  <span class="comment">// Insert or some other reason (use_standalone_insert reasons above).</span></div>
<div class="line"><span class="lineno">  683</span>  <span class="keywordflow">return</span> Status::OkOverwritten();</div>
<div class="line"><span class="lineno">  684</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1AcqRelAtomic_html_aac93e76aa937b0f5ef7e127e9d72c775"><div class="ttname"><a href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html#aac93e76aa937b0f5ef7e127e9d72c775">ROCKSDB_NAMESPACE::AcqRelAtomic::FetchAdd</a></div><div class="ttdeci">T FetchAdd(T operand)</div><div class="ttdef"><b>Definition</b> <a href="../../dd/d02/atomic_8h_source.html#l00094">atomic.h:94</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a2f4cbb156e643c3efa9022b1c3fc1463_cgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a2f4cbb156e643c3efa9022b1c3fc1463_cgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a2f4cbb156e643c3efa9022b1c3fc1463_cgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a2f4cbb156e643c3efa9022b1c3fc1463_cgraph">
<area shape="rect" title=" " alt="" coords="5,333,216,395"/>
<area shape="poly" title=" " alt="" coords="56,333,57,323,68,314,85,309,111,307,140,310,158,317,156,322,139,315,110,312,86,314,70,319,62,325,61,334"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#a4f70e8b7d87176f0edbe915d0a2d94ac" title=" " alt="" coords="264,29,516,91"/>
<area shape="poly" title=" " alt="" coords="119,332,139,282,169,220,210,156,234,127,262,101,266,98,269,102,265,105,238,130,214,159,173,222,144,284,124,334"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#afc181854c080c83c83b1de231465f663" title=" " alt="" coords="277,139,503,200"/>
<area shape="poly" title=" " alt="" coords="136,331,191,274,225,243,262,217,282,205,285,210,265,221,229,248,195,278,140,335"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a68c941da5f3083ca54122b381139b65b" title=" " alt="" coords="586,216,767,261"/>
<area shape="poly" title=" " alt="" coords="145,331,198,292,230,274,263,260,342,240,423,230,501,226,571,227,571,233,501,232,423,235,343,246,265,265,232,279,201,297,149,335"/>
<area shape="rect" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html#a01209c99612b96244d57559c5ad514e2" title=" " alt="" coords="277,299,502,360"/>
<area shape="poly" title=" " alt="" coords="216,348,261,343,262,348,216,354"/>
<area shape="rect" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html#ade3f61f6d579c162adb945d6394bfd4e" title=" " alt="" coords="564,380,789,442"/>
<area shape="poly" title=" " alt="" coords="216,370,549,398,548,403,216,375"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a44cf4d9e0f59181d4838378a46b41c73" title=" " alt="" coords="299,595,480,640"/>
<area shape="poly" title=" " alt="" coords="129,394,150,435,181,483,220,532,265,574,287,587,284,592,262,578,216,536,177,487,146,438,124,397"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a8071aaf780d5e9ce4f9f0f1c988408e6" title=" " alt="" coords="586,491,767,536"/>
<area shape="poly" title=" " alt="" coords="131,394,153,428,184,467,221,503,265,530,304,544,346,553,388,557,430,558,512,551,584,537,585,543,513,556,431,564,388,563,345,558,303,549,263,535,218,507,180,470,149,432,127,397"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#a08dcc51a1ef4da95397b99d99637a6f4" title=" " alt="" coords="285,459,495,520"/>
<area shape="poly" title=" " alt="" coords="182,393,306,449,304,454,180,398"/>
<area shape="poly" title=" " alt="" coords="335,29,337,19,347,10,365,5,390,3,420,6,437,13,435,18,418,11,390,8,366,10,349,15,341,21,341,30"/>
<area shape="poly" title=" " alt="" coords="335,138,337,128,347,119,365,114,390,112,420,115,437,122,435,127,418,120,390,117,366,119,349,124,341,131,341,139"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a97a23b3a8089ca01207c23e2536a828c" title=" " alt="" coords="586,147,767,192"/>
<area shape="poly" title=" " alt="" coords="503,167,571,167,571,172,503,172"/>
<area shape="poly" title=" " alt="" coords="504,194,572,211,571,216,503,199"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="837,216,1019,261"/>
<area shape="poly" title=" " alt="" coords="761,190,831,209,830,215,760,195"/>
<area shape="poly" title=" " alt="" coords="768,236,822,236,822,242,768,242"/>
<area shape="poly" title=" " alt="" coords="335,298,337,288,347,279,365,274,390,272,420,275,437,282,435,287,418,280,390,277,366,279,349,284,341,291,341,299"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#afc660ff45fc7c890834fd65eb0ee6c9c" title=" " alt="" coords="586,624,767,669"/>
<area shape="poly" title=" " alt="" coords="481,624,571,633,570,639,481,629"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#acf8261295e4ab4ec8c132ed51b6feb71" title=" " alt="" coords="837,594,1019,638"/>
<area shape="poly" title=" " alt="" coords="481,612,564,610,789,610,822,610,822,615,789,615,564,615,481,617"/>
<area shape="poly" title=" " alt="" coords="767,633,822,626,822,632,768,638"/>
<area shape="poly" title=" " alt="" coords="732,488,761,472,788,452,827,408,860,361,908,274,913,277,865,364,831,412,791,455,764,476,734,493"/>
<area shape="poly" title=" " alt="" coords="495,458,548,443,550,448,496,463"/>
<area shape="poly" title=" " alt="" coords="335,458,337,448,347,439,365,434,390,432,420,435,437,442,435,447,418,440,390,437,366,439,349,444,341,451,341,459"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a2f4cbb156e643c3efa9022b1c3fc1463_icgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a2f4cbb156e643c3efa9022b1c3fc1463_icgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a2f4cbb156e643c3efa9022b1c3fc1463_icgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a2f4cbb156e643c3efa9022b1c3fc1463_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,216,91"/>
<area shape="poly" title=" " alt="" coords="144,17,131,11,110,8,93,10,81,15,75,21,74,29,69,29,70,19,78,10,91,5,111,3,133,5,146,13"/>
</map>
</div>

</div>
</div>
<a id="aa6ee78d01b300b1f03b3f8804def847b" name="aa6ee78d01b300b1f03b3f8804def847b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6ee78d01b300b1f03b3f8804def847b">&#9670;&#160;</a></span>Ref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::Ref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d95/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandle.html">ClockHandle</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>handle</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l00686">686</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  686</span>                                       {</div>
<div class="line"><span class="lineno">  687</span>  <span class="comment">// Increment acquire counter</span></div>
<div class="line"><span class="lineno">  688</span>  uint64_t old_meta = h.meta.FetchAdd(ClockHandle::kAcquireIncrement);</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>  assert((old_meta &gt;&gt; ClockHandle::kStateShift) &amp;</div>
<div class="line"><span class="lineno">  691</span>         ClockHandle::kStateShareableBit);</div>
<div class="line"><span class="lineno">  692</span>  <span class="comment">// Must have already had a reference</span></div>
<div class="line"><span class="lineno">  693</span>  assert(GetRefcount(old_meta) &gt; 0);</div>
<div class="line"><span class="lineno">  694</span>  (void)old_meta;</div>
<div class="line"><span class="lineno">  695</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa6ee78d01b300b1f03b3f8804def847b_cgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa6ee78d01b300b1f03b3f8804def847b_cgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa6ee78d01b300b1f03b3f8804def847b_cgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa6ee78d01b300b1f03b3f8804def847b_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,246,74"/>
<area shape="poly" title=" " alt="" coords="76,29,75,19,83,10,100,5,126,3,153,5,170,12,168,17,152,10,125,8,101,10,86,15,80,21,82,28"/>
<area shape="rect" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html#aac93e76aa937b0f5ef7e127e9d72c775" title=" " alt="" coords="294,29,475,74"/>
<area shape="poly" title=" " alt="" coords="246,49,278,49,278,54,246,54"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa6ee78d01b300b1f03b3f8804def847b_icgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa6ee78d01b300b1f03b3f8804def847b_icgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa6ee78d01b300b1f03b3f8804def847b_icgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa6ee78d01b300b1f03b3f8804def847b_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,246,74"/>
<area shape="poly" title=" " alt="" coords="165,17,150,10,125,8,103,10,89,15,83,21,85,28,80,29,78,19,86,10,102,5,126,3,151,5,167,12"/>
</map>
</div>

</div>
</div>
<a id="a08dcc51a1ef4da95397b99d99637a6f4" name="a08dcc51a1ef4da95397b99d99637a6f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08dcc51a1ef4da95397b99d99637a6f4">&#9670;&#160;</a></span>StandaloneInsert()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class HandleImpl&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">HandleImpl * ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::StandaloneInsert </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html">ClockHandleBasicData</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>proto</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l00385">385</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  386</span>                                       {</div>
<div class="line"><span class="lineno">  387</span>  <span class="comment">// Heap allocated separate from table</span></div>
<div class="line"><span class="lineno">  388</span>  HandleImpl* h = <span class="keyword">new</span> HandleImpl();</div>
<div class="line"><span class="lineno">  389</span>  ClockHandleBasicData* h_alias = h;</div>
<div class="line"><span class="lineno">  390</span>  *h_alias = proto;</div>
<div class="line"><span class="lineno">  391</span>  h-&gt;SetStandalone();</div>
<div class="line"><span class="lineno">  392</span>  <span class="comment">// Single reference (standalone entries only created if returning a refed</span></div>
<div class="line"><span class="lineno">  393</span>  <span class="comment">// Handle back to user)</span></div>
<div class="line"><span class="lineno">  394</span>  uint64_t meta = uint64_t{ClockHandle::kStateInvisible}</div>
<div class="line"><span class="lineno">  395</span>                  &lt;&lt; ClockHandle::kStateShift;</div>
<div class="line"><span class="lineno">  396</span>  meta |= uint64_t{1} &lt;&lt; ClockHandle::kAcquireCounterShift;</div>
<div class="line"><span class="lineno">  397</span>  h-&gt;meta.Store(meta);</div>
<div class="line"><span class="lineno">  398</span>  <span class="comment">// Keep track of how much of usage is standalone</span></div>
<div class="line"><span class="lineno">  399</span>  <a class="code hl_variable" href="#af52195d41a6f06bfcbd82679a027cbf6">standalone_usage_</a>.<a class="code hl_function" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#ab8c07210b81d7b64fc00ce2d30fc5631">FetchAddRelaxed</a>(proto.GetTotalCharge());</div>
<div class="line"><span class="lineno">  400</span>  <span class="keywordflow">return</span> h;</div>
<div class="line"><span class="lineno">  401</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a08dcc51a1ef4da95397b99d99637a6f4_cgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a08dcc51a1ef4da95397b99d99637a6f4_cgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a08dcc51a1ef4da95397b99d99637a6f4_cgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a08dcc51a1ef4da95397b99d99637a6f4_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,216,91"/>
<area shape="poly" title=" " alt="" coords="58,29,60,19,70,10,86,5,111,3,138,5,155,13,153,17,137,11,110,8,87,10,72,15,65,21,64,30"/>
<area shape="rect" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html#ade3f61f6d579c162adb945d6394bfd4e" title=" " alt="" coords="264,29,489,91"/>
<area shape="poly" title=" " alt="" coords="216,58,248,58,248,63,216,63"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a08dcc51a1ef4da95397b99d99637a6f4_icgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a08dcc51a1ef4da95397b99d99637a6f4_icgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a08dcc51a1ef4da95397b99d99637a6f4_icgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a08dcc51a1ef4da95397b99d99637a6f4_icgraph">
<area shape="rect" title=" " alt="" coords="264,84,474,146"/>
<area shape="poly" title=" " alt="" coords="410,72,395,65,369,63,346,65,332,69,324,76,323,84,318,84,320,73,329,65,345,59,369,57,396,60,412,67"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#abbc95f17b3d2608b533954a2b123e893" title=" " alt="" coords="5,29,216,91"/>
<area shape="poly" title=" " alt="" coords="248,92,216,85,217,80,249,87"/>
<area shape="rect" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html#a2f4cbb156e643c3efa9022b1c3fc1463" title=" " alt="" coords="5,139,216,200"/>
<area shape="poly" title=" " alt="" coords="249,143,217,150,216,145,248,138"/>
<area shape="poly" title=" " alt="" coords="152,17,136,11,110,8,88,10,73,15,66,21,65,29,60,29,61,19,71,10,87,5,111,3,138,5,154,13"/>
<area shape="poly" title=" " alt="" coords="152,127,136,120,110,117,88,119,73,124,66,131,65,139,60,138,61,128,71,119,87,114,111,112,138,115,154,122"/>
</map>
</div>

</div>
</div>
<a id="a4dfca308c0668c21d38967f5e150bffa" name="a4dfca308c0668c21d38967f5e150bffa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dfca308c0668c21d38967f5e150bffa">&#9670;&#160;</a></span>TEST_RefN()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::TEST_RefN </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d95/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandle.html">ClockHandle</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l00698">698</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  698</span>                                                       {</div>
<div class="line"><span class="lineno">  699</span>  <span class="comment">// Increment acquire counter</span></div>
<div class="line"><span class="lineno">  700</span>  uint64_t old_meta = h.meta.FetchAdd(n * ClockHandle::kAcquireIncrement);</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>  assert((old_meta &gt;&gt; ClockHandle::kStateShift) &amp;</div>
<div class="line"><span class="lineno">  703</span>         ClockHandle::kStateShareableBit);</div>
<div class="line"><span class="lineno">  704</span>  (void)old_meta;</div>
<div class="line"><span class="lineno">  705</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4dfca308c0668c21d38967f5e150bffa_cgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4dfca308c0668c21d38967f5e150bffa_cgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4dfca308c0668c21d38967f5e150bffa_cgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4dfca308c0668c21d38967f5e150bffa_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,216,91"/>
<area shape="poly" title=" " alt="" coords="63,29,64,19,73,10,88,5,111,3,136,5,152,13,149,17,135,11,110,8,89,10,76,15,69,21,68,29"/>
<area shape="rect" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html#aac93e76aa937b0f5ef7e127e9d72c775" title=" " alt="" coords="264,38,445,82"/>
<area shape="poly" title=" " alt="" coords="216,58,248,58,248,63,216,63"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4dfca308c0668c21d38967f5e150bffa_icgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4dfca308c0668c21d38967f5e150bffa_icgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4dfca308c0668c21d38967f5e150bffa_icgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_a4dfca308c0668c21d38967f5e150bffa_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,216,91"/>
<area shape="poly" title=" " alt="" coords="144,17,131,11,110,8,93,10,81,15,75,21,74,29,69,29,70,19,78,10,91,5,111,3,133,5,146,13"/>
</map>
</div>

</div>
</div>
<a id="ae56c44d575aee6d3d4dcedec2a5de280" name="ae56c44d575aee6d3d4dcedec2a5de280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae56c44d575aee6d3d4dcedec2a5de280">&#9670;&#160;</a></span>TEST_ReleaseNMinus1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::TEST_ReleaseNMinus1 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d95/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandle.html">ClockHandle</a> *</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l00707">707</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  707</span>                                                                 {</div>
<div class="line"><span class="lineno">  708</span>  assert(n &gt; 0);</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span>  <span class="comment">// Like n-1 Releases, but assumes one more will happen in the caller to take</span></div>
<div class="line"><span class="lineno">  711</span>  <span class="comment">// care of anything like erasing an unreferenced, invisible entry.</span></div>
<div class="line"><span class="lineno">  712</span>  uint64_t old_meta =</div>
<div class="line"><span class="lineno">  713</span>      h-&gt;meta.FetchAdd((n - 1) * ClockHandle::kReleaseIncrement);</div>
<div class="line"><span class="lineno">  714</span>  assert((old_meta &gt;&gt; ClockHandle::kStateShift) &amp;</div>
<div class="line"><span class="lineno">  715</span>         ClockHandle::kStateShareableBit);</div>
<div class="line"><span class="lineno">  716</span>  (void)old_meta;</div>
<div class="line"><span class="lineno">  717</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_ae56c44d575aee6d3d4dcedec2a5de280_cgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_ae56c44d575aee6d3d4dcedec2a5de280_cgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_ae56c44d575aee6d3d4dcedec2a5de280_cgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_ae56c44d575aee6d3d4dcedec2a5de280_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,216,91"/>
<area shape="poly" title=" " alt="" coords="63,29,64,19,73,10,88,5,111,3,136,5,152,13,149,17,135,11,110,8,89,10,76,15,69,21,68,29"/>
<area shape="rect" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html#aac93e76aa937b0f5ef7e127e9d72c775" title=" " alt="" coords="264,38,445,82"/>
<area shape="poly" title=" " alt="" coords="216,58,248,58,248,63,216,63"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_ae56c44d575aee6d3d4dcedec2a5de280_icgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_ae56c44d575aee6d3d4dcedec2a5de280_icgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_ae56c44d575aee6d3d4dcedec2a5de280_icgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_ae56c44d575aee6d3d4dcedec2a5de280_icgraph">
<area shape="rect" title=" " alt="" coords="271,84,481,146"/>
<area shape="poly" title=" " alt="" coords="418,72,402,65,376,63,353,65,338,69,331,76,330,84,325,83,326,73,335,65,352,59,376,57,403,60,420,67"/>
<area shape="rect" href="../../d1/d81/classROCKSDB__NAMESPACE_1_1clock__cache_1_1AutoHyperClockTable.html#af9b12764aa02fbbf9120fb96ed552cf7" title=" " alt="" coords="7,29,221,91"/>
<area shape="poly" title=" " alt="" coords="255,92,221,85,222,80,256,87"/>
<area shape="rect" href="../../d3/d91/classROCKSDB__NAMESPACE_1_1clock__cache_1_1FixedHyperClockTable.html#a60f9efb29b9b9a0e35787da79b9fd45b" title=" " alt="" coords="5,139,223,200"/>
<area shape="poly" title=" " alt="" coords="256,143,224,149,223,144,255,137"/>
<area shape="poly" title=" " alt="" coords="156,17,140,11,114,8,91,10,76,15,69,21,68,29,63,29,64,19,74,10,90,5,114,3,141,5,158,13"/>
<area shape="poly" title=" " alt="" coords="156,127,140,120,114,117,91,119,76,124,69,131,68,139,63,138,64,128,74,119,90,114,114,112,141,115,158,122"/>
</map>
</div>

</div>
</div>
<a id="aa32ca86b0bb994fcb45ddb2cbebd40e1" name="aa32ca86b0bb994fcb45ddb2cbebd40e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa32ca86b0bb994fcb45ddb2cbebd40e1">&#9670;&#160;</a></span>TrackAndReleaseEvictedEntry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::TrackAndReleaseEvictedEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d95/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandle.html">ClockHandle</a> *</td>          <td class="paramname"><span class="paramname"><em>h</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a> 파일의 <a class="el" href="../../d0/d8b/clock__cache_8cc_source.html#l00555">555</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  555</span>                                                               {</div>
<div class="line"><span class="lineno">  556</span>  <span class="keywordtype">bool</span> took_value_ownership = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  557</span>  <span class="keywordflow">if</span> (eviction_callback_) {</div>
<div class="line"><span class="lineno">  558</span>    <span class="comment">// For key reconstructed from hash</span></div>
<div class="line"><span class="lineno">  559</span>    <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">UniqueId64x2</a> unhashed;</div>
<div class="line"><span class="lineno">  560</span>    took_value_ownership =</div>
<div class="line"><span class="lineno">  561</span>        <a class="code hl_variable" href="#ab5dca373e480f88dfa20c828104b8c38">eviction_callback_</a>(ClockCacheShard&lt;FixedHyperClockTable&gt;::ReverseHash(</div>
<div class="line"><span class="lineno">  562</span>                               h-&gt;GetHash(), &amp;unhashed, hash_seed_),</div>
<div class="line"><span class="lineno">  563</span>                           <span class="keyword">static_cast&lt;</span>Cache::Handle*<span class="keyword">&gt;</span>(h),</div>
<div class="line"><span class="lineno">  564</span>                           h-&gt;meta.LoadRelaxed() &amp; ClockHandle::kHitBitMask);</div>
<div class="line"><span class="lineno">  565</span>  }</div>
<div class="line"><span class="lineno">  566</span>  <span class="keywordflow">if</span> (!took_value_ownership) {</div>
<div class="line"><span class="lineno">  567</span>    h-&gt;FreeData(allocator_);</div>
<div class="line"><span class="lineno">  568</span>  }</div>
<div class="line"><span class="lineno">  569</span>  MarkEmpty(*h);</div>
<div class="line"><span class="lineno">  570</span>}</div>
<div class="ttc" id="anamespaceROCKSDB__NAMESPACE_html_af4c4e4074a950ca9c8bc7e635a784bf7"><div class="ttname"><a href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af4c4e4074a950ca9c8bc7e635a784bf7">ROCKSDB_NAMESPACE::UniqueId64x2</a></div><div class="ttdeci">std::array&lt; uint64_t, 2 &gt; UniqueId64x2</div><div class="ttdef"><b>Definition</b> <a href="../../d5/d82/unique__id__impl_8h_source.html#l00015">unique_id_impl.h:15</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa32ca86b0bb994fcb45ddb2cbebd40e1_cgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa32ca86b0bb994fcb45ddb2cbebd40e1_cgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa32ca86b0bb994fcb45ddb2cbebd40e1_cgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa32ca86b0bb994fcb45ddb2cbebd40e1_cgraph">
<area shape="rect" title=" " alt="" coords="5,115,229,176"/>
<area shape="poly" title=" " alt="" coords="64,114,65,104,75,95,92,90,117,88,145,91,163,98,161,103,144,96,117,93,93,95,78,100,70,107,69,115"/>
<area shape="rect" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html#a01209c99612b96244d57559c5ad514e2" title=" " alt="" coords="277,29,502,91"/>
<area shape="poly" title=" " alt="" coords="217,112,273,94,275,99,218,117"/>
<area shape="rect" href="../../d1/d57/structROCKSDB__NAMESPACE_1_1clock__cache_1_1ClockHandleBasicData.html#a7b8a54d718808da31ba71a2de5b28684" title=" " alt="" coords="277,115,502,176"/>
<area shape="poly" title=" " alt="" coords="229,143,261,143,261,148,229,148"/>
<area shape="rect" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html#a6a8401cbb9ead0bbb0def8fbfbabc97d" title=" " alt="" coords="283,200,496,245"/>
<area shape="poly" title=" " alt="" coords="229,174,294,193,293,198,227,180"/>
<area shape="poly" title=" " alt="" coords="336,29,338,19,347,10,365,5,389,3,418,5,435,13,433,17,416,11,389,8,366,10,350,15,342,21,341,30"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa32ca86b0bb994fcb45ddb2cbebd40e1_icgraph.png" border="0" usemap="#ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa32ca86b0bb994fcb45ddb2cbebd40e1_icgraph" alt=""/></div>
<map name="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa32ca86b0bb994fcb45ddb2cbebd40e1_icgraph" id="ad9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable_aa32ca86b0bb994fcb45ddb2cbebd40e1_icgraph">
<area shape="rect" title=" " alt="" coords="267,29,490,91"/>
<area shape="poly" title=" " alt="" coords="421,17,405,11,378,8,355,10,340,15,332,21,331,30,326,29,328,19,337,10,354,5,378,3,406,5,423,13"/>
<area shape="rect" href="../../d1/d81/classROCKSDB__NAMESPACE_1_1clock__cache_1_1AutoHyperClockTable.html#a9055868cef9d318a6d4bc97cc2f55c8d" title=" " alt="" coords="5,29,219,91"/>
<area shape="poly" title=" " alt="" coords="251,63,219,63,219,58,251,58"/>
<area shape="poly" title=" " alt="" coords="155,17,139,11,112,8,89,10,74,15,66,21,65,30,60,29,61,19,71,10,88,5,112,3,140,5,157,13"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">멤버 데이터 문서화</h2>
<a id="ac17ac84de3be7dec0320979693b01f78" name="ac17ac84de3be7dec0320979693b01f78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac17ac84de3be7dec0320979693b01f78">&#9670;&#160;</a></span>allocator_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d8f/classROCKSDB__NAMESPACE_1_1MemoryAllocator.html">MemoryAllocator</a>* const ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::allocator_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00504">504</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="aaf422722f1e9ff79fd0f8d1952068b57" name="aaf422722f1e9ff79fd0f8d1952068b57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf422722f1e9ff79fd0f8d1952068b57">&#9670;&#160;</a></span>clock_pointer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html">RelaxedAtomic</a>&lt;uint64_t&gt; ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::clock_pointer_ {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00477">477</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  477</span>{};</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5dca373e480f88dfa20c828104b8c38" name="ab5dca373e480f88dfa20c828104b8c38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5dca373e480f88dfa20c828104b8c38">&#9670;&#160;</a></span>eviction_callback_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d2/d0d/classROCKSDB__NAMESPACE_1_1Cache.html#af94e718286ee6148eacb1e95808c2399">Cache::EvictionCallback</a>&amp; ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::eviction_callback_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00507">507</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="afbfb2f7669dfb5646031a78ff9457374" name="afbfb2f7669dfb5646031a78ff9457374"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbfb2f7669dfb5646031a78ff9457374">&#9670;&#160;</a></span>eviction_effort_exceeded_count_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html">RelaxedAtomic</a>&lt;uint64_t&gt; ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::eviction_effort_exceeded_count_ {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00487">487</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  487</span>{};</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2b3971ae328e8ee5badf31a1b9c6a0d" name="aa2b3971ae328e8ee5badf31a1b9c6a0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b3971ae328e8ee5badf31a1b9c6a0d">&#9670;&#160;</a></span>hash_seed_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t&amp; ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::hash_seed_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00510">510</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a9b3d1b42cce7ea431ff90d735eb35c0a" name="a9b3d1b42cce7ea431ff90d735eb35c0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b3d1b42cce7ea431ff90d735eb35c0a">&#9670;&#160;</a></span>metadata_charge_policy_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ad6fbfb4d192b433af6ebde26a12775dc">CacheMetadataChargePolicy</a> ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::metadata_charge_policy_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00501">501</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ac77e847a676d7b1c9b23386e8fc0671b" name="ac77e847a676d7b1c9b23386e8fc0671b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac77e847a676d7b1c9b23386e8fc0671b">&#9670;&#160;</a></span>occupancy_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html">AcqRelAtomic</a>&lt;size_t&gt; ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::occupancy_ {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00492">492</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  492</span>{};</div>
</div><!-- fragment -->
</div>
</div>
<a id="af52195d41a6f06bfcbd82679a027cbf6" name="af52195d41a6f06bfcbd82679a027cbf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af52195d41a6f06bfcbd82679a027cbf6">&#9670;&#160;</a></span>standalone_usage_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html">AcqRelAtomic</a>&lt;size_t&gt; ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::standalone_usage_ {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00498">498</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  498</span>{};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a83cfd21cdc4064eaad12cf25f7dc0011" name="a83cfd21cdc4064eaad12cf25f7dc0011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83cfd21cdc4064eaad12cf25f7dc0011">&#9670;&#160;</a></span>usage_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d80/classROCKSDB__NAMESPACE_1_1AcqRelAtomic.html">AcqRelAtomic</a>&lt;size_t&gt; ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::usage_ {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00495">495</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  495</span>{};</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae058b85ca9ff2ed2c9240cafe094f99f" name="ae058b85ca9ff2ed2c9240cafe094f99f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae058b85ca9ff2ed2c9240cafe094f99f">&#9670;&#160;</a></span>yield_count_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/dbc/classROCKSDB__NAMESPACE_1_1RelaxedAtomic.html">RelaxedAtomic</a>&lt;uint64_t&gt; ROCKSDB_NAMESPACE::clock_cache::BaseClockTable::yield_count_ {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a> 파일의 <a class="el" href="../../db/d81/clock__cache_8h_source.html#l00482">482</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  482</span>{};</div>
</div><!-- fragment -->
</div>
</div>
<hr/>이 클래스에 대한 문서화 페이지는 다음의 파일들로부터 생성되었습니다.:<ul>
<li>cache/<a class="el" href="../../db/d81/clock__cache_8h_source.html">clock_cache.h</a></li>
<li>cache/<a class="el" href="../../d0/d8b/clock__cache_8cc_source.html">clock_cache.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html">ROCKSDB_NAMESPACE</a></li><li class="navelem"><a class="el" href="../../d9/dfe/namespaceROCKSDB__NAMESPACE_1_1clock__cache.html">clock_cache</a></li><li class="navelem"><a class="el" href="../../d9/dd4/classROCKSDB__NAMESPACE_1_1clock__cache_1_1BaseClockTable.html">BaseClockTable</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
