<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RocksDB Doxygen: ROCKSDB_NAMESPACE::PointLockManager 클래스 참조</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RocksDB Doxygen
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 다음에 의해 생성됨 :  Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','검색',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">로딩중...</div>
<div class="SRStatus" id="Searching">검색중...</div>
<div class="SRStatus" id="NoMatches">일치하는것 없음</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public 멤버 함수</a> &#124;
<a href="#pri-types">Private 타입</a> &#124;
<a href="#pri-methods">Private 멤버 함수</a> &#124;
<a href="#pri-attribs">Private 속성</a> &#124;
<a href="../../d7/d3b/classROCKSDB__NAMESPACE_1_1PointLockManager-members.html">모든 멤버 목록</a>  </div>
  <div class="headertitle"><div class="title">ROCKSDB_NAMESPACE::PointLockManager 클래스 참조</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a>&gt;</code></p>
<div class="dynheader">
ROCKSDB_NAMESPACE::PointLockManager에 대한 상속 다이어그램 : </div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d06/classROCKSDB__NAMESPACE_1_1PointLockManager__inherit__graph.png" border="0" usemap="#aROCKSDB__NAMESPACE_1_1PointLockManager_inherit__map" alt="Inheritance graph"/></div>
<map name="aROCKSDB__NAMESPACE_1_1PointLockManager_inherit__map" id="aROCKSDB__NAMESPACE_1_1PointLockManager_inherit__map">
<area shape="rect" title=" " alt="" coords="5,98,187,143"/>
<area shape="rect" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html" title=" " alt="" coords="5,5,187,50"/>
<area shape="poly" title=" " alt="" coords="99,66,99,98,93,98,93,66"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">범례</a>]</span></center></div>
<div class="dynheader">
ROCKSDB_NAMESPACE::PointLockManager에 대한 협력 다이어그램:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc9/classROCKSDB__NAMESPACE_1_1PointLockManager__coll__graph.png" border="0" usemap="#aROCKSDB__NAMESPACE_1_1PointLockManager_coll__map" alt="Collaboration graph"/></div>
<map name="aROCKSDB__NAMESPACE_1_1PointLockManager_coll__map" id="aROCKSDB__NAMESPACE_1_1PointLockManager_coll__map">
<area shape="rect" title=" " alt="" coords="2494,2429,2675,2474"/>
<area shape="rect" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html" title=" " alt="" coords="2086,2233,2267,2278"/>
<area shape="poly" title=" " alt="" coords="2283,2277,2372,2306,2417,2324,2460,2347,2517,2387,2562,2427,2558,2431,2513,2391,2457,2351,2415,2329,2370,2311,2282,2282"/>
<area shape="rect" href="../../d2/d58/classROCKSDB__NAMESPACE_1_1PessimisticTransactionDB.html" title=" " alt="" coords="2082,2627,2271,2671"/>
<area shape="poly" title=" " alt="" coords="2286,2631,2372,2608,2416,2592,2457,2572,2490,2549,2519,2523,2564,2473,2568,2476,2523,2527,2493,2554,2460,2576,2418,2597,2374,2613,2287,2636"/>
<area shape="rect" href="../../da/dcd/classROCKSDB__NAMESPACE_1_1TransactionDB.html" title=" " alt="" coords="1660,2604,1841,2649"/>
<area shape="poly" title=" " alt="" coords="1857,2629,2082,2641,2081,2647,1857,2635"/>
<area shape="rect" href="../../dc/d62/classROCKSDB__NAMESPACE_1_1StackableDB.html" title=" " alt="" coords="1245,2604,1426,2649"/>
<area shape="poly" title=" " alt="" coords="1441,2624,1660,2624,1660,2629,1441,2629"/>
<area shape="rect" href="../../d4/dc0/classROCKSDB__NAMESPACE_1_1DB.html" title=" " alt="" coords="800,2576,1000,2604"/>
<area shape="poly" title=" " alt="" coords="976,2605,1025,2613,1139,2622,1244,2625,1244,2630,1139,2627,1024,2618,976,2610"/>
<area shape="poly" title=" " alt="" coords="1016,2597,1244,2616,1244,2622,1015,2602"/>
<area shape="rect" href="../../d4/d18/classROCKSDB__NAMESPACE_1_1DBImpl.html" title=" " alt="" coords="1660,1117,1841,1162"/>
<area shape="poly" title=" " alt="" coords="938,2566,1158,2445,1308,2367,1464,2293,1491,2283,1516,2278,1559,2273,1579,2269,1598,2262,1616,2249,1634,2230,1646,2206,1657,2166,1679,2048,1697,1894,1713,1720,1735,1380,1746,1162,1751,1163,1740,1380,1718,1720,1702,1894,1684,2049,1663,2167,1651,2208,1638,2233,1619,2254,1600,2266,1580,2274,1560,2278,1516,2283,1492,2289,1466,2298,1311,2372,1161,2449,941,2571"/>
<area shape="poly" title=" " alt="" coords="1762,1177,1913,1971,2002,2411,2034,2555,2052,2614,2066,2626,2083,2635,2080,2639,2063,2630,2047,2617,2029,2556,1996,2412,1908,1972,1756,1178"/>
<area shape="rect" href="../../d9/d62/classROCKSDB__NAMESPACE_1_1ColumnFamilyHandleImpl.html" title=" " alt="" coords="2081,1193,2272,1238"/>
<area shape="poly" title=" " alt="" coords="1790,1169,1826,1193,1866,1211,1920,1223,1976,1229,2081,1226,2081,1232,1976,1234,1919,1229,1864,1217,1823,1198,1787,1174"/>
<area shape="rect" href="../../dc/d6a/classROCKSDB__NAMESPACE_1_1ErrorHandler.html" title=" " alt="" coords="2086,999,2267,1043"/>
<area shape="poly" title=" " alt="" coords="1782,1104,1819,1073,1864,1048,1920,1031,1977,1020,2034,1015,2085,1014,2085,1019,2034,1020,1978,1025,1921,1036,1866,1053,1822,1078,1785,1108"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html" title=" " alt="" coords="1245,219,1426,263"/>
<area shape="poly" title=" " alt="" coords="1428,265,1466,275,1492,279,1516,279,1559,276,1579,277,1598,280,1618,290,1638,307,1658,335,1676,372,1692,417,1705,468,1725,585,1739,712,1747,839,1751,956,1752,1117,1747,1117,1746,956,1742,840,1734,713,1720,586,1700,469,1687,419,1671,374,1654,338,1634,311,1615,295,1596,286,1578,282,1559,282,1516,285,1492,284,1464,280,1426,271"/>
<area shape="poly" title=" " alt="" coords="1441,216,1489,213,1539,214,1590,223,1637,241,1697,277,1753,319,1806,366,1854,418,1900,472,1941,528,2014,644,2073,756,2119,858,2171,997,2166,999,2114,860,2068,758,2009,646,1937,531,1895,475,1850,421,1802,370,1750,323,1694,282,1635,246,1588,228,1539,220,1489,218,1442,222"/>
<area shape="rect" href="../../d8/d57/structROCKSDB__NAMESPACE_1_1DBOptions.html" title=" " alt="" coords="810,977,991,1022"/>
<area shape="poly" title=" " alt="" coords="1007,998,1135,1004,1294,1019,1467,1044,1553,1063,1637,1085,1708,1114,1706,1119,1635,1090,1552,1068,1466,1050,1294,1024,1135,1010,1006,1004"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html" title=" " alt="" coords="392,710,597,738"/>
<area shape="poly" title=" " alt="" coords="534,700,677,624,875,523,1076,429,1162,395,1229,374,1321,359,1441,349,1501,350,1557,355,1604,366,1638,386,1658,410,1675,442,1690,482,1703,527,1723,632,1737,747,1746,862,1750,968,1752,1117,1747,1117,1745,969,1740,862,1732,747,1718,633,1698,529,1685,483,1670,444,1653,413,1634,390,1602,371,1556,360,1501,355,1441,355,1321,364,1230,380,1164,400,1078,434,877,528,679,629,537,704"/>
<area shape="poly" title=" " alt="" coords="582,743,599,758,611,777,615,797,610,833,606,868,611,885,623,901,640,915,657,922,692,923,731,919,753,921,777,926,826,949,868,974,865,979,823,954,775,932,752,926,731,925,692,929,656,927,638,920,619,905,606,887,601,869,605,833,609,797,606,779,595,761,579,747"/>
<area shape="rect" href="../../d5/d2e/structROCKSDB__NAMESPACE_1_1ImmutableDBOptions.html" title=" " alt="" coords="810,764,991,809"/>
<area shape="poly" title=" " alt="" coords="604,738,809,770,809,775,603,743"/>
<area shape="rect" href="../../dd/d1f/classROCKSDB__NAMESPACE_1_1WalManager.html" title=" " alt="" coords="1245,1187,1426,1231"/>
<area shape="poly" title=" " alt="" coords="568,703,661,689,716,685,775,685,834,690,893,701,950,721,1002,749,1052,789,1088,829,1114,870,1132,912,1162,1007,1181,1060,1208,1120,1217,1149,1222,1161,1231,1172,1248,1184,1245,1188,1228,1176,1217,1163,1212,1151,1203,1122,1177,1062,1157,1008,1127,914,1109,872,1084,832,1048,793,999,754,948,726,892,707,834,695,775,690,717,690,662,694,568,709"/>
<area shape="rect" href="../../d0/deb/classROCKSDB__NAMESPACE_1_1Customizable.html" title=" " alt="" coords="5,768,187,813"/>
<area shape="poly" title=" " alt="" coords="202,770,407,736,407,741,203,775"/>
<area shape="rect" href="../../d6/de4/classROCKSDB__NAMESPACE_1_1WalFilter.html" title=" " alt="" coords="404,772,585,817"/>
<area shape="poly" title=" " alt="" coords="202,789,403,791,403,796,202,794"/>
<area shape="rect" href="../../dc/d06/classROCKSDB__NAMESPACE_1_1SystemClock.html" title=" " alt="" coords="404,1135,585,1179"/>
<area shape="poly" title=" " alt="" coords="135,821,470,1132,466,1136,131,825"/>
<area shape="rect" href="../../d0/d87/classROCKSDB__NAMESPACE_1_1Statistics.html" title=" " alt="" coords="404,520,585,565"/>
<area shape="poly" title=" " alt="" coords="176,757,185,750,193,737,196,724,200,710,209,695,258,651,315,614,372,585,423,563,425,568,374,589,317,618,262,655,213,699,204,712,202,725,198,739,189,753,180,761"/>
<area shape="rect" href="../../d4/ddd/classROCKSDB__NAMESPACE_1_1ThreadStatusUpdater.html" title=" " alt="" coords="5,695,187,739"/>
<area shape="poly" title=" " alt="" coords="202,716,391,719,391,725,202,721"/>
<area shape="poly" title=" " alt="" coords="533,826,568,865,599,912,607,936,607,957,610,975,623,992,653,1004,700,1009,809,1006,809,1012,699,1014,652,1009,619,996,605,977,602,958,601,937,595,914,564,869,529,830"/>
<area shape="poly" title=" " alt="" coords="601,790,809,785,809,791,601,795"/>
<area shape="rect" href="../../d7/da0/classROCKSDB__NAMESPACE_1_1SmallEnumSet.html" title=" " alt="" coords="401,925,588,986"/>
<area shape="poly" title=" " alt="" coords="534,996,574,1030,597,1045,622,1056,664,1068,698,1071,732,1066,775,1056,821,1041,862,1020,864,1025,823,1046,777,1062,733,1071,698,1076,663,1074,620,1062,595,1050,571,1034,531,1000"/>
<area shape="poly" title=" " alt="" coords="554,914,620,879,663,861,697,851,775,828,836,807,838,812,777,834,698,856,664,866,622,883,557,919"/>
<area shape="poly" title=" " alt="" coords="966,813,1088,867,1231,923,1292,944,1345,957,1437,976,1528,999,1579,1019,1637,1047,1688,1080,1728,1115,1725,1119,1684,1084,1635,1051,1577,1024,1526,1004,1436,981,1344,963,1290,949,1229,929,1085,872,964,818"/>
<area shape="poly" title=" " alt="" coords="997,753,1006,731,1013,706,1018,647,1016,580,1010,509,1005,439,1002,374,1007,319,1013,296,1022,277,1052,235,1082,200,1113,169,1145,144,1178,123,1212,106,1247,94,1284,85,1362,77,1446,81,1537,93,1637,112,1763,138,1816,152,1863,170,1906,194,1947,226,1987,268,2028,322,2056,380,2082,462,2106,559,2126,664,2158,864,2175,998,2170,999,2153,864,2121,665,2100,560,2077,463,2051,382,2023,325,1983,271,1943,230,1903,198,1861,175,1814,157,1762,143,1635,117,1536,99,1445,86,1362,83,1285,90,1249,99,1214,111,1180,127,1148,148,1116,173,1086,203,1056,239,1027,280,1018,298,1012,319,1008,374,1010,438,1016,508,1021,579,1023,647,1018,707,1012,733,1002,755"/>
<area shape="poly" title=" " alt="" coords="929,821,968,885,987,924,1003,964,1008,1003,1010,1054,1014,1104,1019,1123,1026,1136,1050,1145,1104,1158,1245,1188,1244,1194,1103,1163,1049,1150,1023,1140,1014,1125,1009,1105,1004,1055,1003,1004,998,966,982,926,963,888,924,823"/>
<area shape="poly" title=" " alt="" coords="514,1120,566,1037,594,999,619,975,641,964,662,960,698,961,735,963,754,959,775,949,813,918,845,879,870,840,887,808,891,810,874,843,850,882,817,922,777,954,755,964,735,968,698,966,662,965,643,969,623,979,598,1002,570,1040,518,1123"/>
<area shape="rect" href="../../d2/d7b/classROCKSDB__NAMESPACE_1_1InstrumentedMutex.html" title=" " alt="" coords="810,2125,991,2170"/>
<area shape="poly" title=" " alt="" coords="507,1194,552,1362,585,1469,623,1577,695,1744,772,1904,888,2124,884,2126,767,1907,690,1747,619,1579,580,1471,547,1363,502,1195"/>
<area shape="rect" href="../../d5/de2/classROCKSDB__NAMESPACE_1_1InternalStats.html" title=" " alt="" coords="1024,1559,1206,1603"/>
<area shape="poly" title=" " alt="" coords="523,1190,569,1250,634,1325,713,1402,756,1438,801,1469,856,1500,914,1525,1025,1559,1023,1564,912,1530,854,1505,799,1474,753,1442,710,1406,630,1328,565,1253,519,1194"/>
<area shape="rect" href="../../d1/db8/classROCKSDB__NAMESPACE_1_1InstrumentedCondVar.html" title=" " alt="" coords="1024,627,1206,671"/>
<area shape="poly" title=" " alt="" coords="601,1158,621,1158,699,1165,733,1166,775,1158,847,1139,902,1118,949,1086,998,1033,1029,987,1053,937,1072,886,1087,834,1104,739,1110,671,1115,672,1109,740,1092,835,1077,887,1058,940,1033,990,1002,1036,953,1090,904,1123,849,1144,777,1163,734,1171,699,1170,621,1163,600,1163"/>
<area shape="poly" title=" " alt="" coords="502,504,516,459,540,406,574,356,595,335,620,317,669,310,778,303,929,297,1103,294,1280,296,1441,305,1566,322,1610,334,1638,350,1651,386,1666,464,1700,696,1750,1117,1744,1117,1695,697,1661,465,1646,388,1634,353,1608,339,1565,327,1440,310,1280,301,1103,299,929,302,778,308,669,315,622,322,599,339,578,360,545,409,521,460,507,506"/>
<area shape="poly" title=" " alt="" coords="547,571,778,719,801,736,849,761,846,766,799,741,774,723,544,575"/>
<area shape="poly" title=" " alt="" coords="528,575,567,630,585,663,600,698,605,773,606,900,610,1025,615,1070,623,1094,640,1109,658,1115,698,1114,739,1113,760,1121,778,1137,786,1159,792,1197,798,1302,803,1471,827,1670,855,1863,898,2125,892,2125,850,1863,822,1671,797,1472,793,1302,786,1198,781,1160,774,1140,757,1125,739,1119,698,1120,657,1120,637,1113,619,1097,610,1071,605,1025,601,900,600,773,594,699,580,665,562,633,524,579"/>
<area shape="poly" title=" " alt="" coords="601,558,1024,631,1023,636,600,563"/>
<area shape="rect" href="../../dc/d56/classROCKSDB__NAMESPACE_1_1Logger.html" title=" " alt="" coords="404,201,585,246"/>
<area shape="poly" title=" " alt="" coords="552,252,608,289,671,339,731,400,757,434,778,471,786,496,789,529,788,607,788,683,793,714,802,737,814,750,830,761,827,766,811,754,798,740,788,716,783,684,783,607,784,529,781,497,774,473,752,437,727,403,667,343,605,293,549,256"/>
<area shape="rect" href="../../da/d96/classROCKSDB__NAMESPACE_1_1EventLogger.html" title=" " alt="" coords="1245,5,1426,50"/>
<area shape="poly" title=" " alt="" coords="575,193,777,130,900,96,1024,66,1138,47,1244,33,1245,39,1139,52,1025,72,901,101,779,135,577,199"/>
<area shape="rect" href="../../d2/df1/classROCKSDB__NAMESPACE_1_1FileSystemPtr.html" title=" " alt="" coords="810,1187,991,1231"/>
<area shape="poly" title=" " alt="" coords="972,1176,998,1156,1006,1146,1009,1135,1013,1124,1023,1113,1048,1101,1078,1092,1149,1081,1233,1077,1323,1080,1500,1097,1636,1114,1660,1118,1659,1123,1636,1120,1500,1102,1323,1086,1233,1083,1150,1086,1079,1097,1050,1106,1026,1118,1017,1126,1014,1136,1011,1148,1002,1160,975,1181"/>
<area shape="poly" title=" " alt="" coords="1006,1206,1244,1206,1244,1212,1006,1212"/>
<area shape="rect" href="../../d1/dc3/structROCKSDB__NAMESPACE_1_1MutableDBOptions.html" title=" " alt="" coords="1245,1864,1426,1909"/>
<area shape="poly" title=" " alt="" coords="1442,1903,1492,1904,1543,1898,1592,1883,1614,1870,1634,1855,1652,1833,1668,1802,1695,1722,1715,1623,1729,1514,1743,1304,1747,1162,1752,1163,1749,1304,1734,1515,1720,1624,1700,1723,1673,1804,1657,1835,1638,1859,1617,1875,1594,1888,1545,1904,1492,1909,1442,1908"/>
<area shape="poly" title=" " alt="" coords="908,2185,919,2242,940,2312,956,2347,975,2381,998,2411,1026,2438,1065,2464,1100,2481,1134,2489,1168,2492,1242,2488,1334,2484,2178,2484,2345,2476,2493,2461,2493,2466,2346,2481,2178,2489,1334,2489,1242,2494,1168,2498,1133,2495,1099,2486,1062,2469,1023,2442,994,2415,970,2384,951,2349,935,2314,914,2244,903,2186"/>
<area shape="poly" title=" " alt="" coords="905,2185,912,2255,930,2341,946,2385,966,2428,993,2466,1026,2499,1056,2518,1094,2534,1138,2547,1187,2557,1298,2571,1419,2578,1657,2581,1760,2583,1842,2589,2026,2616,2082,2626,2081,2632,2025,2621,1841,2594,1760,2588,1657,2586,1418,2583,1298,2576,1186,2563,1137,2552,1092,2539,1054,2523,1023,2503,989,2470,962,2430,941,2387,925,2342,906,2255,900,2186"/>
<area shape="poly" title=" " alt="" coords="921,2111,968,2040,1038,1950,1080,1904,1126,1858,1176,1816,1228,1780,1258,1765,1284,1755,1332,1747,1381,1742,1440,1726,1550,1687,1592,1662,1612,1643,1634,1617,1670,1559,1698,1495,1718,1429,1732,1363,1746,1244,1747,1162,1753,1162,1751,1244,1737,1364,1723,1430,1703,1497,1675,1561,1638,1620,1616,1646,1595,1666,1552,1692,1442,1731,1382,1748,1333,1753,1286,1760,1260,1770,1231,1785,1179,1821,1130,1862,1084,1907,1042,1954,972,2043,925,2114"/>
<area shape="rect" href="../../d3/dc3/classROCKSDB__NAMESPACE_1_1BlockCacheTracer.html" title=" " alt="" coords="1245,1256,1426,1301"/>
<area shape="poly" title=" " alt="" coords="902,2109,916,1985,941,1818,957,1733,976,1656,998,1591,1022,1545,1044,1522,1067,1508,1115,1495,1161,1482,1183,1469,1203,1447,1213,1430,1216,1413,1213,1380,1211,1346,1216,1329,1228,1311,1243,1298,1246,1302,1232,1315,1221,1331,1217,1347,1219,1379,1222,1413,1218,1431,1208,1450,1186,1473,1163,1487,1116,1500,1069,1513,1047,1526,1026,1548,1003,1593,981,1657,963,1734,946,1819,922,1985,908,2110"/>
<area shape="poly" title=" " alt="" coords="916,2183,932,2221,955,2264,987,2304,1026,2336,1051,2346,1092,2355,1210,2369,1362,2379,1531,2383,1698,2381,1848,2372,1963,2356,2001,2345,2023,2333,2090,1844,2170,1238,2175,1239,2096,1844,2028,2336,2003,2350,1964,2361,1849,2378,1699,2387,1531,2389,1362,2385,1210,2375,1091,2360,1050,2351,1023,2341,983,2308,951,2267,927,2224,911,2185"/>
<area shape="poly" title=" " alt="" coords="934,2179,975,2213,999,2228,1025,2240,1197,2300,1272,2322,1343,2334,1411,2335,1481,2323,1555,2294,1635,2246,1703,2195,1760,2144,1807,2092,1845,2040,1875,1986,1899,1931,1917,1874,1931,1815,1950,1690,1966,1553,1987,1403,2002,1322,2023,1237,2028,1191,2025,1153,2027,1117,2034,1098,2047,1077,2068,1057,2092,1042,2095,1046,2071,1061,2051,1080,2039,1100,2033,1118,2031,1153,2033,1191,2028,1237,2008,1323,1992,1403,1971,1554,1955,1690,1936,1816,1922,1875,1904,1932,1880,1988,1849,2042,1811,2096,1764,2148,1706,2200,1637,2251,1557,2299,1483,2328,1412,2341,1342,2339,1271,2327,1196,2305,1023,2245,997,2233,972,2217,931,2183"/>
<area shape="rect" href="../../dd/d80/classROCKSDB__NAMESPACE_1_1BlobFileCompletionCallback.html" title=" " alt="" coords="2483,1057,2686,1102"/>
<area shape="poly" title=" " alt="" coords="912,2184,926,2230,949,2283,982,2334,1002,2356,1026,2375,1051,2385,1091,2395,1209,2411,1362,2422,1531,2427,1699,2426,1849,2417,1963,2401,2001,2390,2023,2376,2031,2365,2036,2347,2040,2303,2042,2256,2047,2220,2108,2040,2179,1861,2257,1688,2335,1526,2477,1258,2567,1101,2572,1104,2482,1260,2340,1528,2261,1690,2184,1863,2113,2042,2052,2222,2047,2257,2045,2303,2041,2348,2036,2367,2027,2380,2003,2394,1964,2406,1849,2423,1699,2431,1530,2432,1361,2427,1209,2416,1090,2400,1049,2390,1023,2379,999,2360,977,2338,944,2286,921,2232,907,2186"/>
<area shape="rect" href="../../d5/d4f/classROCKSDB__NAMESPACE_1_1port_1_1Mutex.html" title=" " alt="" coords="404,2125,585,2170"/>
<area shape="poly" title=" " alt="" coords="601,2145,809,2145,809,2150,601,2150"/>
<area shape="rect" href="../../d7/d44/classROCKSDB__NAMESPACE_1_1WriteThread.html" title=" " alt="" coords="1024,2185,1206,2230"/>
<area shape="poly" title=" " alt="" coords="601,2165,621,2167,838,2189,1024,2201,1024,2206,838,2194,621,2173,600,2170"/>
<area shape="poly" title=" " alt="" coords="493,2110,495,1938,501,1820,511,1694,526,1571,549,1458,563,1409,579,1367,598,1332,619,1306,644,1296,687,1289,806,1281,1000,1275,1128,1253,1244,1228,1245,1233,1129,1258,1001,1280,807,1287,688,1294,645,1301,623,1310,602,1335,584,1369,568,1411,554,1460,532,1572,516,1695,506,1820,501,1938,498,2110"/>
<area shape="poly" title=" " alt="" coords="1441,1262,1537,1242,1587,1228,1635,1210,1680,1187,1719,1160,1722,1165,1683,1191,1637,1215,1588,1233,1538,1247,1442,1267"/>
<area shape="rect" href="../../df/dd1/structROCKSDB__NAMESPACE_1_1BlockCacheTraceOptions.html" title=" " alt="" coords="809,1337,991,1382"/>
<area shape="poly" title=" " alt="" coords="1007,1354,1104,1343,1205,1322,1229,1311,1260,1299,1262,1304,1231,1315,1207,1327,1105,1349,1007,1359"/>
<area shape="poly" title=" " alt="" coords="2065,1202,1865,1168,1841,1163,1842,1158,1866,1163,2066,1197"/>
<area shape="poly" title=" " alt="" coords="1222,1604,1321,1617,1375,1619,1432,1616,1487,1607,1541,1592,1590,1568,1634,1534,1670,1491,1697,1441,1718,1388,1732,1334,1745,1234,1747,1162,1753,1162,1751,1235,1737,1335,1723,1390,1702,1444,1674,1494,1638,1538,1593,1572,1543,1597,1489,1613,1432,1621,1375,1624,1320,1622,1221,1609"/>
<area shape="poly" title=" " alt="" coords="2093,1051,2026,1070,1946,1085,1866,1101,1810,1119,1808,1114,1865,1096,1945,1080,2025,1065,2091,1046"/>
<area shape="poly" title=" " alt="" coords="2283,1034,2483,1062,2482,1068,2282,1039"/>
<area shape="poly" title=" " alt="" coords="1137,684,1175,740,1201,767,1231,789,1260,803,1287,813,1340,820,1390,816,1438,808,1486,801,1535,800,1585,813,1611,826,1638,844,1668,874,1692,908,1711,946,1726,986,1744,1060,1751,1116,1745,1117,1738,1061,1721,987,1706,948,1687,911,1664,877,1634,848,1608,830,1583,818,1534,805,1487,806,1439,813,1390,821,1340,825,1286,818,1258,808,1228,794,1197,771,1171,743,1132,687"/>
<area shape="poly" title=" " alt="" coords="1132,612,1169,526,1188,473,1203,421,1207,372,1206,308,1210,246,1216,222,1228,204,1243,196,1268,190,1338,184,1430,183,1533,188,1729,207,1801,219,1843,233,1893,271,1938,314,1978,362,2013,414,2044,469,2071,526,2113,643,2143,756,2162,858,2172,941,2177,998,2171,998,2167,942,2156,859,2138,757,2108,644,2066,528,2040,472,2009,417,1974,365,1934,318,1890,275,1840,238,1800,225,1728,212,1533,193,1430,189,1339,189,1269,196,1245,201,1231,208,1221,224,1215,247,1211,308,1212,372,1208,421,1193,475,1174,528,1136,614"/>
<area shape="poly" title=" " alt="" coords="1370,59,1413,96,1466,129,1491,137,1514,139,1557,135,1577,134,1598,136,1618,144,1638,161,1645,177,1653,207,1669,306,1703,599,1750,1117,1745,1117,1697,600,1663,307,1647,208,1640,178,1634,164,1615,148,1596,141,1577,139,1557,140,1514,144,1490,142,1464,134,1410,101,1366,63"/>
<area shape="poly" title=" " alt="" coords="1442,27,1573,41,1649,54,1729,73,1810,99,1888,133,1961,176,2027,228,2131,338,2228,458,2315,583,2391,705,2457,820,2510,921,2575,1056,2571,1058,2505,923,2452,822,2387,708,2310,586,2223,462,2127,342,2024,232,1958,180,1886,138,1808,104,1728,78,1648,59,1572,46,1441,33"/>
<area shape="rect" href="../../de/dc1/structROCKSDB__NAMESPACE_1_1FileOptions.html" title=" " alt="" coords="810,1415,991,1459"/>
<area shape="poly" title=" " alt="" coords="1006,1447,1100,1453,1209,1455,1326,1448,1441,1431,1500,1417,1546,1403,1588,1380,1634,1342,1672,1297,1703,1247,1725,1200,1740,1161,1745,1163,1730,1202,1707,1250,1677,1300,1638,1346,1591,1384,1548,1407,1502,1422,1441,1436,1326,1454,1209,1460,1099,1458,1006,1452"/>
<area shape="poly" title=" " alt="" coords="1006,1426,1124,1407,1173,1393,1204,1375,1215,1359,1219,1344,1216,1311,1213,1277,1217,1260,1228,1242,1243,1229,1246,1233,1232,1245,1222,1262,1218,1278,1221,1311,1224,1344,1220,1362,1207,1379,1175,1398,1125,1413,1007,1431"/>
<area shape="rect" href="../../d5/d4c/classROCKSDB__NAMESPACE_1_1FileLock.html" title=" " alt="" coords="1245,1933,1426,1978"/>
<area shape="poly" title=" " alt="" coords="1442,1957,1500,1956,1556,1951,1604,1942,1622,1935,1634,1927,1654,1902,1671,1868,1687,1827,1700,1779,1720,1669,1734,1549,1742,1428,1746,1317,1747,1162,1752,1162,1751,1317,1747,1428,1739,1549,1725,1670,1705,1780,1692,1829,1676,1871,1658,1905,1638,1931,1624,1940,1605,1947,1557,1957,1500,1961,1442,1962"/>
<area shape="rect" href="../../d6/d09/classROCKSDB__NAMESPACE_1_1WriteBatch.html" title=" " alt="" coords="1245,2003,1426,2047"/>
<area shape="poly" title=" " alt="" coords="1430,2048,1482,2055,1537,2054,1589,2041,1613,2030,1634,2014,1646,1997,1657,1967,1678,1876,1696,1754,1711,1616,1734,1343,1745,1162,1751,1162,1739,1343,1717,1616,1701,1755,1683,1877,1662,1968,1650,1999,1638,2018,1616,2034,1591,2046,1538,2059,1482,2060,1430,2054"/>
<area shape="rect" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html" title=" " alt="" coords="1230,2072,1441,2133"/>
<area shape="poly" title=" " alt="" coords="1456,2124,1504,2125,1551,2120,1596,2105,1634,2079,1646,2060,1658,2027,1679,1928,1697,1797,1713,1648,1735,1355,1746,1162,1751,1163,1740,1355,1718,1649,1703,1798,1684,1929,1663,2029,1651,2062,1638,2083,1598,2110,1552,2125,1504,2130,1456,2129"/>
<area shape="rect" href="../../dd/ddd/classROCKSDB__NAMESPACE_1_1Directories.html" title=" " alt="" coords="1245,389,1426,434"/>
<area shape="poly" title=" " alt="" coords="1442,407,1500,408,1557,414,1605,424,1638,440,1656,463,1672,493,1699,572,1718,668,1733,774,1748,978,1752,1117,1747,1117,1742,979,1727,774,1713,669,1693,573,1667,495,1652,466,1634,444,1604,429,1556,419,1499,414,1441,412"/>
<area shape="rect" href="../../d9/d4d/classROCKSDB__NAMESPACE_1_1WriteBufferManager.html" title=" " alt="" coords="1245,459,1426,503"/>
<area shape="poly" title=" " alt="" coords="1442,462,1492,462,1544,469,1594,486,1617,499,1638,515,1654,535,1669,562,1693,631,1713,716,1727,810,1745,992,1751,1117,1746,1117,1740,992,1722,811,1707,717,1688,633,1664,564,1650,538,1634,519,1614,503,1592,491,1543,474,1492,467,1442,468"/>
<area shape="poly" title=" " alt="" coords="1221,2226,1324,2235,1380,2235,1437,2230,1493,2218,1546,2198,1593,2170,1634,2131,1645,2110,1656,2074,1677,1968,1695,1829,1711,1671,1734,1363,1746,1162,1751,1163,1739,1363,1716,1672,1700,1829,1682,1969,1661,2075,1650,2112,1638,2135,1597,2174,1548,2203,1495,2223,1438,2235,1380,2240,1323,2241,1221,2232"/>
<area shape="rect" href="../../dd/d87/classROCKSDB__NAMESPACE_1_1WriteController.html" title=" " alt="" coords="1245,528,1426,573"/>
<area shape="poly" title=" " alt="" coords="1442,536,1492,537,1544,546,1594,564,1617,577,1638,594,1652,611,1665,634,1688,694,1706,767,1721,848,1741,1006,1751,1116,1745,1117,1736,1006,1716,849,1701,769,1683,696,1660,636,1648,614,1634,598,1614,582,1592,569,1543,551,1492,543,1442,541"/>
<area shape="rect" href="../../d4/d92/classROCKSDB__NAMESPACE_1_1FlushScheduler.html" title=" " alt="" coords="1245,597,1426,642"/>
<area shape="poly" title=" " alt="" coords="1442,613,1492,617,1544,629,1594,649,1638,680,1661,714,1682,764,1699,824,1715,891,1737,1022,1750,1117,1744,1117,1732,1023,1709,892,1694,826,1677,766,1657,717,1634,684,1592,654,1543,634,1491,623,1441,618"/>
<area shape="rect" href="../../dd/d78/classROCKSDB__NAMESPACE_1_1TrimHistoryScheduler.html" title=" " alt="" coords="1245,667,1426,711"/>
<area shape="poly" title=" " alt="" coords="1442,696,1492,707,1545,724,1594,749,1638,783,1670,823,1696,867,1715,915,1730,963,1746,1052,1752,1117,1746,1117,1741,1053,1725,964,1710,916,1691,869,1666,826,1634,787,1592,754,1542,729,1491,712,1441,701"/>
<area shape="rect" href="../../d1/db1/classROCKSDB__NAMESPACE_1_1SnapshotList.html" title=" " alt="" coords="1245,852,1426,897"/>
<area shape="poly" title=" " alt="" coords="1442,865,1490,868,1542,876,1592,892,1638,917,1662,938,1682,963,1714,1018,1736,1073,1747,1116,1742,1118,1730,1074,1710,1021,1678,966,1658,942,1634,922,1590,897,1540,882,1490,873,1441,870"/>
<area shape="rect" href="../../d3/d78/classROCKSDB__NAMESPACE_1_1TimestampedSnapshotList.html" title=" " alt="" coords="1239,1117,1432,1162"/>
<area shape="poly" title=" " alt="" coords="1448,1137,1659,1137,1659,1142,1448,1142"/>
<area shape="poly" title=" " alt="" coords="1441,1191,1636,1159,1659,1155,1660,1160,1636,1165,1442,1196"/>
<area shape="rect" href="../../dc/d51/classROCKSDB__NAMESPACE_1_1LogsWithPrepTracker.html" title=" " alt="" coords="1245,1325,1426,1370"/>
<area shape="poly" title=" " alt="" coords="1441,1339,1489,1332,1539,1320,1589,1303,1635,1280,1668,1253,1696,1221,1736,1161,1740,1164,1700,1225,1672,1257,1637,1284,1591,1308,1540,1325,1490,1337,1442,1345"/>
<area shape="rect" href="../../d2/dcd/classROCKSDB__NAMESPACE_1_1PeriodicTaskScheduler.html" title=" " alt="" coords="1245,1493,1426,1538"/>
<area shape="poly" title=" " alt="" coords="1442,1527,1491,1527,1542,1520,1591,1505,1634,1479,1668,1444,1694,1404,1713,1360,1728,1314,1743,1227,1747,1162,1752,1163,1748,1227,1733,1315,1718,1361,1698,1406,1672,1448,1638,1483,1593,1509,1543,1525,1491,1532,1442,1532"/>
<area shape="poly" title=" " alt="" coords="2467,1091,1842,1136,1842,1131,2467,1085"/>
<area shape="rect" href="../../dc/df5/classROCKSDB__NAMESPACE_1_1SeqnoToTimeMapping.html" title=" " alt="" coords="1245,1795,1426,1839"/>
<area shape="poly" title=" " alt="" coords="1442,1831,1492,1831,1543,1825,1592,1808,1614,1796,1634,1780,1650,1760,1665,1734,1690,1662,1709,1575,1723,1478,1740,1291,1746,1162,1751,1163,1746,1291,1729,1479,1714,1576,1695,1664,1670,1736,1655,1763,1638,1784,1617,1800,1594,1813,1544,1830,1492,1837,1442,1836"/>
<area shape="rect" href="../../dc/d07/structROCKSDB__NAMESPACE_1_1TransactionDBOptions.html" title=" " alt="" coords="1660,2673,1841,2718"/>
<area shape="poly" title=" " alt="" coords="1857,2681,2081,2657,2082,2662,1857,2687"/>
<area shape="rect" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html" title=" " alt="" coords="2081,2388,2272,2449"/>
<area shape="poly" title=" " alt="" coords="2288,2425,2493,2442,2493,2447,2287,2430"/>
<area shape="rect" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html" title=" " alt="" coords="2049,2524,2304,2603"/>
<area shape="poly" title=" " alt="" coords="2319,2550,2389,2538,2458,2519,2507,2498,2549,2472,2552,2477,2509,2502,2460,2525,2390,2543,2320,2556"/>
<area shape="rect" href="../../d3/d3c/classROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl.html" title=" " alt="" coords="2083,2302,2270,2364"/>
<area shape="poly" title=" " alt="" coords="2285,2358,2459,2406,2520,2426,2518,2431,2458,2412,2284,2363"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">범례</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public 멤버 함수</h2></td></tr>
<tr class="memitem:a0db313e660b4fe6b5f8562059569f538" id="r_a0db313e660b4fe6b5f8562059569f538"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0db313e660b4fe6b5f8562059569f538">PointLockManager</a> (<a class="el" href="../../d2/d58/classROCKSDB__NAMESPACE_1_1PessimisticTransactionDB.html">PessimisticTransactionDB</a> *db, const <a class="el" href="../../dc/d07/structROCKSDB__NAMESPACE_1_1TransactionDBOptions.html">TransactionDBOptions</a> &amp;opt)</td></tr>
<tr class="separator:a0db313e660b4fe6b5f8562059569f538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7f31252f44796a980df1d47cb62e160" id="r_ad7f31252f44796a980df1d47cb62e160"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7f31252f44796a980df1d47cb62e160">PointLockManager</a> (const <a class="el" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html">PointLockManager</a> &amp;)=delete</td></tr>
<tr class="separator:ad7f31252f44796a980df1d47cb62e160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae166b46b9313771f94df558b098cbbf6" id="r_ae166b46b9313771f94df558b098cbbf6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html">PointLockManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae166b46b9313771f94df558b098cbbf6">operator=</a> (const <a class="el" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html">PointLockManager</a> &amp;)=delete</td></tr>
<tr class="separator:ae166b46b9313771f94df558b098cbbf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f7885575825e17538233f773fb9c3" id="r_ae66f7885575825e17538233f773fb9c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae66f7885575825e17538233f773fb9c3">~PointLockManager</a> () override</td></tr>
<tr class="separator:ae66f7885575825e17538233f773fb9c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3886e702a6da4455957442975feea37" id="r_ae3886e702a6da4455957442975feea37"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae3886e702a6da4455957442975feea37">IsPointLockSupported</a> () const override</td></tr>
<tr class="separator:ae3886e702a6da4455957442975feea37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d0239cbed92325f6895e5de9a9f868b" id="r_a1d0239cbed92325f6895e5de9a9f868b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d0239cbed92325f6895e5de9a9f868b">IsRangeLockSupported</a> () const override</td></tr>
<tr class="separator:a1d0239cbed92325f6895e5de9a9f868b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a0acfce4177ed3fd37daac7252a8cff" id="r_a3a0acfce4177ed3fd37daac7252a8cff"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d8/d7d/classROCKSDB__NAMESPACE_1_1LockTrackerFactory.html">LockTrackerFactory</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a0acfce4177ed3fd37daac7252a8cff">GetLockTrackerFactory</a> () const override</td></tr>
<tr class="separator:a3a0acfce4177ed3fd37daac7252a8cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67df107869a9fc03f6d9cb17e1e110c3" id="r_a67df107869a9fc03f6d9cb17e1e110c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a67df107869a9fc03f6d9cb17e1e110c3">AddColumnFamily</a> (const <a class="el" href="../../da/d3d/classROCKSDB__NAMESPACE_1_1ColumnFamilyHandle.html">ColumnFamilyHandle</a> *cf) override</td></tr>
<tr class="separator:a67df107869a9fc03f6d9cb17e1e110c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeacfaf726d334b67bc91957c1d0e8355" id="r_aeacfaf726d334b67bc91957c1d0e8355"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeacfaf726d334b67bc91957c1d0e8355">RemoveColumnFamily</a> (const <a class="el" href="../../da/d3d/classROCKSDB__NAMESPACE_1_1ColumnFamilyHandle.html">ColumnFamilyHandle</a> *cf) override</td></tr>
<tr class="separator:aeacfaf726d334b67bc91957c1d0e8355"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62325f8f8b5d0ddcb39eb41ec9405dbb" id="r_a62325f8f8b5d0ddcb39eb41ec9405dbb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62325f8f8b5d0ddcb39eb41ec9405dbb">TryLock</a> (<a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *txn, <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ColumnFamilyId</a> column_family_id, const std::string &amp;key, <a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *env, bool exclusive) override</td></tr>
<tr class="separator:a62325f8f8b5d0ddcb39eb41ec9405dbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798efacc9ca5b99d1496f89bf1ea7a55" id="r_a798efacc9ca5b99d1496f89bf1ea7a55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a798efacc9ca5b99d1496f89bf1ea7a55">TryLock</a> (<a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *txn, <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ColumnFamilyId</a> column_family_id, const <a class="el" href="../../d3/d34/classROCKSDB__NAMESPACE_1_1Endpoint.html">Endpoint</a> &amp;start, const <a class="el" href="../../d3/d34/classROCKSDB__NAMESPACE_1_1Endpoint.html">Endpoint</a> &amp;end, <a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *env, bool exclusive) override</td></tr>
<tr class="separator:a798efacc9ca5b99d1496f89bf1ea7a55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b9ee75b80b58ee748c21181bf2bae2" id="r_a80b9ee75b80b58ee748c21181bf2bae2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80b9ee75b80b58ee748c21181bf2bae2">UnLock</a> (<a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *txn, const <a class="el" href="../../d9/da3/classROCKSDB__NAMESPACE_1_1LockTracker.html">LockTracker</a> &amp;tracker, <a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *env) override</td></tr>
<tr class="separator:a80b9ee75b80b58ee748c21181bf2bae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff3faa7f56e3f52ddc2e69d5cadf189e" id="r_aff3faa7f56e3f52ddc2e69d5cadf189e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff3faa7f56e3f52ddc2e69d5cadf189e">UnLock</a> (<a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *txn, <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ColumnFamilyId</a> column_family_id, const std::string &amp;key, <a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *env) override</td></tr>
<tr class="separator:aff3faa7f56e3f52ddc2e69d5cadf189e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8aabc11ad71baeb5dd6d939fc52f057" id="r_ae8aabc11ad71baeb5dd6d939fc52f057"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8aabc11ad71baeb5dd6d939fc52f057">UnLock</a> (<a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *txn, <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ColumnFamilyId</a> column_family_id, const <a class="el" href="../../d3/d34/classROCKSDB__NAMESPACE_1_1Endpoint.html">Endpoint</a> &amp;start, const <a class="el" href="../../d3/d34/classROCKSDB__NAMESPACE_1_1Endpoint.html">Endpoint</a> &amp;end, <a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *env) override</td></tr>
<tr class="separator:ae8aabc11ad71baeb5dd6d939fc52f057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96c690f692975aa112cf9a7e17659cbf" id="r_a96c690f692975aa112cf9a7e17659cbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a221bcde41f9f29bfa2dbf9de1390bc55">PointLockStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a96c690f692975aa112cf9a7e17659cbf">GetPointLockStatus</a> () override</td></tr>
<tr class="separator:a96c690f692975aa112cf9a7e17659cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25fd70da77100ca85024316a31033129" id="r_a25fd70da77100ca85024316a31033129"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a5bd737991c128260e2e21ab6e91a488e">RangeLockStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25fd70da77100ca85024316a31033129">GetRangeLockStatus</a> () override</td></tr>
<tr class="separator:a25fd70da77100ca85024316a31033129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf5fcc7bc532158ebee6e2af1888c95b" id="r_adf5fcc7bc532158ebee6e2af1888c95b"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d1/d58/structROCKSDB__NAMESPACE_1_1DeadlockPath.html">DeadlockPath</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf5fcc7bc532158ebee6e2af1888c95b">GetDeadlockInfoBuffer</a> () override</td></tr>
<tr class="separator:adf5fcc7bc532158ebee6e2af1888c95b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eb094d1b7c72b21cc57ca05675b2607" id="r_a9eb094d1b7c72b21cc57ca05675b2607"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9eb094d1b7c72b21cc57ca05675b2607">Resize</a> (uint32_t new_size) override</td></tr>
<tr class="separator:a9eb094d1b7c72b21cc57ca05675b2607"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classROCKSDB__NAMESPACE_1_1LockManager"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_classROCKSDB__NAMESPACE_1_1LockManager')"><img src="../../closed.png" alt="-"/>&#160;<a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html">ROCKSDB_NAMESPACE::LockManager</a>(으)로부터 상속된 Public 멤버 함수</td></tr>
<tr class="memitem:af7d2f92adc91cbcf5ae87a4dafcb87d1 inherit pub_methods_classROCKSDB__NAMESPACE_1_1LockManager" id="r_af7d2f92adc91cbcf5ae87a4dafcb87d1"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#af7d2f92adc91cbcf5ae87a4dafcb87d1">~LockManager</a> ()</td></tr>
<tr class="separator:af7d2f92adc91cbcf5ae87a4dafcb87d1 inherit pub_methods_classROCKSDB__NAMESPACE_1_1LockManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private 타입</h2></td></tr>
<tr class="memitem:ade3fdaef5de044ce8e05ba694c687871" id="r_ade3fdaef5de044ce8e05ba694c687871"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade3fdaef5de044ce8e05ba694c687871">LockMaps</a> = <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a681fad678e9fdd16a662cd98d5208fca">UnorderedMap</a>&lt;uint32_t, std::shared_ptr&lt;<a class="el" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html">LockMap</a>&gt;&gt;</td></tr>
<tr class="separator:ade3fdaef5de044ce8e05ba694c687871"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private 멤버 함수</h2></td></tr>
<tr class="memitem:aa6bf09b7b1f0cfadf32d4a7f09ab3abc" id="r_aa6bf09b7b1f0cfadf32d4a7f09ab3abc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa6bf09b7b1f0cfadf32d4a7f09ab3abc">IsLockExpired</a> (<a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a> txn_id, const <a class="el" href="../../d6/d5c/structROCKSDB__NAMESPACE_1_1LockInfo.html">LockInfo</a> &amp;lock_info, <a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *env, uint64_t *wait_time)</td></tr>
<tr class="separator:aa6bf09b7b1f0cfadf32d4a7f09ab3abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3320a818e6b02402c36d6bf616aae8be" id="r_a3320a818e6b02402c36d6bf616aae8be"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html">LockMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3320a818e6b02402c36d6bf616aae8be">GetLockMap</a> (uint32_t column_family_id)</td></tr>
<tr class="separator:a3320a818e6b02402c36d6bf616aae8be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a701bd179a571916879504b4edce61d7c" id="r_a701bd179a571916879504b4edce61d7c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a701bd179a571916879504b4edce61d7c">AcquireWithTimeout</a> (<a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *txn, <a class="el" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html">LockMap</a> *lock_map, <a class="el" href="../../df/d2f/structROCKSDB__NAMESPACE_1_1LockMapStripe.html">LockMapStripe</a> *stripe, uint32_t column_family_id, const std::string &amp;key, <a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *env, int64_t timeout, const <a class="el" href="../../d6/d5c/structROCKSDB__NAMESPACE_1_1LockInfo.html">LockInfo</a> &amp;lock_info)</td></tr>
<tr class="separator:a701bd179a571916879504b4edce61d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c417a45aeac37ad96170fe58807bb0e" id="r_a7c417a45aeac37ad96170fe58807bb0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7c417a45aeac37ad96170fe58807bb0e">AcquireLocked</a> (<a class="el" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html">LockMap</a> *lock_map, <a class="el" href="../../df/d2f/structROCKSDB__NAMESPACE_1_1LockMapStripe.html">LockMapStripe</a> *stripe, const std::string &amp;key, <a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *env, const <a class="el" href="../../d6/d5c/structROCKSDB__NAMESPACE_1_1LockInfo.html">LockInfo</a> &amp;lock_info, uint64_t *wait_time, <a class="el" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html">autovector</a>&lt; <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a> &gt; *txn_ids)</td></tr>
<tr class="separator:a7c417a45aeac37ad96170fe58807bb0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe2d32ad7dc54c815eeef0147cadd19c" id="r_abe2d32ad7dc54c815eeef0147cadd19c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe2d32ad7dc54c815eeef0147cadd19c">UnLockKey</a> (<a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *txn, const std::string &amp;key, <a class="el" href="../../df/d2f/structROCKSDB__NAMESPACE_1_1LockMapStripe.html">LockMapStripe</a> *stripe, <a class="el" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html">LockMap</a> *lock_map, <a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *env)</td></tr>
<tr class="separator:abe2d32ad7dc54c815eeef0147cadd19c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f9727a4a032efadb91dd6e9fa707ba9" id="r_a2f9727a4a032efadb91dd6e9fa707ba9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f9727a4a032efadb91dd6e9fa707ba9">IncrementWaiters</a> (const <a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *txn, const <a class="el" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html">autovector</a>&lt; <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a> &gt; &amp;wait_ids, const std::string &amp;key, const uint32_t &amp;cf_id, const bool &amp;exclusive, <a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *const env)</td></tr>
<tr class="separator:a2f9727a4a032efadb91dd6e9fa707ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af96ca74e668efc9ee719d2937e13a781" id="r_af96ca74e668efc9ee719d2937e13a781"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af96ca74e668efc9ee719d2937e13a781">DecrementWaiters</a> (const <a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *txn, const <a class="el" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html">autovector</a>&lt; <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a> &gt; &amp;wait_ids)</td></tr>
<tr class="separator:af96ca74e668efc9ee719d2937e13a781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c73b61f1fb530fa5c5bbd36a1a951a2" id="r_a2c73b61f1fb530fa5c5bbd36a1a951a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c73b61f1fb530fa5c5bbd36a1a951a2">DecrementWaitersImpl</a> (const <a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *txn, const <a class="el" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html">autovector</a>&lt; <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a> &gt; &amp;wait_ids)</td></tr>
<tr class="separator:a2c73b61f1fb530fa5c5bbd36a1a951a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private 속성</h2></td></tr>
<tr class="memitem:a18c55faf1b60221439648091d7d4d6e8" id="r_a18c55faf1b60221439648091d7d4d6e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d58/classROCKSDB__NAMESPACE_1_1PessimisticTransactionDB.html">PessimisticTransactionDB</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18c55faf1b60221439648091d7d4d6e8">txn_db_impl_</a></td></tr>
<tr class="separator:a18c55faf1b60221439648091d7d4d6e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd757165471e014a1416071a4e76b8b5" id="r_acd757165471e014a1416071a4e76b8b5"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd757165471e014a1416071a4e76b8b5">default_num_stripes_</a></td></tr>
<tr class="separator:acd757165471e014a1416071a4e76b8b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b71d946f5b703a2bf1a11ba3cd9e26f" id="r_a4b71d946f5b703a2bf1a11ba3cd9e26f"><td class="memItemLeft" align="right" valign="top">const int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b71d946f5b703a2bf1a11ba3cd9e26f">max_num_locks_</a></td></tr>
<tr class="separator:a4b71d946f5b703a2bf1a11ba3cd9e26f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a9d0be20cf40f0041f3286bd600498f" id="r_a5a9d0be20cf40f0041f3286bd600498f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d7b/classROCKSDB__NAMESPACE_1_1InstrumentedMutex.html">InstrumentedMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a9d0be20cf40f0041f3286bd600498f">lock_map_mutex_</a></td></tr>
<tr class="separator:a5a9d0be20cf40f0041f3286bd600498f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8974e88ce228b22b49d7efabb47466f" id="r_ae8974e88ce228b22b49d7efabb47466f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#ade3fdaef5de044ce8e05ba694c687871">LockMaps</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8974e88ce228b22b49d7efabb47466f">lock_maps_</a></td></tr>
<tr class="separator:ae8974e88ce228b22b49d7efabb47466f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d91a6a47b97e54497033ff95014872" id="r_a94d91a6a47b97e54497033ff95014872"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d9/da5/classROCKSDB__NAMESPACE_1_1ThreadLocalPtr.html">ThreadLocalPtr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a94d91a6a47b97e54497033ff95014872">lock_maps_cache_</a></td></tr>
<tr class="separator:a94d91a6a47b97e54497033ff95014872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad65791e463a52ac3d4e10486c2eff95f" id="r_ad65791e463a52ac3d4e10486c2eff95f"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad65791e463a52ac3d4e10486c2eff95f">wait_txn_map_mutex_</a></td></tr>
<tr class="separator:ad65791e463a52ac3d4e10486c2eff95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa91993e3d2094374159e2a184b49f529" id="r_aa91993e3d2094374159e2a184b49f529"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html">HashMap</a>&lt; <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a>, int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa91993e3d2094374159e2a184b49f529">rev_wait_txn_map_</a></td></tr>
<tr class="separator:aa91993e3d2094374159e2a184b49f529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b72146e99c2e4171abbb9dd31ca53f1" id="r_a4b72146e99c2e4171abbb9dd31ca53f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html">HashMap</a>&lt; <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a>, <a class="el" href="../../d7/db8/structROCKSDB__NAMESPACE_1_1TrackedTrxInfo.html">TrackedTrxInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b72146e99c2e4171abbb9dd31ca53f1">wait_txn_map_</a></td></tr>
<tr class="separator:a4b72146e99c2e4171abbb9dd31ca53f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4d23a079da225379ff4bba82157417" id="r_acd4d23a079da225379ff4bba82157417"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a420cbe02f7aea169c8eff317724531e1">DeadlockInfoBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd4d23a079da225379ff4bba82157417">dlock_buffer_</a></td></tr>
<tr class="separator:acd4d23a079da225379ff4bba82157417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b8d6fd35913d396be4b1d86be97b52" id="r_a62b8d6fd35913d396be4b1d86be97b52"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d5/dea/classROCKSDB__NAMESPACE_1_1TransactionDBMutexFactory.html">TransactionDBMutexFactory</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62b8d6fd35913d396be4b1d86be97b52">mutex_factory_</a></td></tr>
<tr class="separator:a62b8d6fd35913d396be4b1d86be97b52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
추가로 상속된 멤버들</h2></td></tr>
<tr class="inherit_header pub_types_classROCKSDB__NAMESPACE_1_1LockManager"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_types_classROCKSDB__NAMESPACE_1_1LockManager')"><img src="../../closed.png" alt="-"/>&#160;<a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html">ROCKSDB_NAMESPACE::LockManager</a>(으)로부터 상속된 Public 타입</td></tr>
<tr class="memitem:a221bcde41f9f29bfa2dbf9de1390bc55 inherit pub_types_classROCKSDB__NAMESPACE_1_1LockManager" id="r_a221bcde41f9f29bfa2dbf9de1390bc55"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a221bcde41f9f29bfa2dbf9de1390bc55">PointLockStatus</a> = std::unordered_multimap&lt;<a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ColumnFamilyId</a>, <a class="el" href="../../df/d2c/structROCKSDB__NAMESPACE_1_1KeyLockInfo.html">KeyLockInfo</a>&gt;</td></tr>
<tr class="separator:a221bcde41f9f29bfa2dbf9de1390bc55 inherit pub_types_classROCKSDB__NAMESPACE_1_1LockManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd737991c128260e2e21ab6e91a488e inherit pub_types_classROCKSDB__NAMESPACE_1_1LockManager" id="r_a5bd737991c128260e2e21ab6e91a488e"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a5bd737991c128260e2e21ab6e91a488e">RangeLockStatus</a></td></tr>
<tr class="separator:a5bd737991c128260e2e21ab6e91a488e inherit pub_types_classROCKSDB__NAMESPACE_1_1LockManager"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">상세한 설명</h2>
<div class="textblock">
<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00110">110</a> 번째 라인에서 정의되었습니다.</p>
</div><h2 class="groupheader">멤버 타입정의 문서화</h2>
<a id="ade3fdaef5de044ce8e05ba694c687871" name="ade3fdaef5de044ce8e05ba694c687871"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade3fdaef5de044ce8e05ba694c687871">&#9670;&#160;</a></span>LockMaps</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">using ROCKSDB_NAMESPACE::PointLockManager::LockMaps = <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a681fad678e9fdd16a662cd98d5208fca">UnorderedMap</a>&lt;uint32_t, std::shared_ptr&lt;<a class="el" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html">LockMap</a>&gt;&gt;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00175">175</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<h2 class="groupheader">생성자 &amp; 소멸자 문서화</h2>
<a id="a0db313e660b4fe6b5f8562059569f538" name="a0db313e660b4fe6b5f8562059569f538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0db313e660b4fe6b5f8562059569f538">&#9670;&#160;</a></span>PointLockManager() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::PointLockManager::PointLockManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d58/classROCKSDB__NAMESPACE_1_1PessimisticTransactionDB.html">PessimisticTransactionDB</a> *</td>          <td class="paramname"><span class="paramname"><em>db</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../dc/d07/structROCKSDB__NAMESPACE_1_1TransactionDBOptions.html">TransactionDBOptions</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>opt</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00105">105</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  107</span>    : <a class="code hl_variable" href="#a18c55faf1b60221439648091d7d4d6e8">txn_db_impl_</a>(txn_db),</div>
<div class="line"><span class="lineno">  108</span>      <a class="code hl_variable" href="#acd757165471e014a1416071a4e76b8b5">default_num_stripes_</a>(opt.num_stripes),</div>
<div class="line"><span class="lineno">  109</span>      <a class="code hl_variable" href="#a4b71d946f5b703a2bf1a11ba3cd9e26f">max_num_locks_</a>(opt.max_num_locks),</div>
<div class="line"><span class="lineno">  110</span>      <a class="code hl_variable" href="#a94d91a6a47b97e54497033ff95014872">lock_maps_cache_</a>(<span class="keyword">new</span> ThreadLocalPtr(&amp;UnrefLockMapsCache)),</div>
<div class="line"><span class="lineno">  111</span>      <a class="code hl_variable" href="#acd4d23a079da225379ff4bba82157417">dlock_buffer_</a>(opt.max_num_deadlocks),</div>
<div class="line"><span class="lineno">  112</span>      <a class="code hl_variable" href="#a62b8d6fd35913d396be4b1d86be97b52">mutex_factory_</a>(opt.custom_mutex_factory</div>
<div class="line"><span class="lineno">  113</span>                         ? opt.custom_mutex_factory</div>
<div class="line"><span class="lineno">  114</span>                         : std::make_shared&lt;TransactionDBMutexFactoryImpl&gt;()) {}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_a18c55faf1b60221439648091d7d4d6e8"><div class="ttname"><a href="#a18c55faf1b60221439648091d7d4d6e8">ROCKSDB_NAMESPACE::PointLockManager::txn_db_impl_</a></div><div class="ttdeci">PessimisticTransactionDB * txn_db_impl_</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00157">point_lock_manager.h:157</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_a4b71d946f5b703a2bf1a11ba3cd9e26f"><div class="ttname"><a href="#a4b71d946f5b703a2bf1a11ba3cd9e26f">ROCKSDB_NAMESPACE::PointLockManager::max_num_locks_</a></div><div class="ttdeci">const int64_t max_num_locks_</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00163">point_lock_manager.h:163</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_a62b8d6fd35913d396be4b1d86be97b52"><div class="ttname"><a href="#a62b8d6fd35913d396be4b1d86be97b52">ROCKSDB_NAMESPACE::PointLockManager::mutex_factory_</a></div><div class="ttdeci">std::shared_ptr&lt; TransactionDBMutexFactory &gt; mutex_factory_</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00192">point_lock_manager.h:192</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_a94d91a6a47b97e54497033ff95014872"><div class="ttname"><a href="#a94d91a6a47b97e54497033ff95014872">ROCKSDB_NAMESPACE::PointLockManager::lock_maps_cache_</a></div><div class="ttdeci">std::unique_ptr&lt; ThreadLocalPtr &gt; lock_maps_cache_</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00180">point_lock_manager.h:180</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_acd4d23a079da225379ff4bba82157417"><div class="ttname"><a href="#acd4d23a079da225379ff4bba82157417">ROCKSDB_NAMESPACE::PointLockManager::dlock_buffer_</a></div><div class="ttdeci">DeadlockInfoBuffer dlock_buffer_</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00189">point_lock_manager.h:189</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_acd757165471e014a1416071a4e76b8b5"><div class="ttname"><a href="#acd757165471e014a1416071a4e76b8b5">ROCKSDB_NAMESPACE::PointLockManager::default_num_stripes_</a></div><div class="ttdeci">const size_t default_num_stripes_</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00160">point_lock_manager.h:160</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a0db313e660b4fe6b5f8562059569f538_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a0db313e660b4fe6b5f8562059569f538_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a0db313e660b4fe6b5f8562059569f538_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a0db313e660b4fe6b5f8562059569f538_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,218,91"/>
<area shape="poly" title=" " alt="" coords="69,29,71,19,78,10,92,5,112,3,134,5,148,13,145,17,132,11,111,8,93,10,81,15,75,21,75,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a0db313e660b4fe6b5f8562059569f538_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a0db313e660b4fe6b5f8562059569f538_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a0db313e660b4fe6b5f8562059569f538_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a0db313e660b4fe6b5f8562059569f538_icgraph">
<area shape="rect" title=" " alt="" coords="269,36,481,97"/>
<area shape="poly" title=" " alt="" coords="417,24,401,17,375,14,352,16,337,21,330,27,329,36,324,35,325,25,334,16,351,11,375,9,402,12,419,19"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#ae166b46b9313771f94df558b098cbbf6" title=" " alt="" coords="5,5,221,50"/>
<area shape="poly" title=" " alt="" coords="253,51,221,46,221,41,253,46"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#ad7f31252f44796a980df1d47cb62e160" title=" " alt="" coords="7,74,219,136"/>
<area shape="poly" title=" " alt="" coords="253,87,220,92,219,87,253,82"/>
</map>
</div>

</div>
</div>
<a id="ad7f31252f44796a980df1d47cb62e160" name="ad7f31252f44796a980df1d47cb62e160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7f31252f44796a980df1d47cb62e160">&#9670;&#160;</a></span>PointLockManager() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::PointLockManager::PointLockManager </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html">PointLockManager</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel delete">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ad7f31252f44796a980df1d47cb62e160_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ad7f31252f44796a980df1d47cb62e160_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ad7f31252f44796a980df1d47cb62e160_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ad7f31252f44796a980df1d47cb62e160_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,218,91"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a0db313e660b4fe6b5f8562059569f538" title=" " alt="" coords="266,29,478,91"/>
<area shape="poly" title=" " alt="" coords="218,58,250,58,250,63,218,63"/>
<area shape="poly" title=" " alt="" coords="321,29,322,19,332,10,348,5,372,3,399,5,416,13,414,17,398,11,372,8,349,10,334,15,327,21,326,29"/>
</map>
</div>

</div>
</div>
<a id="ae66f7885575825e17538233f773fb9c3" name="ae66f7885575825e17538233f773fb9c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f7885575825e17538233f773fb9c3">&#9670;&#160;</a></span>~PointLockManager()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ROCKSDB_NAMESPACE::PointLockManager::~PointLockManager </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel override">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00118">118</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">멤버 함수 문서화</h2>
<a id="a7c417a45aeac37ad96170fe58807bb0e" name="a7c417a45aeac37ad96170fe58807bb0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c417a45aeac37ad96170fe58807bb0e">&#9670;&#160;</a></span>AcquireLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a> ROCKSDB_NAMESPACE::PointLockManager::AcquireLocked </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html">LockMap</a> *</td>          <td class="paramname"><span class="paramname"><em>lock_map</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d2f/structROCKSDB__NAMESPACE_1_1LockMapStripe.html">LockMapStripe</a> *</td>          <td class="paramname"><span class="paramname"><em>stripe</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d5c/structROCKSDB__NAMESPACE_1_1LockInfo.html">LockInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>lock_info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *</td>          <td class="paramname"><span class="paramname"><em>wait_time</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html">autovector</a>&lt; <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a> &gt; *</td>          <td class="paramname"><span class="paramname"><em>txn_ids</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00474">474</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  478</span>                                                                           {</div>
<div class="line"><span class="lineno">  479</span>  assert(txn_lock_info.txn_ids.size() == 1);</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>  Status result;</div>
<div class="line"><span class="lineno">  482</span>  <span class="comment">// Check if this key is already locked</span></div>
<div class="line"><span class="lineno">  483</span>  <span class="keyword">auto</span> stripe_iter = stripe-&gt;keys.find(key);</div>
<div class="line"><span class="lineno">  484</span>  <span class="keywordflow">if</span> (stripe_iter != stripe-&gt;keys.end()) {</div>
<div class="line"><span class="lineno">  485</span>    <span class="comment">// Lock already held</span></div>
<div class="line"><span class="lineno">  486</span>    LockInfo&amp; lock_info = stripe_iter-&gt;second;</div>
<div class="line"><span class="lineno">  487</span>    assert(lock_info.txn_ids.size() == 1 || !lock_info.exclusive);</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    <span class="keywordflow">if</span> (lock_info.exclusive || txn_lock_info.exclusive) {</div>
<div class="line"><span class="lineno">  490</span>      <span class="keywordflow">if</span> (lock_info.txn_ids.size() == 1 &amp;&amp;</div>
<div class="line"><span class="lineno">  491</span>          lock_info.txn_ids[0] == txn_lock_info.txn_ids[0]) {</div>
<div class="line"><span class="lineno">  492</span>        <span class="comment">// The list contains one txn and we&#39;re it, so just take it.</span></div>
<div class="line"><span class="lineno">  493</span>        lock_info.exclusive = txn_lock_info.exclusive;</div>
<div class="line"><span class="lineno">  494</span>        lock_info.expiration_time = txn_lock_info.expiration_time;</div>
<div class="line"><span class="lineno">  495</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  496</span>        <span class="comment">// Check if it&#39;s expired. Skips over txn_lock_info.txn_ids[0] in case</span></div>
<div class="line"><span class="lineno">  497</span>        <span class="comment">// it&#39;s there for a shared lock with multiple holders which was not</span></div>
<div class="line"><span class="lineno">  498</span>        <span class="comment">// caught in the first case.</span></div>
<div class="line"><span class="lineno">  499</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="#aa6bf09b7b1f0cfadf32d4a7f09ab3abc">IsLockExpired</a>(txn_lock_info.txn_ids[0], lock_info, env,</div>
<div class="line"><span class="lineno">  500</span>                          expire_time)) {</div>
<div class="line"><span class="lineno">  501</span>          <span class="comment">// lock is expired, can steal it</span></div>
<div class="line"><span class="lineno">  502</span>          lock_info.txn_ids = txn_lock_info.txn_ids;</div>
<div class="line"><span class="lineno">  503</span>          lock_info.exclusive = txn_lock_info.exclusive;</div>
<div class="line"><span class="lineno">  504</span>          lock_info.expiration_time = txn_lock_info.expiration_time;</div>
<div class="line"><span class="lineno">  505</span>          <span class="comment">// lock_cnt does not change</span></div>
<div class="line"><span class="lineno">  506</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  507</span>          result = Status::TimedOut(Status::SubCode::kLockTimeout);</div>
<div class="line"><span class="lineno">  508</span>          *txn_ids = lock_info.txn_ids;</div>
<div class="line"><span class="lineno">  509</span>        }</div>
<div class="line"><span class="lineno">  510</span>      }</div>
<div class="line"><span class="lineno">  511</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  512</span>      <span class="comment">// We are requesting shared access to a shared lock, so just grant it.</span></div>
<div class="line"><span class="lineno">  513</span>      lock_info.txn_ids.push_back(txn_lock_info.txn_ids[0]);</div>
<div class="line"><span class="lineno">  514</span>      <span class="comment">// Using std::max means that expiration time never goes down even when</span></div>
<div class="line"><span class="lineno">  515</span>      <span class="comment">// a transaction is removed from the list. The correct solution would be</span></div>
<div class="line"><span class="lineno">  516</span>      <span class="comment">// to track expiry for every transaction, but this would also work for</span></div>
<div class="line"><span class="lineno">  517</span>      <span class="comment">// now.</span></div>
<div class="line"><span class="lineno">  518</span>      lock_info.expiration_time =</div>
<div class="line"><span class="lineno">  519</span>          std::max(lock_info.expiration_time, txn_lock_info.expiration_time);</div>
<div class="line"><span class="lineno">  520</span>    }</div>
<div class="line"><span class="lineno">  521</span>  } <span class="keywordflow">else</span> {  <span class="comment">// Lock not held.</span></div>
<div class="line"><span class="lineno">  522</span>    <span class="comment">// Check lock limit</span></div>
<div class="line"><span class="lineno">  523</span>    <span class="keywordflow">if</span> (max_num_locks_ &gt; 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  524</span>        lock_map-&gt;lock_cnt.load(std::memory_order_acquire) &gt;= max_num_locks_) {</div>
<div class="line"><span class="lineno">  525</span>      result = Status::Busy(Status::SubCode::kLockLimit);</div>
<div class="line"><span class="lineno">  526</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  527</span>      <span class="comment">// acquire lock</span></div>
<div class="line"><span class="lineno">  528</span>      stripe-&gt;keys.emplace(key, txn_lock_info);</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>      <span class="comment">// Maintain lock count if there is a limit on the number of locks</span></div>
<div class="line"><span class="lineno">  531</span>      <span class="keywordflow">if</span> (max_num_locks_) {</div>
<div class="line"><span class="lineno">  532</span>        lock_map-&gt;lock_cnt++;</div>
<div class="line"><span class="lineno">  533</span>      }</div>
<div class="line"><span class="lineno">  534</span>    }</div>
<div class="line"><span class="lineno">  535</span>  }</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  538</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_aa6bf09b7b1f0cfadf32d4a7f09ab3abc"><div class="ttname"><a href="#aa6bf09b7b1f0cfadf32d4a7f09ab3abc">ROCKSDB_NAMESPACE::PointLockManager::IsLockExpired</a></div><div class="ttdeci">bool IsLockExpired(TransactionID txn_id, const LockInfo &amp;lock_info, Env *env, uint64_t *wait_time)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3c/point__lock__manager_8cc_source.html#l00193">point_lock_manager.cc:193</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a7c417a45aeac37ad96170fe58807bb0e_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a7c417a45aeac37ad96170fe58807bb0e_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a7c417a45aeac37ad96170fe58807bb0e_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a7c417a45aeac37ad96170fe58807bb0e_cgraph">
<area shape="rect" title=" " alt="" coords="5,168,249,213"/>
<area shape="poly" title=" " alt="" coords="72,168,71,158,80,149,99,143,127,141,158,144,176,150,174,155,157,149,127,147,100,149,83,153,76,159,78,167"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#abdbf368db5bf35e90c6dbef41901baf6" title=" " alt="" coords="326,99,507,143"/>
<area shape="poly" title=" " alt="" coords="223,165,310,144,311,149,224,170"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#aa6bf09b7b1f0cfadf32d4a7f09ab3abc" title=" " alt="" coords="297,29,536,74"/>
<area shape="poly" title=" " alt="" coords="158,166,220,125,296,84,311,77,313,82,298,89,223,129,161,170"/>
<area shape="rect" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html#a5a22f9aae223cf0f446e92610af57576" title=" " alt="" coords="326,168,507,213"/>
<area shape="poly" title=" " alt="" coords="249,188,310,188,310,193,249,193"/>
<area shape="rect" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html#a927b27ff36edf00f73bd095be3fa0661" title=" " alt="" coords="326,237,507,282"/>
<area shape="poly" title=" " alt="" coords="224,211,311,232,310,237,223,216"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a742fbf1b46f56663d5a63368606ed3df" title=" " alt="" coords="326,307,507,351"/>
<area shape="poly" title=" " alt="" coords="161,211,223,252,298,292,313,298,311,303,296,297,220,256,158,215"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="584,203,765,247"/>
<area shape="poly" title=" " alt="" coords="504,141,537,153,621,193,618,197,535,158,502,146"/>
<area shape="poly" title=" " alt="" coords="367,29,366,19,374,10,391,5,416,3,444,5,461,12,459,17,443,10,416,8,392,10,377,15,371,21,373,28"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a1973210402d3f2129c817aa8ff3d04a7" title=" " alt="" coords="584,29,765,74"/>
<area shape="poly" title=" " alt="" coords="537,49,568,49,568,54,537,54"/>
<area shape="poly" title=" " alt="" coords="502,304,535,292,618,253,621,257,537,297,504,309"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a7c417a45aeac37ad96170fe58807bb0e_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a7c417a45aeac37ad96170fe58807bb0e_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a7c417a45aeac37ad96170fe58807bb0e_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a7c417a45aeac37ad96170fe58807bb0e_icgraph">
<area shape="rect" title=" " alt="" coords="776,38,1020,82"/>
<area shape="poly" title=" " alt="" coords="944,25,927,19,898,16,871,18,855,23,848,29,850,37,844,38,843,28,852,19,870,13,898,11,928,14,946,20"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a701bd179a571916879504b4edce61d7c" title=" " alt="" coords="500,29,728,91"/>
<area shape="poly" title=" " alt="" coords="761,63,729,63,729,58,761,58"/>
<area shape="poly" title=" " alt="" coords="656,17,640,11,614,8,592,10,576,15,569,21,568,29,563,29,564,19,574,10,590,5,614,3,642,5,658,13"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a62325f8f8b5d0ddcb39eb41ec9405dbb" title=" " alt="" coords="253,38,452,82"/>
<area shape="poly" title=" " alt="" coords="484,63,453,63,453,58,484,58"/>
<area shape="poly" title=" " alt="" coords="393,25,378,19,352,16,329,18,315,23,309,29,311,37,305,38,304,28,312,19,328,13,352,11,379,14,395,20"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a798efacc9ca5b99d1496f89bf1ea7a55" title=" " alt="" coords="5,38,205,82"/>
<area shape="poly" title=" " alt="" coords="237,63,205,63,205,58,237,58"/>
</map>
</div>

</div>
</div>
<a id="a701bd179a571916879504b4edce61d7c" name="a701bd179a571916879504b4edce61d7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a701bd179a571916879504b4edce61d7c">&#9670;&#160;</a></span>AcquireWithTimeout()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a> ROCKSDB_NAMESPACE::PointLockManager::AcquireWithTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html">LockMap</a> *</td>          <td class="paramname"><span class="paramname"><em>lock_map</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d2f/structROCKSDB__NAMESPACE_1_1LockMapStripe.html">LockMapStripe</a> *</td>          <td class="paramname"><span class="paramname"><em>stripe</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>column_family_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int64_t</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d5c/structROCKSDB__NAMESPACE_1_1LockInfo.html">LockInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>lock_info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00252">252</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  255</span>                                                {</div>
<div class="line"><span class="lineno">  256</span>  Status result;</div>
<div class="line"><span class="lineno">  257</span>  uint64_t end_time = 0;</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>  <span class="keywordflow">if</span> (timeout &gt; 0) {</div>
<div class="line"><span class="lineno">  260</span>    uint64_t start_time = env-&gt;NowMicros();</div>
<div class="line"><span class="lineno">  261</span>    end_time = start_time + timeout;</div>
<div class="line"><span class="lineno">  262</span>  }</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>  <span class="keywordflow">if</span> (timeout &lt; 0) {</div>
<div class="line"><span class="lineno">  265</span>    <span class="comment">// If timeout is negative, we wait indefinitely to acquire the lock</span></div>
<div class="line"><span class="lineno">  266</span>    result = stripe-&gt;stripe_mutex-&gt;Lock();</div>
<div class="line"><span class="lineno">  267</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  268</span>    result = stripe-&gt;stripe_mutex-&gt;TryLockFor(timeout);</div>
<div class="line"><span class="lineno">  269</span>  }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>  <span class="keywordflow">if</span> (!result.ok()) {</div>
<div class="line"><span class="lineno">  272</span>    <span class="comment">// failed to acquire mutex</span></div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  274</span>  }</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>  <span class="comment">// Acquire lock if we are able to</span></div>
<div class="line"><span class="lineno">  277</span>  uint64_t expire_time_hint = 0;</div>
<div class="line"><span class="lineno">  278</span>  autovector&lt;TransactionID&gt; wait_ids;</div>
<div class="line"><span class="lineno">  279</span>  result = <a class="code hl_function" href="#a7c417a45aeac37ad96170fe58807bb0e">AcquireLocked</a>(lock_map, stripe, key, env, lock_info,</div>
<div class="line"><span class="lineno">  280</span>                         &amp;expire_time_hint, &amp;wait_ids);</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>  <span class="keywordflow">if</span> (!result.ok() &amp;&amp; timeout != 0) {</div>
<div class="line"><span class="lineno">  283</span>    <a class="code hl_define" href="../../d7/d93/perf__context__imp_8h.html#a2ecd3a0aae3920127a09fc21373b7baa">PERF_TIMER_GUARD</a>(key_lock_wait_time);</div>
<div class="line"><span class="lineno">  284</span>    <a class="code hl_define" href="../../d7/d93/perf__context__imp_8h.html#a40376d1f20b1e4f00e3c58408fdfe391">PERF_COUNTER_ADD</a>(key_lock_wait_count, 1);</div>
<div class="line"><span class="lineno">  285</span>    <span class="comment">// If we weren&#39;t able to acquire the lock, we will keep retrying as long</span></div>
<div class="line"><span class="lineno">  286</span>    <span class="comment">// as the timeout allows.</span></div>
<div class="line"><span class="lineno">  287</span>    <span class="keywordtype">bool</span> timed_out = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  289</span>      <span class="comment">// Decide how long to wait</span></div>
<div class="line"><span class="lineno">  290</span>      int64_t cv_end_time = -1;</div>
<div class="line"><span class="lineno">  291</span>      <span class="keywordflow">if</span> (expire_time_hint &gt; 0 &amp;&amp; end_time &gt; 0) {</div>
<div class="line"><span class="lineno">  292</span>        cv_end_time = std::min(expire_time_hint, end_time);</div>
<div class="line"><span class="lineno">  293</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expire_time_hint &gt; 0) {</div>
<div class="line"><span class="lineno">  294</span>        cv_end_time = expire_time_hint;</div>
<div class="line"><span class="lineno">  295</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end_time &gt; 0) {</div>
<div class="line"><span class="lineno">  296</span>        cv_end_time = end_time;</div>
<div class="line"><span class="lineno">  297</span>      }</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>      assert(result.IsBusy() || wait_ids.size() != 0);</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>      <span class="comment">// We are dependent on a transaction to finish, so perform deadlock</span></div>
<div class="line"><span class="lineno">  302</span>      <span class="comment">// detection.</span></div>
<div class="line"><span class="lineno">  303</span>      <span class="keywordflow">if</span> (wait_ids.size() != 0) {</div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">if</span> (txn-&gt;IsDeadlockDetect()) {</div>
<div class="line"><span class="lineno">  305</span>          <span class="keywordflow">if</span> (<a class="code hl_function" href="#a2f9727a4a032efadb91dd6e9fa707ba9">IncrementWaiters</a>(txn, wait_ids, key, column_family_id,</div>
<div class="line"><span class="lineno">  306</span>                               lock_info.exclusive, env)) {</div>
<div class="line"><span class="lineno">  307</span>            result = Status::Busy(Status::SubCode::kDeadlock);</div>
<div class="line"><span class="lineno">  308</span>            stripe-&gt;stripe_mutex-&gt;UnLock();</div>
<div class="line"><span class="lineno">  309</span>            <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  310</span>          }</div>
<div class="line"><span class="lineno">  311</span>        }</div>
<div class="line"><span class="lineno">  312</span>        txn-&gt;SetWaitingTxn(wait_ids, column_family_id, &amp;key);</div>
<div class="line"><span class="lineno">  313</span>      }</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>      <a class="code hl_define" href="../../d4/d8e/sync__point_8h.html#aea27634f18fba890fccd36a797846e54">TEST_SYNC_POINT</a>(<span class="stringliteral">&quot;PointLockManager::AcquireWithTimeout:WaitingTxn&quot;</span>);</div>
<div class="line"><span class="lineno">  316</span>      <span class="keywordflow">if</span> (cv_end_time &lt; 0) {</div>
<div class="line"><span class="lineno">  317</span>        <span class="comment">// Wait indefinitely</span></div>
<div class="line"><span class="lineno">  318</span>        result = stripe-&gt;stripe_cv-&gt;Wait(stripe-&gt;stripe_mutex);</div>
<div class="line"><span class="lineno">  319</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  320</span>        uint64_t <a class="code hl_function" href="../../de/d90/namespaceTiming.html#aad3c7bc5b8ee3fcad5f4fa0618e8be86">now</a> = env-&gt;NowMicros();</div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(cv_end_time) &gt; now) {</div>
<div class="line"><span class="lineno">  322</span>          result = stripe-&gt;stripe_cv-&gt;WaitFor(stripe-&gt;stripe_mutex,</div>
<div class="line"><span class="lineno">  323</span>                                              cv_end_time - now);</div>
<div class="line"><span class="lineno">  324</span>        }</div>
<div class="line"><span class="lineno">  325</span>      }</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>      <span class="keywordflow">if</span> (wait_ids.size() != 0) {</div>
<div class="line"><span class="lineno">  328</span>        txn-&gt;ClearWaitingTxn();</div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">if</span> (txn-&gt;IsDeadlockDetect()) {</div>
<div class="line"><span class="lineno">  330</span>          <a class="code hl_function" href="#af96ca74e668efc9ee719d2937e13a781">DecrementWaiters</a>(txn, wait_ids);</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span>      }</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>      <span class="keywordflow">if</span> (result.IsTimedOut()) {</div>
<div class="line"><span class="lineno">  335</span>        timed_out = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  336</span>        <span class="comment">// Even though we timed out, we will still make one more attempt to</span></div>
<div class="line"><span class="lineno">  337</span>        <span class="comment">// acquire lock below (it is possible the lock expired and we</span></div>
<div class="line"><span class="lineno">  338</span>        <span class="comment">// were never signaled).</span></div>
<div class="line"><span class="lineno">  339</span>      }</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>      <span class="keywordflow">if</span> (result.ok() || result.IsTimedOut()) {</div>
<div class="line"><span class="lineno">  342</span>        result = <a class="code hl_function" href="#a7c417a45aeac37ad96170fe58807bb0e">AcquireLocked</a>(lock_map, stripe, key, env, lock_info,</div>
<div class="line"><span class="lineno">  343</span>                               &amp;expire_time_hint, &amp;wait_ids);</div>
<div class="line"><span class="lineno">  344</span>      }</div>
<div class="line"><span class="lineno">  345</span>    } <span class="keywordflow">while</span> (!result.ok() &amp;&amp; !timed_out);</div>
<div class="line"><span class="lineno">  346</span>  }</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>  stripe-&gt;stripe_mutex-&gt;UnLock();</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  351</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_a2f9727a4a032efadb91dd6e9fa707ba9"><div class="ttname"><a href="#a2f9727a4a032efadb91dd6e9fa707ba9">ROCKSDB_NAMESPACE::PointLockManager::IncrementWaiters</a></div><div class="ttdeci">bool IncrementWaiters(const PessimisticTransaction *txn, const autovector&lt; TransactionID &gt; &amp;wait_ids, const std::string &amp;key, const uint32_t &amp;cf_id, const bool &amp;exclusive, Env *const env)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3c/point__lock__manager_8cc_source.html#l00375">point_lock_manager.cc:375</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_a7c417a45aeac37ad96170fe58807bb0e"><div class="ttname"><a href="#a7c417a45aeac37ad96170fe58807bb0e">ROCKSDB_NAMESPACE::PointLockManager::AcquireLocked</a></div><div class="ttdeci">Status AcquireLocked(LockMap *lock_map, LockMapStripe *stripe, const std::string &amp;key, Env *env, const LockInfo &amp;lock_info, uint64_t *wait_time, autovector&lt; TransactionID &gt; *txn_ids)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3c/point__lock__manager_8cc_source.html#l00474">point_lock_manager.cc:474</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_af96ca74e668efc9ee719d2937e13a781"><div class="ttname"><a href="#af96ca74e668efc9ee719d2937e13a781">ROCKSDB_NAMESPACE::PointLockManager::DecrementWaiters</a></div><div class="ttdeci">void DecrementWaiters(const PessimisticTransaction *txn, const autovector&lt; TransactionID &gt; &amp;wait_ids)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3c/point__lock__manager_8cc_source.html#l00353">point_lock_manager.cc:353</a></div></div>
<div class="ttc" id="anamespaceTiming_html_aad3c7bc5b8ee3fcad5f4fa0618e8be86"><div class="ttname"><a href="../../de/d90/namespaceTiming.html#aad3c7bc5b8ee3fcad5f4fa0618e8be86">Timing::now</a></div><div class="ttdeci">double now()</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d2a/timer__queue__test_8cc_source.html#l00034">timer_queue_test.cc:34</a></div></div>
<div class="ttc" id="aperf__context__imp_8h_html_a2ecd3a0aae3920127a09fc21373b7baa"><div class="ttname"><a href="../../d7/d93/perf__context__imp_8h.html#a2ecd3a0aae3920127a09fc21373b7baa">PERF_TIMER_GUARD</a></div><div class="ttdeci">#define PERF_TIMER_GUARD(metric)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d93/perf__context__imp_8h_source.html#l00045">perf_context_imp.h:45</a></div></div>
<div class="ttc" id="aperf__context__imp_8h_html_a40376d1f20b1e4f00e3c58408fdfe391"><div class="ttname"><a href="../../d7/d93/perf__context__imp_8h.html#a40376d1f20b1e4f00e3c58408fdfe391">PERF_COUNTER_ADD</a></div><div class="ttdeci">#define PERF_COUNTER_ADD(metric, value)</div><div class="ttdef"><b>Definition</b> <a href="../../d7/d93/perf__context__imp_8h_source.html#l00080">perf_context_imp.h:80</a></div></div>
<div class="ttc" id="async__point_8h_html_aea27634f18fba890fccd36a797846e54"><div class="ttname"><a href="../../d4/d8e/sync__point_8h.html#aea27634f18fba890fccd36a797846e54">TEST_SYNC_POINT</a></div><div class="ttdeci">#define TEST_SYNC_POINT(x)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d8e/sync__point_8h_source.html#l00159">sync_point.h:159</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a701bd179a571916879504b4edce61d7c_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a701bd179a571916879504b4edce61d7c_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a701bd179a571916879504b4edce61d7c_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a701bd179a571916879504b4edce61d7c_cgraph">
<area shape="rect" title=" " alt="" coords="5,590,234,652"/>
<area shape="poly" title=" " alt="" coords="64,590,66,580,76,571,94,565,120,564,150,566,168,574,166,579,148,572,119,569,95,571,78,576,70,582,69,590"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a7c417a45aeac37ad96170fe58807bb0e" title=" " alt="" coords="282,191,525,235"/>
<area shape="poly" title=" " alt="" coords="130,589,153,534,186,463,229,386,280,313,316,275,354,243,358,247,320,279,284,316,233,389,191,465,158,536,135,591"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#abdbf368db5bf35e90c6dbef41901baf6" title=" " alt="" coords="602,5,783,50"/>
<area shape="poly" title=" " alt="" coords="120,590,129,504,139,448,154,387,174,324,202,262,236,204,280,152,313,125,350,101,389,82,430,66,511,44,586,31,587,37,512,49,431,71,391,86,352,106,316,129,284,156,241,207,206,264,179,326,159,388,144,449,134,505,125,590"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a1973210402d3f2129c817aa8ff3d04a7" title=" " alt="" coords="860,303,1042,347"/>
<area shape="poly" title=" " alt="" coords="133,588,155,546,188,498,229,450,254,429,280,412,329,394,392,383,464,376,542,373,695,370,760,367,812,361,862,349,864,355,813,366,761,372,695,375,542,378,465,382,392,388,330,399,283,417,257,434,233,454,192,501,160,549,137,591"/>
<area shape="rect" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html#a927b27ff36edf00f73bd095be3fa0661" title=" " alt="" coords="602,307,783,351"/>
<area shape="poly" title=" " alt="" coords="128,589,148,538,180,477,223,417,250,390,280,368,316,349,355,335,435,317,515,311,587,313,587,318,515,316,436,322,356,340,319,354,283,373,254,394,227,420,184,480,153,541,133,591"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#ab68b9284ee14284e1fb297c49c3c66aa" title=" " alt="" coords="313,426,494,488"/>
<area shape="poly" title=" " alt="" coords="154,588,211,542,280,497,298,489,300,494,283,502,214,546,157,592"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#af96ca74e668efc9ee719d2937e13a781" title=" " alt="" coords="293,536,514,597"/>
<area shape="poly" title=" " alt="" coords="233,596,277,588,278,593,234,602"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a2f9727a4a032efadb91dd6e9fa707ba9" title=" " alt="" coords="296,645,511,706"/>
<area shape="poly" title=" " alt="" coords="234,640,281,649,280,655,233,646"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a44cf4d9e0f59181d4838378a46b41c73" title=" " alt="" coords="602,755,783,799"/>
<area shape="poly" title=" " alt="" coords="164,650,219,685,283,716,360,739,440,755,518,765,587,771,586,776,517,770,439,760,359,744,281,721,216,690,161,655"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a2b212f951784edd811d0cb7028fc97df" title=" " alt="" coords="602,824,783,869"/>
<area shape="poly" title=" " alt="" coords="146,650,204,713,241,745,283,771,396,794,587,826,586,832,395,799,281,775,238,749,200,717,142,654"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a61c139e2b477af2f3a34e4777cadc214" title=" " alt="" coords="313,832,494,893"/>
<area shape="poly" title=" " alt="" coords="142,651,200,730,239,773,283,811,301,822,298,827,280,815,235,777,196,733,138,654"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#aebcc4cea65e7bd9a1a2960d502edae3b" title=" " alt="" coords="602,908,783,953"/>
<area shape="poly" title=" " alt="" coords="131,651,148,708,178,778,198,814,223,848,251,878,283,903,305,913,336,920,414,930,502,933,586,932,587,938,502,938,413,935,335,926,304,918,280,907,247,882,218,851,194,817,173,781,143,710,125,653"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a6584e9e5596460d93c37dea3bf86654e" title=" " alt="" coords="313,968,494,1029"/>
<area shape="poly" title=" " alt="" coords="131,651,149,713,179,792,224,874,252,913,283,947,301,960,297,965,280,951,248,916,219,877,175,794,144,714,126,653"/>
<area shape="poly" title=" " alt="" coords="350,191,348,180,357,171,376,166,403,164,433,166,452,173,450,178,432,172,403,169,377,171,360,176,353,182,355,190"/>
<area shape="poly" title=" " alt="" coords="425,189,500,117,540,83,572,60,587,53,589,57,574,65,544,87,504,121,429,192"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#aa6bf09b7b1f0cfadf32d4a7f09ab3abc" title=" " alt="" coords="573,237,812,282"/>
<area shape="poly" title=" " alt="" coords="526,230,558,235,557,241,525,235"/>
<area shape="rect" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html#a5a22f9aae223cf0f446e92610af57576" title=" " alt="" coords="602,75,783,119"/>
<area shape="poly" title=" " alt="" coords="446,188,505,158,572,129,591,122,593,127,574,134,507,163,448,192"/>
<area shape="poly" title=" " alt="" coords="448,234,507,263,574,292,593,299,591,304,572,297,505,268,446,238"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a742fbf1b46f56663d5a63368606ed3df" title=" " alt="" coords="602,144,783,189"/>
<area shape="poly" title=" " alt="" coords="525,191,586,181,587,186,526,196"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="860,75,1042,119"/>
<area shape="poly" title=" " alt="" coords="779,48,851,68,850,73,778,53"/>
<area shape="poly" title=" " alt="" coords="644,237,642,227,651,218,667,213,693,211,721,213,737,220,735,225,719,218,693,216,668,218,653,223,647,229,649,236"/>
<area shape="poly" title=" " alt="" coords="784,280,846,296,844,301,783,285"/>
<area shape="poly" title=" " alt="" coords="778,141,850,121,851,126,779,146"/>
<area shape="poly" title=" " alt="" coords="348,535,350,525,360,516,378,511,403,509,434,512,452,519,450,524,432,517,403,514,379,516,362,521,354,527,353,536"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a2c73b61f1fb530fa5c5bbd36a1a951a2" title=" " alt="" coords="582,464,803,525"/>
<area shape="poly" title=" " alt="" coords="514,536,566,523,568,528,515,541"/>
<area shape="poly" title=" " alt="" coords="642,463,643,453,653,444,669,439,693,437,720,440,736,447,734,452,718,445,693,442,670,444,656,449,648,455,647,464"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#afefb2efa468a5cb6fb862c222e5d23d1" title=" " alt="" coords="860,569,1042,630"/>
<area shape="poly" title=" " alt="" coords="784,523,813,535,871,560,869,565,811,539,782,528"/>
<area shape="poly" title=" " alt="" coords="473,642,499,626,523,607,538,589,546,571,555,553,571,535,576,531,579,536,575,539,559,556,551,573,542,591,527,611,502,630,476,646"/>
<area shape="poly" title=" " alt="" coords="512,696,580,705,656,709,735,705,812,689,860,667,902,638,905,643,862,672,813,694,736,710,656,714,580,710,511,701"/>
<area shape="poly" title=" " alt="" coords="348,644,350,634,360,626,378,620,403,618,434,621,452,629,450,633,432,626,403,623,379,625,362,630,354,637,353,645"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a16c7f37e54033207afe6568de0a1e219" title=" " alt="" coords="602,549,783,594"/>
<area shape="poly" title=" " alt="" coords="475,642,572,604,594,597,596,602,574,609,477,647"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a2b7dbb4379b66d626c2a7e2bfd5ff9cd" title=" " alt="" coords="595,618,790,680"/>
<area shape="poly" title=" " alt="" coords="511,663,579,657,579,662,512,668"/>
<area shape="poly" title=" " alt="" coords="493,705,574,733,612,747,610,752,572,738,492,710"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#afc660ff45fc7c890834fd65eb0ee6c9c" title=" " alt="" coords="860,799,1042,843"/>
<area shape="poly" title=" " alt="" coords="784,790,845,800,845,806,783,795"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#acf8261295e4ab4ec8c132ed51b6feb71" title=" " alt="" coords="1090,829,1271,874"/>
<area shape="poly" title=" " alt="" coords="784,767,907,766,976,772,1042,784,1088,799,1130,819,1128,824,1086,804,1041,789,975,777,907,771,784,772"/>
<area shape="poly" title=" " alt="" coords="1042,830,1075,835,1074,840,1042,836"/>
<area shape="poly" title=" " alt="" coords="784,835,844,829,845,834,784,840"/>
<area shape="poly" title=" " alt="" coords="784,850,860,853,1042,853,1074,852,1074,858,1042,858,860,858,784,855"/>
<area shape="poly" title=" " alt="" coords="748,905,811,879,883,847,886,852,813,883,750,910"/>
<area shape="poly" title=" " alt="" coords="783,913,1074,866,1075,871,784,918"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a701bd179a571916879504b4edce61d7c_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a701bd179a571916879504b4edce61d7c_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a701bd179a571916879504b4edce61d7c_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a701bd179a571916879504b4edce61d7c_icgraph">
<area shape="rect" title=" " alt="" coords="500,29,728,91"/>
<area shape="poly" title=" " alt="" coords="656,17,640,11,614,8,592,10,576,15,569,21,568,29,563,29,564,19,574,10,590,5,614,3,642,5,658,13"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a62325f8f8b5d0ddcb39eb41ec9405dbb" title=" " alt="" coords="253,38,452,82"/>
<area shape="poly" title=" " alt="" coords="484,63,453,63,453,58,484,58"/>
<area shape="poly" title=" " alt="" coords="393,25,378,19,352,16,329,18,315,23,309,29,311,37,305,38,304,28,312,19,328,13,352,11,379,14,395,20"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a798efacc9ca5b99d1496f89bf1ea7a55" title=" " alt="" coords="5,38,205,82"/>
<area shape="poly" title=" " alt="" coords="237,63,205,63,205,58,237,58"/>
</map>
</div>

</div>
</div>
<a id="a67df107869a9fc03f6d9cb17e1e110c3" name="a67df107869a9fc03f6d9cb17e1e110c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67df107869a9fc03f6d9cb17e1e110c3">&#9670;&#160;</a></span>AddColumnFamily()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::PointLockManager::AddColumnFamily </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d3d/classROCKSDB__NAMESPACE_1_1ColumnFamilyHandle.html">ColumnFamilyHandle</a> *</td>          <td class="paramname"><span class="paramname"><em>cf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#adf50bbed27d5ca8e166f7d9898ebe8b5">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00121">121</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  121</span>                                                                   {</div>
<div class="line"><span class="lineno">  122</span>  InstrumentedMutexLock l(&amp;lock_map_mutex_);</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="#ae8974e88ce228b22b49d7efabb47466f">lock_maps_</a>.find(cf-&gt;GetID()) == <a class="code hl_variable" href="#ae8974e88ce228b22b49d7efabb47466f">lock_maps_</a>.end()) {</div>
<div class="line"><span class="lineno">  125</span>    <a class="code hl_variable" href="#ae8974e88ce228b22b49d7efabb47466f">lock_maps_</a>.emplace(cf-&gt;GetID(), std::make_shared&lt;LockMap&gt;(</div>
<div class="line"><span class="lineno">  126</span>                                        default_num_stripes_, mutex_factory_));</div>
<div class="line"><span class="lineno">  127</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  128</span>    <span class="comment">// column_family already exists in lock map</span></div>
<div class="line"><span class="lineno">  129</span>    assert(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  130</span>  }</div>
<div class="line"><span class="lineno">  131</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_ae8974e88ce228b22b49d7efabb47466f"><div class="ttname"><a href="#ae8974e88ce228b22b49d7efabb47466f">ROCKSDB_NAMESPACE::PointLockManager::lock_maps_</a></div><div class="ttdeci">LockMaps lock_maps_</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00176">point_lock_manager.h:176</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a67df107869a9fc03f6d9cb17e1e110c3_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a67df107869a9fc03f6d9cb17e1e110c3_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a67df107869a9fc03f6d9cb17e1e110c3_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a67df107869a9fc03f6d9cb17e1e110c3_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,230,91"/>
<area shape="poly" title=" " alt="" coords="66,29,67,19,77,10,94,5,118,3,145,5,162,13,160,17,144,11,117,8,95,10,80,15,72,21,71,29"/>
<area shape="rect" href="../../da/d3d/classROCKSDB__NAMESPACE_1_1ColumnFamilyHandle.html#a86f6510e4257ffb5039ac2e0e5cd96cf" title=" " alt="" coords="278,38,484,82"/>
<area shape="poly" title=" " alt="" coords="230,58,262,58,262,63,230,63"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a67df107869a9fc03f6d9cb17e1e110c3_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a67df107869a9fc03f6d9cb17e1e110c3_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a67df107869a9fc03f6d9cb17e1e110c3_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a67df107869a9fc03f6d9cb17e1e110c3_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,230,91"/>
<area shape="poly" title=" " alt="" coords="153,17,140,11,117,8,98,10,86,15,79,21,78,29,73,29,74,19,83,10,97,5,118,3,141,5,156,13"/>
</map>
</div>

</div>
</div>
<a id="af96ca74e668efc9ee719d2937e13a781" name="af96ca74e668efc9ee719d2937e13a781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af96ca74e668efc9ee719d2937e13a781">&#9670;&#160;</a></span>DecrementWaiters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::PointLockManager::DecrementWaiters </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html">autovector</a>&lt; <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>wait_ids</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00353">353</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  355</span>                                               {</div>
<div class="line"><span class="lineno">  356</span>  std::lock_guard&lt;std::mutex&gt; lock(wait_txn_map_mutex_);</div>
<div class="line"><span class="lineno">  357</span>  <a class="code hl_function" href="#a2c73b61f1fb530fa5c5bbd36a1a951a2">DecrementWaitersImpl</a>(txn, wait_ids);</div>
<div class="line"><span class="lineno">  358</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_a2c73b61f1fb530fa5c5bbd36a1a951a2"><div class="ttname"><a href="#a2c73b61f1fb530fa5c5bbd36a1a951a2">ROCKSDB_NAMESPACE::PointLockManager::DecrementWaitersImpl</a></div><div class="ttdeci">void DecrementWaitersImpl(const PessimisticTransaction *txn, const autovector&lt; TransactionID &gt; &amp;wait_ids)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3c/point__lock__manager_8cc_source.html#l00360">point_lock_manager.cc:360</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_af96ca74e668efc9ee719d2937e13a781_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_af96ca74e668efc9ee719d2937e13a781_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_af96ca74e668efc9ee719d2937e13a781_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_af96ca74e668efc9ee719d2937e13a781_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,227,91"/>
<area shape="poly" title=" " alt="" coords="63,29,65,19,75,10,92,5,116,3,144,5,161,13,159,17,143,11,116,8,93,10,77,15,69,21,69,30"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a2c73b61f1fb530fa5c5bbd36a1a951a2" title=" " alt="" coords="275,29,496,91"/>
<area shape="poly" title=" " alt="" coords="227,58,259,58,259,63,227,63"/>
<area shape="poly" title=" " alt="" coords="336,29,338,19,347,10,363,5,385,3,411,5,427,13,425,17,410,11,385,8,364,10,350,15,342,21,342,29"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#afefb2efa468a5cb6fb862c222e5d23d1" title=" " alt="" coords="544,29,725,91"/>
<area shape="poly" title=" " alt="" coords="497,58,528,58,528,63,497,63"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_af96ca74e668efc9ee719d2937e13a781_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_af96ca74e668efc9ee719d2937e13a781_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_af96ca74e668efc9ee719d2937e13a781_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_af96ca74e668efc9ee719d2937e13a781_icgraph">
<area shape="rect" title=" " alt="" coords="776,29,998,91"/>
<area shape="poly" title=" " alt="" coords="931,17,914,11,887,8,863,10,848,15,840,21,839,30,834,29,835,19,845,10,862,5,887,3,915,5,933,13"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a701bd179a571916879504b4edce61d7c" title=" " alt="" coords="500,29,728,91"/>
<area shape="poly" title=" " alt="" coords="761,63,729,63,729,58,761,58"/>
<area shape="poly" title=" " alt="" coords="656,17,640,11,614,8,592,10,576,15,569,21,568,29,563,29,564,19,574,10,590,5,614,3,642,5,658,13"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a62325f8f8b5d0ddcb39eb41ec9405dbb" title=" " alt="" coords="253,38,452,82"/>
<area shape="poly" title=" " alt="" coords="484,63,453,63,453,58,484,58"/>
<area shape="poly" title=" " alt="" coords="393,25,378,19,352,16,329,18,315,23,309,29,311,37,305,38,304,28,312,19,328,13,352,11,379,14,395,20"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a798efacc9ca5b99d1496f89bf1ea7a55" title=" " alt="" coords="5,38,205,82"/>
<area shape="poly" title=" " alt="" coords="237,63,205,63,205,58,237,58"/>
</map>
</div>

</div>
</div>
<a id="a2c73b61f1fb530fa5c5bbd36a1a951a2" name="a2c73b61f1fb530fa5c5bbd36a1a951a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c73b61f1fb530fa5c5bbd36a1a951a2">&#9670;&#160;</a></span>DecrementWaitersImpl()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::PointLockManager::DecrementWaitersImpl </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html">autovector</a>&lt; <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>wait_ids</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00360">360</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  362</span>                                               {</div>
<div class="line"><span class="lineno">  363</span>  <span class="keyword">auto</span> <span class="keywordtype">id</span> = txn-&gt;GetID();</div>
<div class="line"><span class="lineno">  364</span>  assert(<a class="code hl_variable" href="#a4b72146e99c2e4171abbb9dd31ca53f1">wait_txn_map_</a>.Contains(<span class="keywordtype">id</span>));</div>
<div class="line"><span class="lineno">  365</span>  <a class="code hl_variable" href="#a4b72146e99c2e4171abbb9dd31ca53f1">wait_txn_map_</a>.Delete(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> wait_id : wait_ids) {</div>
<div class="line"><span class="lineno">  368</span>    <a class="code hl_variable" href="#aa91993e3d2094374159e2a184b49f529">rev_wait_txn_map_</a>.<a class="code hl_function" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a0ac665e92a8bcaeb109604d673f10f5a">Get</a>(wait_id)--;</div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aa91993e3d2094374159e2a184b49f529">rev_wait_txn_map_</a>.<a class="code hl_function" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a0ac665e92a8bcaeb109604d673f10f5a">Get</a>(wait_id) == 0) {</div>
<div class="line"><span class="lineno">  370</span>      <a class="code hl_variable" href="#aa91993e3d2094374159e2a184b49f529">rev_wait_txn_map_</a>.<a class="code hl_function" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a16a3c8b6b7f10fc0975d8dabddf7ea11">Delete</a>(wait_id);</div>
<div class="line"><span class="lineno">  371</span>    }</div>
<div class="line"><span class="lineno">  372</span>  }</div>
<div class="line"><span class="lineno">  373</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1HashMap_html_a0ac665e92a8bcaeb109604d673f10f5a"><div class="ttname"><a href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a0ac665e92a8bcaeb109604d673f10f5a">ROCKSDB_NAMESPACE::HashMap::Get</a></div><div class="ttdeci">V &amp; Get(K key)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/hash__map_8h_source.html#l00058">hash_map.h:58</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1HashMap_html_a16a3c8b6b7f10fc0975d8dabddf7ea11"><div class="ttname"><a href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a16a3c8b6b7f10fc0975d8dabddf7ea11">ROCKSDB_NAMESPACE::HashMap::Delete</a></div><div class="ttdeci">void Delete(K key)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/hash__map_8h_source.html#l00044">hash_map.h:44</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_a4b72146e99c2e4171abbb9dd31ca53f1"><div class="ttname"><a href="#a4b72146e99c2e4171abbb9dd31ca53f1">ROCKSDB_NAMESPACE::PointLockManager::wait_txn_map_</a></div><div class="ttdeci">HashMap&lt; TransactionID, TrackedTrxInfo &gt; wait_txn_map_</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00188">point_lock_manager.h:188</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_aa91993e3d2094374159e2a184b49f529"><div class="ttname"><a href="#aa91993e3d2094374159e2a184b49f529">ROCKSDB_NAMESPACE::PointLockManager::rev_wait_txn_map_</a></div><div class="ttdeci">HashMap&lt; TransactionID, int &gt; rev_wait_txn_map_</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00186">point_lock_manager.h:186</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2c73b61f1fb530fa5c5bbd36a1a951a2_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2c73b61f1fb530fa5c5bbd36a1a951a2_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2c73b61f1fb530fa5c5bbd36a1a951a2_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2c73b61f1fb530fa5c5bbd36a1a951a2_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,227,91"/>
<area shape="poly" title=" " alt="" coords="67,29,68,19,77,10,93,5,116,3,142,5,158,13,156,17,141,11,116,8,94,10,80,15,73,21,72,29"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#afefb2efa468a5cb6fb862c222e5d23d1" title=" " alt="" coords="275,29,456,91"/>
<area shape="poly" title=" " alt="" coords="227,58,259,58,259,63,227,63"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2c73b61f1fb530fa5c5bbd36a1a951a2_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2c73b61f1fb530fa5c5bbd36a1a951a2_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2c73b61f1fb530fa5c5bbd36a1a951a2_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2c73b61f1fb530fa5c5bbd36a1a951a2_icgraph">
<area shape="rect" title=" " alt="" coords="1046,84,1267,146"/>
<area shape="poly" title=" " alt="" coords="1200,72,1183,65,1156,63,1133,65,1118,69,1110,76,1109,84,1104,83,1105,73,1115,65,1132,59,1156,57,1184,60,1202,67"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#af96ca74e668efc9ee719d2937e13a781" title=" " alt="" coords="776,29,998,91"/>
<area shape="poly" title=" " alt="" coords="1030,92,997,85,998,80,1031,87"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a2f9727a4a032efadb91dd6e9fa707ba9" title=" " alt="" coords="779,139,995,200"/>
<area shape="poly" title=" " alt="" coords="1031,143,995,150,994,145,1030,138"/>
<area shape="poly" title=" " alt="" coords="930,17,914,11,887,8,864,10,848,15,840,21,840,30,834,29,836,19,846,10,863,5,887,3,915,5,932,13"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a701bd179a571916879504b4edce61d7c" title=" " alt="" coords="500,84,728,146"/>
<area shape="poly" title=" " alt="" coords="761,88,729,95,728,89,760,83"/>
<area shape="poly" title=" " alt="" coords="656,72,640,65,614,63,592,65,576,69,569,76,568,84,563,83,564,73,574,65,590,59,614,57,642,60,658,67"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a62325f8f8b5d0ddcb39eb41ec9405dbb" title=" " alt="" coords="253,92,452,137"/>
<area shape="poly" title=" " alt="" coords="484,118,453,118,453,112,484,112"/>
<area shape="poly" title=" " alt="" coords="393,80,378,74,352,71,329,73,315,78,309,84,311,92,305,92,304,82,312,73,328,68,352,66,379,68,395,75"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a798efacc9ca5b99d1496f89bf1ea7a55" title=" " alt="" coords="5,92,205,137"/>
<area shape="poly" title=" " alt="" coords="237,118,205,118,205,112,237,112"/>
<area shape="poly" title=" " alt="" coords="764,148,728,140,729,135,765,142"/>
<area shape="poly" title=" " alt="" coords="930,127,914,120,887,117,864,119,848,124,840,131,840,139,834,138,836,128,846,119,863,114,887,112,915,115,932,122"/>
</map>
</div>

</div>
</div>
<a id="adf5fcc7bc532158ebee6e2af1888c95b" name="adf5fcc7bc532158ebee6e2af1888c95b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf5fcc7bc532158ebee6e2af1888c95b">&#9670;&#160;</a></span>GetDeadlockInfoBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d1/d58/structROCKSDB__NAMESPACE_1_1DeadlockPath.html">DeadlockPath</a> &gt; ROCKSDB_NAMESPACE::PointLockManager::GetDeadlockInfoBuffer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a2e42bfb37e4c333b01ced96df33aea96">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00690">690</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  690</span>                                                                {</div>
<div class="line"><span class="lineno">  691</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="#acd4d23a079da225379ff4bba82157417">dlock_buffer_</a>.<a class="code hl_function" href="../../d3/d3c/classROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl.html#aacc2b7fc1284f8769188b8e4d6b6e27d">PrepareBuffer</a>();</div>
<div class="line"><span class="lineno">  692</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl_html_aacc2b7fc1284f8769188b8e4d6b6e27d"><div class="ttname"><a href="../../d3/d3c/classROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl.html#aacc2b7fc1284f8769188b8e4d6b6e27d">ROCKSDB_NAMESPACE::DeadlockInfoBufferTempl::PrepareBuffer</a></div><div class="ttdeci">std::vector&lt; Path &gt; PrepareBuffer()</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00090">point_lock_manager.h:90</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_adf5fcc7bc532158ebee6e2af1888c95b_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_adf5fcc7bc532158ebee6e2af1888c95b_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_adf5fcc7bc532158ebee6e2af1888c95b_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_adf5fcc7bc532158ebee6e2af1888c95b_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,239,91"/>
<area shape="poly" title=" " alt="" coords="76,29,77,19,86,10,101,5,122,3,147,5,162,13,159,17,145,11,122,8,102,10,89,15,82,21,81,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_adf5fcc7bc532158ebee6e2af1888c95b_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_adf5fcc7bc532158ebee6e2af1888c95b_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_adf5fcc7bc532158ebee6e2af1888c95b_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_adf5fcc7bc532158ebee6e2af1888c95b_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,239,91"/>
<area shape="poly" title=" " alt="" coords="159,17,145,11,122,8,102,10,89,15,82,21,81,29,76,29,77,19,86,10,101,5,122,3,147,5,162,13"/>
</map>
</div>

</div>
</div>
<a id="a3320a818e6b02402c36d6bf616aae8be" name="a3320a818e6b02402c36d6bf616aae8be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3320a818e6b02402c36d6bf616aae8be">&#9670;&#160;</a></span>GetLockMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html">LockMap</a> &gt; ROCKSDB_NAMESPACE::PointLockManager::GetLockMap </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>column_family_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00159">159</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  160</span>                                     {</div>
<div class="line"><span class="lineno">  161</span>  <span class="comment">// First check thread-local cache</span></div>
<div class="line"><span class="lineno">  162</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a94d91a6a47b97e54497033ff95014872">lock_maps_cache_</a>-&gt;Get() == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  163</span>    <a class="code hl_variable" href="#a94d91a6a47b97e54497033ff95014872">lock_maps_cache_</a>-&gt;Reset(<span class="keyword">new</span> <a class="code hl_typedef" href="#ade3fdaef5de044ce8e05ba694c687871">LockMaps</a>());</div>
<div class="line"><span class="lineno">  164</span>  }</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>  <span class="keyword">auto</span> lock_maps_cache = <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="#ade3fdaef5de044ce8e05ba694c687871">LockMaps</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="#a94d91a6a47b97e54497033ff95014872">lock_maps_cache_</a>-&gt;Get());</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>  <span class="keyword">auto</span> lock_map_iter = lock_maps_cache-&gt;find(column_family_id);</div>
<div class="line"><span class="lineno">  169</span>  <span class="keywordflow">if</span> (lock_map_iter != lock_maps_cache-&gt;end()) {</div>
<div class="line"><span class="lineno">  170</span>    <span class="comment">// Found lock map for this column family.</span></div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">return</span> lock_map_iter-&gt;second;</div>
<div class="line"><span class="lineno">  172</span>  }</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>  <span class="comment">// Not found in local cache, grab mutex and check shared LockMaps</span></div>
<div class="line"><span class="lineno">  175</span>  InstrumentedMutexLock l(&amp;lock_map_mutex_);</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>  lock_map_iter = <a class="code hl_variable" href="#ae8974e88ce228b22b49d7efabb47466f">lock_maps_</a>.find(column_family_id);</div>
<div class="line"><span class="lineno">  178</span>  <span class="keywordflow">if</span> (lock_map_iter == <a class="code hl_variable" href="#ae8974e88ce228b22b49d7efabb47466f">lock_maps_</a>.end()) {</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">return</span> std::shared_ptr&lt;LockMap&gt;(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  180</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  181</span>    <span class="comment">// Found lock map.  Store in thread-local cache and return.</span></div>
<div class="line"><span class="lineno">  182</span>    std::shared_ptr&lt;LockMap&gt;&amp; lock_map = lock_map_iter-&gt;second;</div>
<div class="line"><span class="lineno">  183</span>    lock_maps_cache-&gt;insert({column_family_id, lock_map});</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">return</span> lock_map;</div>
<div class="line"><span class="lineno">  186</span>  }</div>
<div class="line"><span class="lineno">  187</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_ade3fdaef5de044ce8e05ba694c687871"><div class="ttname"><a href="#ade3fdaef5de044ce8e05ba694c687871">ROCKSDB_NAMESPACE::PointLockManager::LockMaps</a></div><div class="ttdeci">UnorderedMap&lt; uint32_t, std::shared_ptr&lt; LockMap &gt; &gt; LockMaps</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00175">point_lock_manager.h:175</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3320a818e6b02402c36d6bf616aae8be_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3320a818e6b02402c36d6bf616aae8be_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3320a818e6b02402c36d6bf616aae8be_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3320a818e6b02402c36d6bf616aae8be_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,236,74"/>
<area shape="poly" title=" " alt="" coords="76,29,75,19,83,10,98,5,121,3,145,5,160,12,158,17,144,10,120,8,99,10,86,15,80,21,82,28"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3320a818e6b02402c36d6bf616aae8be_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3320a818e6b02402c36d6bf616aae8be_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3320a818e6b02402c36d6bf616aae8be_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3320a818e6b02402c36d6bf616aae8be_icgraph">
<area shape="rect" title=" " alt="" coords="500,89,730,134"/>
<area shape="poly" title=" " alt="" coords="658,77,642,70,615,68,590,70,575,75,569,81,571,88,565,89,564,79,572,70,589,65,615,63,643,65,660,72"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a62325f8f8b5d0ddcb39eb41ec9405dbb" title=" " alt="" coords="253,29,452,74"/>
<area shape="poly" title=" " alt="" coords="499,88,452,77,453,72,500,83"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#aff3faa7f56e3f52ddc2e69d5cadf189e" title=" " alt="" coords="6,101,204,146"/>
<area shape="poly" title=" " alt="" coords="485,117,204,124,204,119,485,112"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a80b9ee75b80b58ee748c21181bf2bae2" title=" " alt="" coords="254,173,451,218"/>
<area shape="poly" title=" " alt="" coords="529,142,425,175,424,170,527,137"/>
<area shape="poly" title=" " alt="" coords="393,17,378,10,352,8,329,10,315,15,309,21,311,28,305,29,304,19,312,10,328,5,352,3,379,5,395,12"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a798efacc9ca5b99d1496f89bf1ea7a55" title=" " alt="" coords="5,29,205,74"/>
<area shape="poly" title=" " alt="" coords="237,54,205,54,205,49,237,49"/>
<area shape="poly" title=" " alt="" coords="258,171,183,149,185,144,259,166"/>
<area shape="poly" title=" " alt="" coords="393,161,378,154,352,152,329,154,315,159,309,165,311,172,305,173,304,163,312,154,328,149,352,147,379,149,395,156"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#ae8aabc11ad71baeb5dd6d939fc52f057" title=" " alt="" coords="6,173,204,218"/>
<area shape="poly" title=" " alt="" coords="238,198,204,198,204,193,238,193"/>
</map>
</div>

</div>
</div>
<a id="a3a0acfce4177ed3fd37daac7252a8cff" name="a3a0acfce4177ed3fd37daac7252a8cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a0acfce4177ed3fd37daac7252a8cff">&#9670;&#160;</a></span>GetLockTrackerFactory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d8/d7d/classROCKSDB__NAMESPACE_1_1LockTrackerFactory.html">LockTrackerFactory</a> &amp; ROCKSDB_NAMESPACE::PointLockManager::GetLockTrackerFactory </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a6549850cd44c1e336021c51dfd59ef55">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00124">124</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  124</span>                                                                   {</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">return</span> PointLockTrackerFactory::Get();</div>
<div class="line"><span class="lineno">  126</span>  }</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3a0acfce4177ed3fd37daac7252a8cff_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3a0acfce4177ed3fd37daac7252a8cff_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3a0acfce4177ed3fd37daac7252a8cff_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a3a0acfce4177ed3fd37daac7252a8cff_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,255,67"/>
<area shape="rect" href="../../dc/dab/classROCKSDB__NAMESPACE_1_1PointLockTrackerFactory.html#a1edcc47be2405be1c885549ceebe0a4f" title=" " alt="" coords="303,14,512,58"/>
<area shape="poly" title=" " alt="" coords="255,34,287,34,287,39,255,39"/>
<area shape="rect" href="../../dc/dab/classROCKSDB__NAMESPACE_1_1PointLockTrackerFactory.html#a7f2a967d1595ab0cccb22d572e741ebd" title=" " alt="" coords="560,5,747,67"/>
<area shape="poly" title=" " alt="" coords="512,34,545,34,545,39,512,39"/>
</map>
</div>

</div>
</div>
<a id="a96c690f692975aa112cf9a7e17659cbf" name="a96c690f692975aa112cf9a7e17659cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96c690f692975aa112cf9a7e17659cbf">&#9670;&#160;</a></span>GetPointLockStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a221bcde41f9f29bfa2dbf9de1390bc55">PointLockManager::PointLockStatus</a> ROCKSDB_NAMESPACE::PointLockManager::GetPointLockStatus </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a3b3ac6bdc0061730058bf9e13fd784e7">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00649">649</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  649</span>                                                                     {</div>
<div class="line"><span class="lineno">  650</span>  <a class="code hl_typedef" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a221bcde41f9f29bfa2dbf9de1390bc55">PointLockStatus</a> data;</div>
<div class="line"><span class="lineno">  651</span>  <span class="comment">// Lock order here is important. The correct order is lock_map_mutex_, then</span></div>
<div class="line"><span class="lineno">  652</span>  <span class="comment">// for every column family ID in ascending order lock every stripe in</span></div>
<div class="line"><span class="lineno">  653</span>  <span class="comment">// ascending order.</span></div>
<div class="line"><span class="lineno">  654</span>  InstrumentedMutexLock l(&amp;lock_map_mutex_);</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>  std::vector&lt;uint32_t&gt; cf_ids;</div>
<div class="line"><span class="lineno">  657</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; map : lock_maps_) {</div>
<div class="line"><span class="lineno">  658</span>    cf_ids.push_back(map.first);</div>
<div class="line"><span class="lineno">  659</span>  }</div>
<div class="line"><span class="lineno">  660</span>  std::sort(cf_ids.begin(), cf_ids.end());</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : cf_ids) {</div>
<div class="line"><span class="lineno">  663</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; stripes = lock_maps_[i]-&gt;lock_map_stripes_;</div>
<div class="line"><span class="lineno">  664</span>    <span class="comment">// Iterate and lock all stripes in ascending order.</span></div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; j : stripes) {</div>
<div class="line"><span class="lineno">  666</span>      j-&gt;stripe_mutex-&gt;Lock().PermitUncheckedError();</div>
<div class="line"><span class="lineno">  667</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; it : j-&gt;keys) {</div>
<div class="line"><span class="lineno">  668</span>        <span class="keyword">struct </span>KeyLockInfo info;</div>
<div class="line"><span class="lineno">  669</span>        info.exclusive = it.second.exclusive;</div>
<div class="line"><span class="lineno">  670</span>        info.key = it.first;</div>
<div class="line"><span class="lineno">  671</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <span class="keywordtype">id</span> : it.second.txn_ids) {</div>
<div class="line"><span class="lineno">  672</span>          info.ids.push_back(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  673</span>        }</div>
<div class="line"><span class="lineno">  674</span>        data.insert({i, info});</div>
<div class="line"><span class="lineno">  675</span>      }</div>
<div class="line"><span class="lineno">  676</span>    }</div>
<div class="line"><span class="lineno">  677</span>  }</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>  <span class="comment">// Unlock everything. Unlocking order is not important.</span></div>
<div class="line"><span class="lineno">  680</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> i : cf_ids) {</div>
<div class="line"><span class="lineno">  681</span>    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; stripes = lock_maps_[i]-&gt;lock_map_stripes_;</div>
<div class="line"><span class="lineno">  682</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; j : stripes) {</div>
<div class="line"><span class="lineno">  683</span>      j-&gt;stripe_mutex-&gt;UnLock();</div>
<div class="line"><span class="lineno">  684</span>    }</div>
<div class="line"><span class="lineno">  685</span>  }</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>  <span class="keywordflow">return</span> data;</div>
<div class="line"><span class="lineno">  688</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1LockManager_html_a221bcde41f9f29bfa2dbf9de1390bc55"><div class="ttname"><a href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a221bcde41f9f29bfa2dbf9de1390bc55">ROCKSDB_NAMESPACE::LockManager::PointLockStatus</a></div><div class="ttdeci">std::unordered_multimap&lt; ColumnFamilyId, KeyLockInfo &gt; PointLockStatus</div><div class="ttdef"><b>Definition</b> <a href="../../dd/ded/lock__manager_8h_source.html#l00061">lock_manager.h:61</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a96c690f692975aa112cf9a7e17659cbf_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a96c690f692975aa112cf9a7e17659cbf_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a96c690f692975aa112cf9a7e17659cbf_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a96c690f692975aa112cf9a7e17659cbf_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,211,91"/>
<area shape="poly" title=" " alt="" coords="67,29,68,19,76,10,89,5,108,3,130,5,143,13,140,17,128,11,108,8,90,10,79,15,73,21,72,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a96c690f692975aa112cf9a7e17659cbf_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a96c690f692975aa112cf9a7e17659cbf_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a96c690f692975aa112cf9a7e17659cbf_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a96c690f692975aa112cf9a7e17659cbf_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,211,91"/>
<area shape="poly" title=" " alt="" coords="140,17,128,11,108,8,90,10,79,15,73,21,72,29,67,29,68,19,76,10,89,5,108,3,130,5,143,13"/>
</map>
</div>

</div>
</div>
<a id="a25fd70da77100ca85024316a31033129" name="a25fd70da77100ca85024316a31033129"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25fd70da77100ca85024316a31033129">&#9670;&#160;</a></span>GetRangeLockStatus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a5bd737991c128260e2e21ab6e91a488e">PointLockManager::RangeLockStatus</a> ROCKSDB_NAMESPACE::PointLockManager::GetRangeLockStatus </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#af424dc7f9dafc8796fc572203874cc7c">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00698">698</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  698</span>                                                                     {</div>
<div class="line"><span class="lineno">  699</span>  <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  700</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a25fd70da77100ca85024316a31033129_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a25fd70da77100ca85024316a31033129_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a25fd70da77100ca85024316a31033129_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a25fd70da77100ca85024316a31033129_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,219,91"/>
<area shape="poly" title=" " alt="" coords="70,29,71,19,79,10,92,5,112,3,135,5,148,13,146,17,133,11,112,8,94,10,82,15,76,21,75,29"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a25fd70da77100ca85024316a31033129_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a25fd70da77100ca85024316a31033129_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a25fd70da77100ca85024316a31033129_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a25fd70da77100ca85024316a31033129_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,219,91"/>
<area shape="poly" title=" " alt="" coords="146,17,133,11,112,8,94,10,82,15,76,21,75,29,70,29,71,19,79,10,92,5,112,3,135,5,148,13"/>
</map>
</div>

</div>
</div>
<a id="a2f9727a4a032efadb91dd6e9fa707ba9" name="a2f9727a4a032efadb91dd6e9fa707ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f9727a4a032efadb91dd6e9fa707ba9">&#9670;&#160;</a></span>IncrementWaiters()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ROCKSDB_NAMESPACE::PointLockManager::IncrementWaiters </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html">autovector</a>&lt; <a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>wait_ids</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t &amp;</td>          <td class="paramname"><span class="paramname"><em>cf_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool &amp;</td>          <td class="paramname"><span class="paramname"><em>exclusive</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *const</td>          <td class="paramname"><span class="paramname"><em>env</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00375">375</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  378</span>                                                                  {</div>
<div class="line"><span class="lineno">  379</span>  <span class="keyword">auto</span> <span class="keywordtype">id</span> = txn-&gt;GetID();</div>
<div class="line"><span class="lineno">  380</span>  std::vector&lt;int&gt; queue_parents(</div>
<div class="line"><span class="lineno">  381</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(txn-&gt;GetDeadlockDetectDepth()));</div>
<div class="line"><span class="lineno">  382</span>  std::vector&lt;TransactionID&gt; queue_values(</div>
<div class="line"><span class="lineno">  383</span>      <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(txn-&gt;GetDeadlockDetectDepth()));</div>
<div class="line"><span class="lineno">  384</span>  std::lock_guard&lt;std::mutex&gt; lock(wait_txn_map_mutex_);</div>
<div class="line"><span class="lineno">  385</span>  assert(!<a class="code hl_variable" href="#a4b72146e99c2e4171abbb9dd31ca53f1">wait_txn_map_</a>.Contains(<span class="keywordtype">id</span>));</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>  <a class="code hl_variable" href="#a4b72146e99c2e4171abbb9dd31ca53f1">wait_txn_map_</a>.Insert(<span class="keywordtype">id</span>, {wait_ids, cf_id, exclusive, key});</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> wait_id : wait_ids) {</div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aa91993e3d2094374159e2a184b49f529">rev_wait_txn_map_</a>.<a class="code hl_function" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a280eb5db1840cf02ed7b6672651b46de">Contains</a>(wait_id)) {</div>
<div class="line"><span class="lineno">  391</span>      <a class="code hl_variable" href="#aa91993e3d2094374159e2a184b49f529">rev_wait_txn_map_</a>.<a class="code hl_function" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a0ac665e92a8bcaeb109604d673f10f5a">Get</a>(wait_id)++;</div>
<div class="line"><span class="lineno">  392</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  393</span>      <a class="code hl_variable" href="#aa91993e3d2094374159e2a184b49f529">rev_wait_txn_map_</a>.<a class="code hl_function" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a4baad55198ec6e0cb7f12d26c8ad33fa">Insert</a>(wait_id, 1);</div>
<div class="line"><span class="lineno">  394</span>    }</div>
<div class="line"><span class="lineno">  395</span>  }</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>  <span class="comment">// No deadlock if nobody is waiting on self.</span></div>
<div class="line"><span class="lineno">  398</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#aa91993e3d2094374159e2a184b49f529">rev_wait_txn_map_</a>.<a class="code hl_function" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a280eb5db1840cf02ed7b6672651b46de">Contains</a>(<span class="keywordtype">id</span>)) {</div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  400</span>  }</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>  <span class="keyword">const</span> <span class="keyword">auto</span>* next_ids = &amp;wait_ids;</div>
<div class="line"><span class="lineno">  403</span>  <span class="keywordtype">int</span> parent = -1;</div>
<div class="line"><span class="lineno">  404</span>  int64_t deadlock_time = 0;</div>
<div class="line"><span class="lineno">  405</span>  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> tail = 0, head = 0; head &lt; txn-&gt;GetDeadlockDetectDepth(); head++) {</div>
<div class="line"><span class="lineno">  406</span>    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordflow">if</span> (next_ids) {</div>
<div class="line"><span class="lineno">  408</span>      <span class="keywordflow">for</span> (; i &lt; static_cast&lt;int&gt;(next_ids-&gt;size()) &amp;&amp;</div>
<div class="line"><span class="lineno">  409</span>             tail + i &lt; txn-&gt;GetDeadlockDetectDepth();</div>
<div class="line"><span class="lineno">  410</span>           i++) {</div>
<div class="line"><span class="lineno">  411</span>        queue_values[tail + i] = (*next_ids)[i];</div>
<div class="line"><span class="lineno">  412</span>        queue_parents[tail + i] = parent;</div>
<div class="line"><span class="lineno">  413</span>      }</div>
<div class="line"><span class="lineno">  414</span>      tail += i;</div>
<div class="line"><span class="lineno">  415</span>    }</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>    <span class="comment">// No more items in the list, meaning no deadlock.</span></div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordflow">if</span> (tail == head) {</div>
<div class="line"><span class="lineno">  419</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  420</span>    }</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>    <span class="keyword">auto</span> next = queue_values[head];</div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">if</span> (next == <span class="keywordtype">id</span>) {</div>
<div class="line"><span class="lineno">  424</span>      std::vector&lt;DeadlockInfo&gt; path;</div>
<div class="line"><span class="lineno">  425</span>      <span class="keywordflow">while</span> (head != -1) {</div>
<div class="line"><span class="lineno">  426</span>        assert(<a class="code hl_variable" href="#a4b72146e99c2e4171abbb9dd31ca53f1">wait_txn_map_</a>.Contains(queue_values[head]));</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>        <span class="keyword">auto</span> extracted_info = <a class="code hl_variable" href="#a4b72146e99c2e4171abbb9dd31ca53f1">wait_txn_map_</a>.Get(queue_values[head]);</div>
<div class="line"><span class="lineno">  429</span>        path.push_back({queue_values[head], extracted_info.m_cf_id,</div>
<div class="line"><span class="lineno">  430</span>                        extracted_info.m_exclusive,</div>
<div class="line"><span class="lineno">  431</span>                        extracted_info.m_waiting_key});</div>
<div class="line"><span class="lineno">  432</span>        head = queue_parents[head];</div>
<div class="line"><span class="lineno">  433</span>      }</div>
<div class="line"><span class="lineno">  434</span>      <span class="keywordflow">if</span> (!env-&gt;GetCurrentTime(&amp;deadlock_time).ok()) {</div>
<div class="line"><span class="lineno">  435</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  436</span><span class="comment">          TODO(AR) this preserves the current behaviour whilst checking the</span></div>
<div class="line"><span class="lineno">  437</span><span class="comment">          status of env-&gt;GetCurrentTime to ensure that ASSERT_STATUS_CHECKED</span></div>
<div class="line"><span class="lineno">  438</span><span class="comment">          passes. Should we instead raise an error if !ok() ?</span></div>
<div class="line"><span class="lineno">  439</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno">  440</span>        deadlock_time = 0;</div>
<div class="line"><span class="lineno">  441</span>      }</div>
<div class="line"><span class="lineno">  442</span>      std::reverse(path.begin(), path.end());</div>
<div class="line"><span class="lineno">  443</span>      <a class="code hl_variable" href="#acd4d23a079da225379ff4bba82157417">dlock_buffer_</a>.<a class="code hl_function" href="../../d3/d3c/classROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl.html#aa49078008ada1cd68872f8082655eaef">AddNewPath</a>(DeadlockPath(path, deadlock_time));</div>
<div class="line"><span class="lineno">  444</span>      deadlock_time = 0;</div>
<div class="line"><span class="lineno">  445</span>      <a class="code hl_function" href="#a2c73b61f1fb530fa5c5bbd36a1a951a2">DecrementWaitersImpl</a>(txn, wait_ids);</div>
<div class="line"><span class="lineno">  446</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  447</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a4b72146e99c2e4171abbb9dd31ca53f1">wait_txn_map_</a>.Contains(next)) {</div>
<div class="line"><span class="lineno">  448</span>      next_ids = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  449</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  450</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  451</span>      parent = head;</div>
<div class="line"><span class="lineno">  452</span>      next_ids = &amp;(<a class="code hl_variable" href="#a4b72146e99c2e4171abbb9dd31ca53f1">wait_txn_map_</a>.Get(next).m_neighbors);</div>
<div class="line"><span class="lineno">  453</span>    }</div>
<div class="line"><span class="lineno">  454</span>  }</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>  <span class="comment">// Wait cycle too big, just assume deadlock.</span></div>
<div class="line"><span class="lineno">  457</span>  <span class="keywordflow">if</span> (!env-&gt;GetCurrentTime(&amp;deadlock_time).ok()) {</div>
<div class="line"><span class="lineno">  458</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  459</span><span class="comment">      TODO(AR) this preserves the current behaviour whilst checking the status</span></div>
<div class="line"><span class="lineno">  460</span><span class="comment">      of env-&gt;GetCurrentTime to ensure that ASSERT_STATUS_CHECKED passes.</span></div>
<div class="line"><span class="lineno">  461</span><span class="comment">      Should we instead raise an error if !ok() ?</span></div>
<div class="line"><span class="lineno">  462</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">  463</span>    deadlock_time = 0;</div>
<div class="line"><span class="lineno">  464</span>  }</div>
<div class="line"><span class="lineno">  465</span>  <a class="code hl_variable" href="#acd4d23a079da225379ff4bba82157417">dlock_buffer_</a>.<a class="code hl_function" href="../../d3/d3c/classROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl.html#aa49078008ada1cd68872f8082655eaef">AddNewPath</a>(DeadlockPath(deadlock_time, <span class="keyword">true</span>));</div>
<div class="line"><span class="lineno">  466</span>  <a class="code hl_function" href="#a2c73b61f1fb530fa5c5bbd36a1a951a2">DecrementWaitersImpl</a>(txn, wait_ids);</div>
<div class="line"><span class="lineno">  467</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  468</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl_html_aa49078008ada1cd68872f8082655eaef"><div class="ttname"><a href="../../d3/d3c/classROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl.html#aa49078008ada1cd68872f8082655eaef">ROCKSDB_NAMESPACE::DeadlockInfoBufferTempl::AddNewPath</a></div><div class="ttdeci">void AddNewPath(Path path)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00059">point_lock_manager.h:59</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1HashMap_html_a280eb5db1840cf02ed7b6672651b46de"><div class="ttname"><a href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a280eb5db1840cf02ed7b6672651b46de">ROCKSDB_NAMESPACE::HashMap::Contains</a></div><div class="ttdeci">bool Contains(K key)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/hash__map_8h_source.html#l00031">hash_map.h:31</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1HashMap_html_a4baad55198ec6e0cb7f12d26c8ad33fa"><div class="ttname"><a href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html#a4baad55198ec6e0cb7f12d26c8ad33fa">ROCKSDB_NAMESPACE::HashMap::Insert</a></div><div class="ttdeci">void Insert(K key, const V &amp;value)</div><div class="ttdef"><b>Definition</b> <a href="../../d6/d13/hash__map_8h_source.html#l00039">hash_map.h:39</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2f9727a4a032efadb91dd6e9fa707ba9_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2f9727a4a032efadb91dd6e9fa707ba9_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2f9727a4a032efadb91dd6e9fa707ba9_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2f9727a4a032efadb91dd6e9fa707ba9_cgraph">
<area shape="rect" title=" " alt="" coords="5,157,221,219"/>
<area shape="poly" title=" " alt="" coords="61,157,62,147,72,138,89,133,113,131,141,133,158,141,156,145,140,139,113,136,90,138,75,143,67,149,66,158"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a2c73b61f1fb530fa5c5bbd36a1a951a2" title=" " alt="" coords="269,29,490,91"/>
<area shape="poly" title=" " alt="" coords="173,154,268,107,293,95,295,100,270,112,176,159"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#afefb2efa468a5cb6fb862c222e5d23d1" title=" " alt="" coords="538,64,719,126"/>
<area shape="poly" title=" " alt="" coords="221,161,268,151,522,108,523,113,269,156,222,166"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a16c7f37e54033207afe6568de0a1e219" title=" " alt="" coords="289,166,470,210"/>
<area shape="poly" title=" " alt="" coords="221,186,273,186,273,191,221,191"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a2b7dbb4379b66d626c2a7e2bfd5ff9cd" title=" " alt="" coords="282,235,477,296"/>
<area shape="poly" title=" " alt="" coords="222,217,268,230,266,235,220,222"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a44cf4d9e0f59181d4838378a46b41c73" title=" " alt="" coords="289,320,470,365"/>
<area shape="poly" title=" " alt="" coords="149,218,204,263,270,306,282,312,280,317,267,310,200,267,146,222"/>
<area shape="poly" title=" " alt="" coords="330,29,332,19,341,10,357,5,379,3,405,5,421,13,419,17,404,11,379,8,358,10,344,15,336,21,336,29"/>
<area shape="poly" title=" " alt="" coords="491,73,523,77,522,83,490,78"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#afc660ff45fc7c890834fd65eb0ee6c9c" title=" " alt="" coords="538,290,719,334"/>
<area shape="poly" title=" " alt="" coords="470,329,522,323,523,328,471,334"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#acf8261295e4ab4ec8c132ed51b6feb71" title=" " alt="" coords="767,320,949,365"/>
<area shape="poly" title=" " alt="" coords="471,343,538,344,719,344,752,344,752,349,719,349,538,349,470,348"/>
<area shape="poly" title=" " alt="" coords="720,322,752,326,751,331,719,327"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2f9727a4a032efadb91dd6e9fa707ba9_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2f9727a4a032efadb91dd6e9fa707ba9_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2f9727a4a032efadb91dd6e9fa707ba9_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a2f9727a4a032efadb91dd6e9fa707ba9_icgraph">
<area shape="rect" title=" " alt="" coords="776,29,992,91"/>
<area shape="poly" title=" " alt="" coords="927,17,911,11,884,8,861,10,845,15,837,21,836,30,831,29,833,19,842,10,860,5,884,3,912,5,929,13"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a701bd179a571916879504b4edce61d7c" title=" " alt="" coords="500,29,728,91"/>
<area shape="poly" title=" " alt="" coords="761,63,729,63,729,58,761,58"/>
<area shape="poly" title=" " alt="" coords="656,17,640,11,614,8,592,10,576,15,569,21,568,29,563,29,564,19,574,10,590,5,614,3,642,5,658,13"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a62325f8f8b5d0ddcb39eb41ec9405dbb" title=" " alt="" coords="253,38,452,82"/>
<area shape="poly" title=" " alt="" coords="484,63,453,63,453,58,484,58"/>
<area shape="poly" title=" " alt="" coords="393,25,378,19,352,16,329,18,315,23,309,29,311,37,305,38,304,28,312,19,328,13,352,11,379,14,395,20"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a798efacc9ca5b99d1496f89bf1ea7a55" title=" " alt="" coords="5,38,205,82"/>
<area shape="poly" title=" " alt="" coords="237,63,205,63,205,58,237,58"/>
</map>
</div>

</div>
</div>
<a id="aa6bf09b7b1f0cfadf32d4a7f09ab3abc" name="aa6bf09b7b1f0cfadf32d4a7f09ab3abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6bf09b7b1f0cfadf32d4a7f09ab3abc">&#9670;&#160;</a></span>IsLockExpired()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ROCKSDB_NAMESPACE::PointLockManager::IsLockExpired </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a></td>          <td class="paramname"><span class="paramname"><em>txn_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d5c/structROCKSDB__NAMESPACE_1_1LockInfo.html">LockInfo</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>lock_info</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *</td>          <td class="paramname"><span class="paramname"><em>wait_time</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00193">193</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  195</span>                                                            {</div>
<div class="line"><span class="lineno">  196</span>  <span class="keywordflow">if</span> (lock_info.expiration_time == 0) {</div>
<div class="line"><span class="lineno">  197</span>    *expire_time = 0;</div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  199</span>  }</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>  <span class="keyword">auto</span> <a class="code hl_function" href="../../de/d90/namespaceTiming.html#aad3c7bc5b8ee3fcad5f4fa0618e8be86">now</a> = env-&gt;NowMicros();</div>
<div class="line"><span class="lineno">  202</span>  <span class="keywordtype">bool</span> expired = lock_info.expiration_time &lt;= <a class="code hl_function" href="../../de/d90/namespaceTiming.html#aad3c7bc5b8ee3fcad5f4fa0618e8be86">now</a>;</div>
<div class="line"><span class="lineno">  203</span>  <span class="keywordflow">if</span> (!expired) {</div>
<div class="line"><span class="lineno">  204</span>    <span class="comment">// return how many microseconds until lock will be expired</span></div>
<div class="line"><span class="lineno">  205</span>    *expire_time = lock_info.expiration_time;</div>
<div class="line"><span class="lineno">  206</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keywordtype">id</span> : lock_info.txn_ids) {</div>
<div class="line"><span class="lineno">  208</span>      <span class="keywordflow">if</span> (txn_id == <span class="keywordtype">id</span>) {</div>
<div class="line"><span class="lineno">  209</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  210</span>      }</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>      <span class="keywordtype">bool</span> success = <a class="code hl_variable" href="#a18c55faf1b60221439648091d7d4d6e8">txn_db_impl_</a>-&gt;<a class="code hl_function" href="../../d2/d58/classROCKSDB__NAMESPACE_1_1PessimisticTransactionDB.html#a4201c29149af02ace22c57e9a2cb742f">TryStealingExpiredTransactionLocks</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  213</span>      <span class="keywordflow">if</span> (!success) {</div>
<div class="line"><span class="lineno">  214</span>        expired = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  215</span>        *expire_time = 0;</div>
<div class="line"><span class="lineno">  216</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  217</span>      }</div>
<div class="line"><span class="lineno">  218</span>    }</div>
<div class="line"><span class="lineno">  219</span>  }</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>  <span class="keywordflow">return</span> expired;</div>
<div class="line"><span class="lineno">  222</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PessimisticTransactionDB_html_a4201c29149af02ace22c57e9a2cb742f"><div class="ttname"><a href="../../d2/d58/classROCKSDB__NAMESPACE_1_1PessimisticTransactionDB.html#a4201c29149af02ace22c57e9a2cb742f">ROCKSDB_NAMESPACE::PessimisticTransactionDB::TryStealingExpiredTransactionLocks</a></div><div class="ttdeci">bool TryStealingExpiredTransactionLocks(TransactionID tx_id)</div><div class="ttdef"><b>Definition</b> <a href="../../dc/db9/pessimistic__transaction__db_8cc_source.html#l00709">pessimistic_transaction_db.cc:709</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aa6bf09b7b1f0cfadf32d4a7f09ab3abc_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aa6bf09b7b1f0cfadf32d4a7f09ab3abc_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aa6bf09b7b1f0cfadf32d4a7f09ab3abc_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aa6bf09b7b1f0cfadf32d4a7f09ab3abc_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,245,74"/>
<area shape="poly" title=" " alt="" coords="76,29,74,19,83,10,100,5,125,3,153,5,169,12,167,17,152,10,125,8,101,10,86,15,80,21,81,28"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a1973210402d3f2129c817aa8ff3d04a7" title=" " alt="" coords="293,29,474,74"/>
<area shape="poly" title=" " alt="" coords="245,49,277,49,277,54,245,54"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aa6bf09b7b1f0cfadf32d4a7f09ab3abc_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aa6bf09b7b1f0cfadf32d4a7f09ab3abc_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aa6bf09b7b1f0cfadf32d4a7f09ab3abc_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aa6bf09b7b1f0cfadf32d4a7f09ab3abc_icgraph">
<area shape="rect" title=" " alt="" coords="1068,38,1307,82"/>
<area shape="poly" title=" " alt="" coords="1235,25,1217,19,1187,16,1160,18,1143,23,1136,29,1138,37,1133,38,1131,28,1140,19,1159,13,1187,11,1218,14,1236,20"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a7c417a45aeac37ad96170fe58807bb0e" title=" " alt="" coords="776,38,1020,82"/>
<area shape="poly" title=" " alt="" coords="1052,63,1020,63,1020,58,1052,58"/>
<area shape="poly" title=" " alt="" coords="944,25,927,19,898,16,871,18,855,23,848,29,850,37,844,38,843,28,852,19,870,13,898,11,928,14,946,20"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a701bd179a571916879504b4edce61d7c" title=" " alt="" coords="500,29,728,91"/>
<area shape="poly" title=" " alt="" coords="761,63,729,63,729,58,761,58"/>
<area shape="poly" title=" " alt="" coords="656,17,640,11,614,8,592,10,576,15,569,21,568,29,563,29,564,19,574,10,590,5,614,3,642,5,658,13"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a62325f8f8b5d0ddcb39eb41ec9405dbb" title=" " alt="" coords="253,38,452,82"/>
<area shape="poly" title=" " alt="" coords="484,63,453,63,453,58,484,58"/>
<area shape="poly" title=" " alt="" coords="393,25,378,19,352,16,329,18,315,23,309,29,311,37,305,38,304,28,312,19,328,13,352,11,379,14,395,20"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a798efacc9ca5b99d1496f89bf1ea7a55" title=" " alt="" coords="5,38,205,82"/>
<area shape="poly" title=" " alt="" coords="237,63,205,63,205,58,237,58"/>
</map>
</div>

</div>
</div>
<a id="ae3886e702a6da4455957442975feea37" name="ae3886e702a6da4455957442975feea37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3886e702a6da4455957442975feea37">&#9670;&#160;</a></span>IsPointLockSupported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ROCKSDB_NAMESPACE::PointLockManager::IsPointLockSupported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#af3eee2fa50638aa6b05416fb204bf116">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00120">120</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  120</span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d0239cbed92325f6895e5de9a9f868b" name="a1d0239cbed92325f6895e5de9a9f868b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d0239cbed92325f6895e5de9a9f868b">&#9670;&#160;</a></span>IsRangeLockSupported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ROCKSDB_NAMESPACE::PointLockManager::IsRangeLockSupported </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a7acc24a4b172bea291cb26ff68ab6b85">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00122">122</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>{ <span class="keywordflow">return</span> <span class="keyword">false</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae166b46b9313771f94df558b098cbbf6" name="ae166b46b9313771f94df558b098cbbf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae166b46b9313771f94df558b098cbbf6">&#9670;&#160;</a></span>operator=()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html">PointLockManager</a> &amp; ROCKSDB_NAMESPACE::PointLockManager::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html">PointLockManager</a> &amp;</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel delete">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ae166b46b9313771f94df558b098cbbf6_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ae166b46b9313771f94df558b098cbbf6_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ae166b46b9313771f94df558b098cbbf6_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ae166b46b9313771f94df558b098cbbf6_cgraph">
<area shape="rect" title=" " alt="" coords="5,38,221,82"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a0db313e660b4fe6b5f8562059569f538" title=" " alt="" coords="269,29,481,91"/>
<area shape="poly" title=" " alt="" coords="221,58,253,58,253,63,221,63"/>
<area shape="poly" title=" " alt="" coords="324,29,325,19,334,10,351,5,375,3,402,5,419,13,417,17,401,11,375,8,352,10,337,15,330,21,329,29"/>
</map>
</div>

</div>
</div>
<a id="aeacfaf726d334b67bc91957c1d0e8355" name="aeacfaf726d334b67bc91957c1d0e8355"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeacfaf726d334b67bc91957c1d0e8355">&#9670;&#160;</a></span>RemoveColumnFamily()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::PointLockManager::RemoveColumnFamily </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d3d/classROCKSDB__NAMESPACE_1_1ColumnFamilyHandle.html">ColumnFamilyHandle</a> *</td>          <td class="paramname"><span class="paramname"><em>cf</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a46748f1f2741cad67c6eedadbfc34f9f">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00133">133</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  133</span>                                                                      {</div>
<div class="line"><span class="lineno">  134</span>  <span class="comment">// Remove lock_map for this column family.  Since the lock map is stored</span></div>
<div class="line"><span class="lineno">  135</span>  <span class="comment">// as a shared ptr, concurrent transactions can still keep using it</span></div>
<div class="line"><span class="lineno">  136</span>  <span class="comment">// until they release their references to it.</span></div>
<div class="line"><span class="lineno">  137</span>  {</div>
<div class="line"><span class="lineno">  138</span>    InstrumentedMutexLock l(&amp;lock_map_mutex_);</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    <span class="keyword">auto</span> lock_maps_iter = <a class="code hl_variable" href="#ae8974e88ce228b22b49d7efabb47466f">lock_maps_</a>.find(cf-&gt;GetID());</div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">if</span> (lock_maps_iter == <a class="code hl_variable" href="#ae8974e88ce228b22b49d7efabb47466f">lock_maps_</a>.end()) {</div>
<div class="line"><span class="lineno">  142</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  143</span>    }</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <a class="code hl_variable" href="#ae8974e88ce228b22b49d7efabb47466f">lock_maps_</a>.erase(lock_maps_iter);</div>
<div class="line"><span class="lineno">  146</span>  }  <span class="comment">// lock_map_mutex_</span></div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>  <span class="comment">// Clear all thread-local caches</span></div>
<div class="line"><span class="lineno">  149</span>  autovector&lt;void*&gt; local_caches;</div>
<div class="line"><span class="lineno">  150</span>  <a class="code hl_variable" href="#a94d91a6a47b97e54497033ff95014872">lock_maps_cache_</a>-&gt;Scrape(&amp;local_caches, <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  151</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> cache : local_caches) {</div>
<div class="line"><span class="lineno">  152</span>    <span class="keyword">delete</span> <span class="keyword">static_cast&lt;</span><a class="code hl_typedef" href="#ade3fdaef5de044ce8e05ba694c687871">LockMaps</a>*<span class="keyword">&gt;</span>(<a class="code hl_variable" href="../../d3/d72/namespaceblock__cache__analyzer_1_1block__cache__pysim.html#a1b2e21d81529b67e1e72a63679bc4bd5">cache</a>);</div>
<div class="line"><span class="lineno">  153</span>  }</div>
<div class="line"><span class="lineno">  154</span>}</div>
<div class="ttc" id="anamespaceblock__cache__analyzer_1_1block__cache__pysim_html_a1b2e21d81529b67e1e72a63679bc4bd5"><div class="ttname"><a href="../../d3/d72/namespaceblock__cache__analyzer_1_1block__cache__pysim.html#a1b2e21d81529b67e1e72a63679bc4bd5">block_cache_analyzer.block_cache_pysim.cache</a></div><div class="ttdeci">cache</div><div class="ttdef"><b>Definition</b> <a href="../../df/d0a/block__cache__pysim_8py_source.html#l01982">block_cache_pysim.py:1982</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aeacfaf726d334b67bc91957c1d0e8355_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aeacfaf726d334b67bc91957c1d0e8355_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aeacfaf726d334b67bc91957c1d0e8355_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aeacfaf726d334b67bc91957c1d0e8355_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,259,91"/>
<area shape="poly" title=" " alt="" coords="78,29,79,19,89,10,107,5,132,3,161,5,179,13,177,17,160,11,132,8,108,10,92,15,84,21,83,30"/>
<area shape="rect" href="../../da/d3d/classROCKSDB__NAMESPACE_1_1ColumnFamilyHandle.html#a86f6510e4257ffb5039ac2e0e5cd96cf" title=" " alt="" coords="307,38,513,82"/>
<area shape="poly" title=" " alt="" coords="259,58,291,58,291,63,259,63"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aeacfaf726d334b67bc91957c1d0e8355_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aeacfaf726d334b67bc91957c1d0e8355_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aeacfaf726d334b67bc91957c1d0e8355_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aeacfaf726d334b67bc91957c1d0e8355_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,259,91"/>
<area shape="poly" title=" " alt="" coords="173,17,157,11,132,8,110,10,96,15,88,21,88,29,82,29,84,19,93,10,109,5,132,3,159,5,175,13"/>
</map>
</div>

</div>
</div>
<a id="a9eb094d1b7c72b21cc57ca05675b2607" name="a9eb094d1b7c72b21cc57ca05675b2607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eb094d1b7c72b21cc57ca05675b2607">&#9670;&#160;</a></span>Resize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::PointLockManager::Resize </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>new_size</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a7042b315491a88ef97f1faf0e73e0d66">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00694">694</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  694</span>                                                  {</div>
<div class="line"><span class="lineno">  695</span>  <a class="code hl_variable" href="#acd4d23a079da225379ff4bba82157417">dlock_buffer_</a>.<a class="code hl_function" href="../../d3/d3c/classROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl.html#a2b88371a4a85eae94875456ab8e380f0">Resize</a>(target_size);</div>
<div class="line"><span class="lineno">  696</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl_html_a2b88371a4a85eae94875456ab8e380f0"><div class="ttname"><a href="../../d3/d3c/classROCKSDB__NAMESPACE_1_1DeadlockInfoBufferTempl.html#a2b88371a4a85eae94875456ab8e380f0">ROCKSDB_NAMESPACE::DeadlockInfoBufferTempl::Resize</a></div><div class="ttdeci">void Resize(uint32_t target_size)</div><div class="ttdef"><b>Definition</b> <a href="../../d3/dd3/point__lock__manager_8h_source.html#l00070">point_lock_manager.h:70</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a9eb094d1b7c72b21cc57ca05675b2607_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a9eb094d1b7c72b21cc57ca05675b2607_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a9eb094d1b7c72b21cc57ca05675b2607_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a9eb094d1b7c72b21cc57ca05675b2607_cgraph">
<area shape="rect" title=" " alt="" coords="5,29,198,74"/>
<area shape="poly" title=" " alt="" coords="64,29,63,19,69,10,82,5,102,3,122,5,135,11,132,16,121,10,101,8,84,10,73,15,68,21,70,28"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a9eb094d1b7c72b21cc57ca05675b2607_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a9eb094d1b7c72b21cc57ca05675b2607_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a9eb094d1b7c72b21cc57ca05675b2607_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a9eb094d1b7c72b21cc57ca05675b2607_icgraph">
<area shape="rect" title=" " alt="" coords="5,29,198,74"/>
<area shape="poly" title=" " alt="" coords="132,16,121,10,101,8,84,10,73,15,68,21,70,28,64,29,63,19,69,10,82,5,102,3,122,5,135,11"/>
</map>
</div>

</div>
</div>
<a id="a798efacc9ca5b99d1496f89bf1ea7a55" name="a798efacc9ca5b99d1496f89bf1ea7a55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798efacc9ca5b99d1496f89bf1ea7a55">&#9670;&#160;</a></span>TryLock() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a> ROCKSDB_NAMESPACE::PointLockManager::TryLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ColumnFamilyId</a></td>          <td class="paramname"><span class="paramname"><em>column_family_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d34/classROCKSDB__NAMESPACE_1_1Endpoint.html">Endpoint</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d34/classROCKSDB__NAMESPACE_1_1Endpoint.html">Endpoint</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>end</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>exclusive</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#ab812af415a48cd21bb02fde78fdb3f58">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00702">702</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  706</span>                                         {</div>
<div class="line"><span class="lineno">  707</span>  <span class="keywordflow">return</span> Status::NotSupported(</div>
<div class="line"><span class="lineno">  708</span>      <span class="stringliteral">&quot;PointLockManager does not support range locking&quot;</span>);</div>
<div class="line"><span class="lineno">  709</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a798efacc9ca5b99d1496f89bf1ea7a55_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a798efacc9ca5b99d1496f89bf1ea7a55_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a798efacc9ca5b99d1496f89bf1ea7a55_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a798efacc9ca5b99d1496f89bf1ea7a55_cgraph">
<area shape="rect" title=" " alt="" coords="5,331,205,375"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a80198f888172bfab4d714628b7bfaec5" title=" " alt="" coords="262,161,443,206"/>
<area shape="poly" title=" " alt="" coords="138,328,304,213,307,217,141,332"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a62325f8f8b5d0ddcb39eb41ec9405dbb" title=" " alt="" coords="253,377,452,422"/>
<area shape="poly" title=" " alt="" coords="206,369,238,375,237,381,205,374"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="1357,352,1538,397"/>
<area shape="poly" title=" " alt="" coords="398,158,467,127,559,90,671,54,795,24,861,13,927,5,994,3,1061,5,1126,14,1190,30,1252,53,1311,84,1361,184,1432,337,1427,339,1356,186,1307,88,1250,58,1189,35,1125,19,1060,11,994,8,927,11,861,18,796,29,672,59,561,96,469,132,400,163"/>
<area shape="poly" title=" " alt="" coords="305,377,304,367,312,358,328,353,352,351,379,353,395,360,393,365,378,358,352,356,329,358,315,363,309,369,311,376"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a701bd179a571916879504b4edce61d7c" title=" " alt="" coords="501,833,729,895"/>
<area shape="poly" title=" " alt="" coords="369,421,591,818,587,821,364,423"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#afefb2efa468a5cb6fb862c222e5d23d1" title=" " alt="" coords="1357,1341,1538,1403"/>
<area shape="poly" title=" " alt="" coords="357,422,361,493,372,600,394,733,429,882,453,959,482,1035,516,1110,556,1182,602,1249,654,1311,713,1366,780,1412,814,1430,850,1444,926,1463,1004,1469,1083,1467,1159,1457,1232,1442,1354,1406,1355,1411,1233,1447,1160,1462,1083,1472,1004,1475,925,1468,849,1449,812,1435,777,1417,710,1370,650,1315,597,1252,551,1185,511,1112,477,1037,448,961,424,884,388,734,367,601,356,493,352,423"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a57aed585dd42d02ad7dffe335e1e0163" title=" " alt="" coords="524,1477,706,1539"/>
<area shape="poly" title=" " alt="" coords="357,423,362,619,369,766,382,928,400,1092,425,1243,441,1311,459,1370,479,1419,502,1457,514,1469,510,1473,498,1460,475,1421,454,1371,436,1312,420,1244,395,1093,376,929,364,766,356,619,351,423"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a3320a818e6b02402c36d6bf616aae8be" title=" " alt="" coords="500,168,730,213"/>
<area shape="poly" title=" " alt="" coords="365,375,417,300,455,259,498,223,507,218,510,222,502,227,458,263,421,304,369,378"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a38c5bf20570707e13e9179ed1bc9033c" title=" " alt="" coords="524,330,706,392"/>
<area shape="poly" title=" " alt="" coords="452,382,509,374,510,379,453,388"/>
<area shape="rect" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html#ae754caac0e50f9cab80362234eccb7d5" title=" " alt="" coords="524,261,706,306"/>
<area shape="poly" title=" " alt="" coords="389,374,440,345,499,316,516,309,518,314,501,321,442,349,391,379"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a5fdd2c6692215a7d1894f2052ffc5609" title=" " alt="" coords="524,416,706,461"/>
<area shape="poly" title=" " alt="" coords="453,412,510,420,509,425,452,417"/>
<area shape="poly" title=" " alt="" coords="564,832,565,822,575,814,591,808,615,806,643,809,659,816,657,821,641,814,615,812,592,813,577,818,570,825,569,833"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a7c417a45aeac37ad96170fe58807bb0e" title=" " alt="" coords="778,579,1022,623"/>
<area shape="poly" title=" " alt="" coords="640,831,700,763,777,687,850,630,853,635,780,691,704,766,644,834"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#abdbf368db5bf35e90c6dbef41901baf6" title=" " alt="" coords="1099,381,1280,426"/>
<area shape="poly" title=" " alt="" coords="621,832,640,771,670,693,691,652,716,611,744,574,777,540,811,514,848,490,928,454,1009,429,1083,414,1084,419,1010,434,930,459,851,495,814,518,780,544,748,577,720,614,696,654,675,695,645,772,626,833"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a1973210402d3f2129c817aa8ff3d04a7" title=" " alt="" coords="1357,643,1538,687"/>
<area shape="poly" title=" " alt="" coords="729,833,778,822,894,805,1045,785,1194,763,1258,751,1308,737,1355,717,1398,693,1401,698,1358,722,1310,742,1259,756,1195,769,1046,791,895,810,779,828,730,838"/>
<area shape="rect" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html#a927b27ff36edf00f73bd095be3fa0661" title=" " alt="" coords="1099,683,1280,727"/>
<area shape="poly" title=" " alt="" coords="646,830,703,783,739,760,777,741,855,718,936,705,1014,698,1083,697,1083,702,1014,704,936,710,856,723,779,746,742,764,707,787,649,835"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#ab68b9284ee14284e1fb297c49c3c66aa" title=" " alt="" coords="809,952,991,1013"/>
<area shape="poly" title=" " alt="" coords="690,893,779,931,809,943,807,948,777,935,688,898"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#af96ca74e668efc9ee719d2937e13a781" title=" " alt="" coords="789,1341,1011,1403"/>
<area shape="poly" title=" " alt="" coords="623,894,637,973,665,1081,686,1139,712,1197,743,1253,780,1303,812,1330,808,1334,776,1307,739,1256,707,1200,681,1141,660,1082,632,974,618,895"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a2f9727a4a032efadb91dd6e9fa707ba9" title=" " alt="" coords="792,1232,1008,1293"/>
<area shape="poly" title=" " alt="" coords="627,894,647,955,678,1034,723,1118,750,1158,780,1194,814,1221,811,1225,776,1198,746,1161,718,1121,673,1036,642,957,622,896"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a44cf4d9e0f59181d4838378a46b41c73" title=" " alt="" coords="1099,957,1280,1002"/>
<area shape="poly" title=" " alt="" coords="730,881,1022,937,1084,951,1083,956,1021,942,729,886"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a2b212f951784edd811d0cb7028fc97df" title=" " alt="" coords="1099,803,1280,847"/>
<area shape="poly" title=" " alt="" coords="730,853,1083,829,1084,835,730,859"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a61c139e2b477af2f3a34e4777cadc214" title=" " alt="" coords="809,1037,991,1099"/>
<area shape="poly" title=" " alt="" coords="643,893,701,958,739,993,780,1023,797,1032,794,1037,777,1027,735,997,697,962,639,897"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#aebcc4cea65e7bd9a1a2960d502edae3b" title=" " alt="" coords="1099,872,1280,917"/>
<area shape="poly" title=" " alt="" coords="730,867,1084,886,1083,891,730,872"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a6584e9e5596460d93c37dea3bf86654e" title=" " alt="" coords="809,1122,991,1184"/>
<area shape="poly" title=" " alt="" coords="631,894,654,941,686,998,728,1057,753,1084,780,1108,797,1120,794,1124,777,1112,749,1088,724,1061,682,1001,649,943,627,896"/>
<area shape="poly" title=" " alt="" coords="846,579,845,568,854,559,872,554,900,552,930,554,948,561,947,566,929,560,900,557,873,559,856,564,850,570,851,578"/>
<area shape="poly" title=" " alt="" coords="922,576,1004,494,1068,436,1083,428,1086,433,1071,441,1008,498,926,580"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#aa6bf09b7b1f0cfadf32d4a7f09ab3abc" title=" " alt="" coords="1070,544,1309,589"/>
<area shape="poly" title=" " alt="" coords="1022,584,1054,580,1054,585,1022,589"/>
<area shape="rect" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html#a5a22f9aae223cf0f446e92610af57576" title=" " alt="" coords="1099,613,1280,658"/>
<area shape="poly" title=" " alt="" coords="1022,613,1084,620,1083,626,1022,618"/>
<area shape="poly" title=" " alt="" coords="954,622,1071,668,1092,675,1090,680,1069,673,952,626"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a742fbf1b46f56663d5a63368606ed3df" title=" " alt="" coords="1099,451,1280,495"/>
<area shape="poly" title=" " alt="" coords="936,576,997,540,1069,505,1086,498,1088,503,1071,510,999,545,938,581"/>
<area shape="poly" title=" " alt="" coords="1280,391,1341,384,1341,389,1281,396"/>
<area shape="poly" title=" " alt="" coords="1140,544,1139,534,1147,525,1164,519,1189,517,1217,520,1234,526,1232,531,1216,525,1189,523,1165,525,1150,529,1144,535,1146,543"/>
<area shape="poly" title=" " alt="" coords="1275,587,1310,599,1389,633,1387,638,1308,603,1274,592"/>
<area shape="poly" title=" " alt="" coords="1274,448,1308,436,1387,401,1389,406,1310,441,1275,453"/>
<area shape="poly" title=" " alt="" coords="844,1340,846,1330,856,1322,874,1316,900,1314,930,1317,948,1325,946,1329,929,1322,900,1320,875,1321,859,1326,851,1333,850,1341"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a2c73b61f1fb530fa5c5bbd36a1a951a2" title=" " alt="" coords="1079,1341,1300,1403"/>
<area shape="poly" title=" " alt="" coords="1011,1369,1063,1369,1063,1374,1011,1374"/>
<area shape="poly" title=" " alt="" coords="1139,1340,1140,1330,1149,1322,1166,1316,1189,1314,1216,1317,1233,1324,1231,1329,1215,1322,1189,1320,1167,1321,1152,1326,1145,1333,1144,1341"/>
<area shape="poly" title=" " alt="" coords="1301,1369,1341,1369,1341,1374,1301,1374"/>
<area shape="poly" title=" " alt="" coords="992,1291,1023,1303,1098,1332,1097,1337,1021,1307,990,1296"/>
<area shape="poly" title=" " alt="" coords="1008,1261,1153,1272,1232,1284,1310,1302,1380,1331,1378,1336,1308,1308,1231,1290,1152,1277,1008,1266"/>
<area shape="poly" title=" " alt="" coords="844,1231,846,1221,856,1212,874,1207,900,1205,930,1208,948,1215,946,1220,929,1213,900,1210,875,1212,859,1217,851,1223,850,1232"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a16c7f37e54033207afe6568de0a1e219" title=" " alt="" coords="1099,1197,1280,1242"/>
<area shape="poly" title=" " alt="" coords="1008,1244,1083,1233,1083,1238,1008,1249"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a2b7dbb4379b66d626c2a7e2bfd5ff9cd" title=" " alt="" coords="1092,1112,1287,1173"/>
<area shape="poly" title=" " alt="" coords="965,1228,1069,1183,1083,1177,1085,1182,1071,1187,967,1233"/>
<area shape="poly" title=" " alt="" coords="973,1229,998,1213,1020,1194,1037,1170,1045,1148,1053,1125,1067,1098,1107,1051,1148,1011,1152,1014,1111,1054,1072,1101,1058,1127,1050,1150,1042,1173,1024,1197,1001,1217,976,1233"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#afc660ff45fc7c890834fd65eb0ee6c9c" title=" " alt="" coords="1357,855,1538,899"/>
<area shape="poly" title=" " alt="" coords="1246,954,1374,903,1376,908,1248,959"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#acf8261295e4ab4ec8c132ed51b6feb71" title=" " alt="" coords="1586,885,1768,930"/>
<area shape="poly" title=" " alt="" coords="1280,964,1571,921,1572,926,1281,969"/>
<area shape="poly" title=" " alt="" coords="1539,886,1571,891,1570,896,1538,892"/>
<area shape="poly" title=" " alt="" coords="1281,841,1342,853,1341,858,1280,846"/>
<area shape="poly" title=" " alt="" coords="1280,817,1404,820,1472,827,1539,840,1584,855,1626,875,1624,880,1582,860,1538,845,1471,832,1404,825,1280,823"/>
<area shape="poly" title=" " alt="" coords="1280,886,1341,881,1341,887,1281,891"/>
<area shape="poly" title=" " alt="" coords="1281,903,1357,909,1448,911,1538,909,1571,908,1571,914,1538,914,1448,916,1357,914,1280,908"/>
<area shape="poly" title=" " alt="" coords="565,168,564,158,572,149,589,143,615,141,643,144,660,150,658,155,642,149,615,147,590,149,575,153,569,159,571,167"/>
<area shape="poly" title=" " alt="" coords="565,261,564,251,572,242,589,237,615,235,643,237,660,244,658,249,642,242,615,240,590,242,575,247,569,253,571,260"/>
<area shape="rect" href="../../da/df2/hash__test_8cc.html#a652881b3f38b0f0b3eee76a28123bbfe" title=" " alt="" coords="847,270,953,298"/>
<area shape="poly" title=" " alt="" coords="706,281,832,281,832,286,706,286"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ac2401ce56f14af0be3150d7296bcf98d" title=" " alt="" coords="809,196,991,241"/>
<area shape="poly" title=" " alt="" coords="706,260,793,240,794,245,707,266"/>
<area shape="poly" title=" " alt="" coords="846,196,845,186,854,177,872,171,900,169,930,172,948,178,947,183,929,177,900,175,873,177,856,181,850,187,851,195"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a5230d45b66475f5e342a7654313d4c0e" title=" " alt="" coords="1099,192,1280,237"/>
<area shape="poly" title=" " alt="" coords="991,214,1083,213,1083,218,991,220"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a1ee61ccaec6d6508e02d9a522b678c23" title=" " alt="" coords="1099,123,1280,167"/>
<area shape="poly" title=" " alt="" coords="990,193,1083,169,1084,174,992,198"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a47c51c16ecee27b619768f1b817a342c" title=" " alt="" coords="1099,261,1280,306"/>
<area shape="poly" title=" " alt="" coords="992,236,1084,257,1083,263,991,241"/>
<area shape="poly" title=" " alt="" coords="1140,123,1139,112,1147,104,1164,98,1189,96,1217,99,1234,105,1232,110,1216,104,1189,101,1165,103,1150,108,1144,114,1146,122"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a72d032702eba496e02848f85b0132faf" title=" " alt="" coords="1357,123,1538,167"/>
<area shape="poly" title=" " alt="" coords="1280,142,1341,142,1341,148,1280,148"/>
<area shape="poly" title=" " alt="" coords="1404,123,1403,113,1410,104,1425,98,1448,96,1473,99,1487,105,1485,110,1471,104,1448,101,1426,103,1413,108,1408,114,1409,122"/>
<area shape="poly" title=" " alt="" coords="706,418,874,389,1069,366,1189,363,1309,366,1341,367,1341,373,1309,372,1189,368,1070,372,875,395,707,423"/>
</map>
</div>

</div>
</div>
<a id="a62325f8f8b5d0ddcb39eb41ec9405dbb" name="a62325f8f8b5d0ddcb39eb41ec9405dbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62325f8f8b5d0ddcb39eb41ec9405dbb">&#9670;&#160;</a></span>TryLock() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html">Status</a> ROCKSDB_NAMESPACE::PointLockManager::TryLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ColumnFamilyId</a></td>          <td class="paramname"><span class="paramname"><em>column_family_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>exclusive</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a016478864f14a575c295de787f2b6d74">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00224">224</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  227</span>                                                 {</div>
<div class="line"><span class="lineno">  228</span>  <span class="comment">// Lookup lock map for this column family id</span></div>
<div class="line"><span class="lineno">  229</span>  std::shared_ptr&lt;LockMap&gt; lock_map_ptr = <a class="code hl_function" href="#a3320a818e6b02402c36d6bf616aae8be">GetLockMap</a>(column_family_id);</div>
<div class="line"><span class="lineno">  230</span>  LockMap* lock_map = lock_map_ptr.get();</div>
<div class="line"><span class="lineno">  231</span>  <span class="keywordflow">if</span> (lock_map == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordtype">char</span> msg[255];</div>
<div class="line"><span class="lineno">  233</span>    snprintf(msg, <span class="keyword">sizeof</span>(msg), <span class="stringliteral">&quot;Column family id not found: %&quot;</span> PRIu32,</div>
<div class="line"><span class="lineno">  234</span>             column_family_id);</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">return</span> Status::InvalidArgument(msg);</div>
<div class="line"><span class="lineno">  237</span>  }</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>  <span class="comment">// Need to lock the mutex for the stripe that this key hashes to</span></div>
<div class="line"><span class="lineno">  240</span>  <span class="keywordtype">size_t</span> stripe_num = lock_map-&gt;GetStripe(key);</div>
<div class="line"><span class="lineno">  241</span>  assert(lock_map-&gt;lock_map_stripes_.size() &gt; stripe_num);</div>
<div class="line"><span class="lineno">  242</span>  LockMapStripe* stripe = lock_map-&gt;lock_map_stripes_.at(stripe_num);</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>  LockInfo lock_info(txn-&gt;GetID(), txn-&gt;GetExpirationTime(), exclusive);</div>
<div class="line"><span class="lineno">  245</span>  int64_t timeout = txn-&gt;GetLockTimeout();</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="#a701bd179a571916879504b4edce61d7c">AcquireWithTimeout</a>(txn, lock_map, stripe, column_family_id, key, env,</div>
<div class="line"><span class="lineno">  248</span>                            timeout, lock_info);</div>
<div class="line"><span class="lineno">  249</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_a3320a818e6b02402c36d6bf616aae8be"><div class="ttname"><a href="#a3320a818e6b02402c36d6bf616aae8be">ROCKSDB_NAMESPACE::PointLockManager::GetLockMap</a></div><div class="ttdeci">std::shared_ptr&lt; LockMap &gt; GetLockMap(uint32_t column_family_id)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3c/point__lock__manager_8cc_source.html#l00159">point_lock_manager.cc:159</a></div></div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_a701bd179a571916879504b4edce61d7c"><div class="ttname"><a href="#a701bd179a571916879504b4edce61d7c">ROCKSDB_NAMESPACE::PointLockManager::AcquireWithTimeout</a></div><div class="ttdeci">Status AcquireWithTimeout(PessimisticTransaction *txn, LockMap *lock_map, LockMapStripe *stripe, uint32_t column_family_id, const std::string &amp;key, Env *env, int64_t timeout, const LockInfo &amp;lock_info)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3c/point__lock__manager_8cc_source.html#l00252">point_lock_manager.cc:252</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a62325f8f8b5d0ddcb39eb41ec9405dbb_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a62325f8f8b5d0ddcb39eb41ec9405dbb_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a62325f8f8b5d0ddcb39eb41ec9405dbb_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a62325f8f8b5d0ddcb39eb41ec9405dbb_cgraph">
<area shape="rect" title=" " alt="" coords="5,718,205,763"/>
<area shape="poly" title=" " alt="" coords="55,718,54,708,62,699,79,693,105,691,133,694,150,700,148,705,132,699,105,697,80,698,65,703,59,709,60,717"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a701bd179a571916879504b4edce61d7c" title=" " alt="" coords="254,496,482,558"/>
<area shape="poly" title=" " alt="" coords="132,715,315,566,318,570,136,719"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#afefb2efa468a5cb6fb862c222e5d23d1" title=" " alt="" coords="1110,56,1291,118"/>
<area shape="poly" title=" " alt="" coords="108,717,143,584,175,489,219,384,275,276,308,223,345,172,385,125,429,81,478,42,530,8,561,4,624,3,803,6,1062,18,1100,30,1135,46,1133,51,1098,35,1061,23,803,11,624,8,562,9,532,13,481,46,433,85,389,128,349,176,313,226,280,278,224,386,180,491,148,586,113,718"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a57aed585dd42d02ad7dffe335e1e0163" title=" " alt="" coords="277,709,458,771"/>
<area shape="poly" title=" " alt="" coords="205,738,262,738,262,743,205,743"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a3320a818e6b02402c36d6bf616aae8be" title=" " alt="" coords="253,819,483,864"/>
<area shape="poly" title=" " alt="" coords="166,761,295,811,293,816,164,766"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a38c5bf20570707e13e9179ed1bc9033c" title=" " alt="" coords="277,888,458,950"/>
<area shape="poly" title=" " alt="" coords="127,761,181,817,216,847,254,874,265,880,262,885,251,878,213,851,178,821,124,765"/>
<area shape="rect" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html#ae754caac0e50f9cab80362234eccb7d5" title=" " alt="" coords="277,1046,458,1091"/>
<area shape="poly" title=" " alt="" coords="121,761,176,851,213,906,255,960,292,999,329,1033,325,1037,288,1003,251,963,209,909,171,854,117,764"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a5fdd2c6692215a7d1894f2052ffc5609" title=" " alt="" coords="277,641,458,685"/>
<area shape="poly" title=" " alt="" coords="183,715,274,687,276,693,184,720"/>
<area shape="poly" title=" " alt="" coords="316,496,318,485,327,477,344,471,368,469,395,472,412,479,410,484,394,477,368,475,345,477,330,481,323,488,322,496"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a7c417a45aeac37ad96170fe58807bb0e" title=" " alt="" coords="531,725,774,769"/>
<area shape="poly" title=" " alt="" coords="408,556,485,626,508,654,533,679,588,715,586,719,529,684,504,658,481,630,405,560"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#abdbf368db5bf35e90c6dbef41901baf6" title=" " alt="" coords="851,579,1033,624"/>
<area shape="poly" title=" " alt="" coords="404,556,461,600,495,620,532,635,573,645,615,650,700,651,782,641,852,626,853,631,782,646,701,656,615,656,572,650,530,640,493,625,458,604,400,560"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a1973210402d3f2129c817aa8ff3d04a7" title=" " alt="" coords="1110,902,1291,947"/>
<area shape="poly" title=" " alt="" coords="419,556,455,587,485,627,501,665,506,702,504,736,499,769,496,800,498,831,509,861,533,892,563,917,596,939,632,956,669,970,747,986,828,992,909,988,985,978,1055,964,1114,949,1116,954,1056,969,986,983,909,993,828,997,747,992,667,975,630,961,594,944,560,922,529,895,504,864,493,832,491,800,494,768,499,736,500,702,496,667,481,630,451,591,415,560"/>
<area shape="rect" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html#a927b27ff36edf00f73bd095be3fa0661" title=" " alt="" coords="851,881,1033,925"/>
<area shape="poly" title=" " alt="" coords="417,556,453,588,485,627,497,649,502,670,505,708,510,744,518,762,533,780,565,807,601,830,640,849,680,864,761,885,836,896,836,901,760,890,679,869,638,854,599,835,562,811,529,783,514,764,505,746,500,709,497,671,492,651,481,630,449,592,413,560"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#ab68b9284ee14284e1fb297c49c3c66aa" title=" " alt="" coords="562,217,743,279"/>
<area shape="poly" title=" " alt="" coords="380,494,403,449,436,394,478,338,529,289,547,277,550,282,533,293,482,341,441,397,408,451,385,497"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#af96ca74e668efc9ee719d2937e13a781" title=" " alt="" coords="542,47,763,108"/>
<area shape="poly" title=" " alt="" coords="370,495,384,420,412,319,432,265,459,212,491,162,529,118,531,116,535,120,533,122,495,166,463,215,437,267,417,321,389,421,375,496"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a2f9727a4a032efadb91dd6e9fa707ba9" title=" " alt="" coords="545,327,760,388"/>
<area shape="poly" title=" " alt="" coords="404,493,462,449,530,405,552,393,555,398,532,409,465,453,408,498"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a44cf4d9e0f59181d4838378a46b41c73" title=" " alt="" coords="851,441,1033,485"/>
<area shape="poly" title=" " alt="" coords="482,512,836,472,836,477,483,517"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a2b212f951784edd811d0cb7028fc97df" title=" " alt="" coords="851,371,1033,416"/>
<area shape="poly" title=" " alt="" coords="463,493,530,474,690,437,835,409,836,414,691,442,532,479,464,498"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a61c139e2b477af2f3a34e4777cadc214" title=" " alt="" coords="562,564,743,626"/>
<area shape="poly" title=" " alt="" coords="483,552,548,567,547,572,482,557"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#aebcc4cea65e7bd9a1a2960d502edae3b" title=" " alt="" coords="851,510,1033,555"/>
<area shape="poly" title=" " alt="" coords="482,525,836,529,836,534,482,531"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a6584e9e5596460d93c37dea3bf86654e" title=" " alt="" coords="562,132,743,194"/>
<area shape="poly" title=" " alt="" coords="374,495,392,434,423,356,444,315,468,275,497,237,529,203,547,191,550,195,533,208,501,240,473,278,448,317,428,358,397,436,379,496"/>
<area shape="poly" title=" " alt="" coords="599,724,597,714,606,705,625,700,653,698,683,700,701,707,699,712,682,705,653,703,626,705,609,710,602,716,604,723"/>
<area shape="poly" title=" " alt="" coords="701,722,773,679,796,656,806,645,821,634,836,626,838,631,824,638,809,649,800,660,776,684,704,726"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#aa6bf09b7b1f0cfadf32d4a7f09ab3abc" title=" " alt="" coords="822,811,1062,856"/>
<area shape="poly" title=" " alt="" coords="731,767,851,804,849,809,729,772"/>
<area shape="rect" href="../../d4/d5f/classROCKSDB__NAMESPACE_1_1autovector.html#a5a22f9aae223cf0f446e92610af57576" title=" " alt="" coords="851,649,1033,693"/>
<area shape="poly" title=" " alt="" coords="740,721,839,695,840,700,741,727"/>
<area shape="poly" title=" " alt="" coords="686,767,766,826,824,866,838,872,836,877,821,871,763,831,683,772"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a742fbf1b46f56663d5a63368606ed3df" title=" " alt="" coords="851,718,1033,763"/>
<area shape="poly" title=" " alt="" coords="775,741,836,740,836,745,775,747"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#a9f76d02ed8e41702a1388cd092a12464" title=" " alt="" coords="1110,718,1291,763"/>
<area shape="poly" title=" " alt="" coords="1034,622,1063,634,1118,668,1165,705,1162,709,1115,672,1060,639,1032,627"/>
<area shape="poly" title=" " alt="" coords="893,811,891,801,900,792,917,787,942,785,970,787,986,794,984,798,969,792,942,790,918,792,903,797,897,803,898,810"/>
<area shape="poly" title=" " alt="" coords="1027,854,1063,866,1134,893,1132,898,1061,871,1025,859"/>
<area shape="poly" title=" " alt="" coords="1033,738,1094,738,1094,743,1033,743"/>
<area shape="poly" title=" " alt="" coords="597,46,599,36,609,27,627,22,653,20,683,23,701,30,699,35,682,28,653,25,628,27,611,32,603,39,602,47"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a2c73b61f1fb530fa5c5bbd36a1a951a2" title=" " alt="" coords="831,56,1053,118"/>
<area shape="poly" title=" " alt="" coords="764,78,816,80,816,85,764,84"/>
<area shape="poly" title=" " alt="" coords="891,56,893,45,902,37,919,31,942,29,969,32,986,39,983,44,968,37,942,35,920,37,905,41,897,48,897,56"/>
<area shape="poly" title=" " alt="" coords="1053,84,1094,84,1094,90,1053,90"/>
<area shape="poly" title=" " alt="" coords="729,324,752,308,772,289,784,271,791,254,796,220,800,185,807,167,820,148,847,124,850,128,824,151,812,169,805,186,801,220,796,255,789,273,776,293,756,312,732,329"/>
<area shape="poly" title=" " alt="" coords="725,324,750,308,772,289,788,267,795,245,802,224,821,202,1094,117,1096,122,824,206,807,226,800,247,793,269,776,293,753,312,727,328"/>
<area shape="poly" title=" " alt="" coords="597,326,599,316,609,307,627,302,653,300,683,303,701,310,699,315,682,308,653,305,628,307,611,312,603,319,602,327"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a16c7f37e54033207afe6568de0a1e219" title=" " alt="" coords="851,302,1033,347"/>
<area shape="poly" title=" " alt="" coords="760,342,835,334,836,339,761,348"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a2b7dbb4379b66d626c2a7e2bfd5ff9cd" title=" " alt="" coords="844,216,1040,278"/>
<area shape="poly" title=" " alt="" coords="729,324,821,287,837,281,839,286,823,292,731,329"/>
<area shape="poly" title=" " alt="" coords="725,386,823,426,845,433,843,438,821,431,723,391"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#afc660ff45fc7c890834fd65eb0ee6c9c" title=" " alt="" coords="1110,466,1291,511"/>
<area shape="poly" title=" " alt="" coords="1033,469,1094,475,1094,480,1033,474"/>
<area shape="rect" href="../../d4/d5b/classROCKSDB__NAMESPACE_1_1Status.html#acf8261295e4ab4ec8c132ed51b6feb71" title=" " alt="" coords="1339,437,1520,481"/>
<area shape="poly" title=" " alt="" coords="1033,454,1110,451,1291,451,1323,452,1323,457,1291,456,1110,456,1033,460"/>
<area shape="poly" title=" " alt="" coords="1291,474,1323,470,1324,475,1292,479"/>
<area shape="poly" title=" " alt="" coords="1027,414,1063,426,1138,456,1136,461,1061,431,1026,419"/>
<area shape="poly" title=" " alt="" coords="1034,400,1291,431,1324,436,1323,441,1291,436,1033,405"/>
<area shape="poly" title=" " alt="" coords="1033,514,1094,504,1095,509,1034,519"/>
<area shape="poly" title=" " alt="" coords="1033,537,1156,538,1224,532,1290,520,1335,506,1376,486,1378,491,1337,511,1292,525,1225,537,1157,543,1033,542"/>
<area shape="poly" title=" " alt="" coords="318,819,316,809,325,800,342,795,368,793,396,795,413,802,411,806,395,800,368,798,343,800,328,805,322,811,323,818"/>
<area shape="poly" title=" " alt="" coords="318,1046,316,1036,325,1027,342,1021,368,1019,396,1022,413,1028,411,1033,395,1027,368,1025,343,1026,328,1031,322,1037,323,1045"/>
<area shape="rect" href="../../da/df2/hash__test_8cc.html#a652881b3f38b0f0b3eee76a28123bbfe" title=" " alt="" coords="600,1054,705,1082"/>
<area shape="poly" title=" " alt="" coords="459,1066,585,1066,585,1071,459,1071"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ac2401ce56f14af0be3150d7296bcf98d" title=" " alt="" coords="562,1139,743,1184"/>
<area shape="poly" title=" " alt="" coords="439,1089,569,1131,567,1136,438,1094"/>
<area shape="poly" title=" " alt="" coords="599,1139,597,1129,606,1120,625,1114,653,1113,683,1115,701,1121,699,1126,682,1120,653,1118,626,1120,609,1125,602,1131,604,1138"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a5230d45b66475f5e342a7654313d4c0e" title=" " alt="" coords="851,1051,1033,1096"/>
<area shape="poly" title=" " alt="" coords="724,1136,822,1106,847,1098,848,1103,823,1111,726,1141"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a1ee61ccaec6d6508e02d9a522b678c23" title=" " alt="" coords="851,1145,1033,1189"/>
<area shape="poly" title=" " alt="" coords="744,1161,836,1162,836,1168,744,1166"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a47c51c16ecee27b619768f1b817a342c" title=" " alt="" coords="851,1214,1033,1259"/>
<area shape="poly" title=" " alt="" coords="743,1182,838,1207,837,1212,741,1187"/>
<area shape="poly" title=" " alt="" coords="893,1144,891,1134,900,1125,917,1120,942,1118,970,1120,986,1127,984,1132,969,1126,942,1123,918,1125,903,1130,897,1136,898,1144"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a72d032702eba496e02848f85b0132faf" title=" " alt="" coords="1110,1145,1291,1189"/>
<area shape="poly" title=" " alt="" coords="1033,1164,1094,1164,1094,1170,1033,1170"/>
<area shape="poly" title=" " alt="" coords="1156,1144,1155,1134,1163,1125,1178,1120,1200,1118,1225,1120,1240,1127,1238,1132,1224,1126,1200,1123,1179,1125,1166,1130,1160,1136,1162,1144"/>
<area shape="poly" title=" " alt="" coords="461,678,485,696,502,721,510,747,510,772,508,798,506,822,507,846,515,869,533,892,567,918,600,934,632,941,664,942,735,936,776,934,823,935,892,945,947,956,973,959,999,957,1028,949,1060,935,1088,910,1120,868,1177,775,1182,777,1124,871,1092,914,1063,940,1030,955,1000,962,972,964,946,962,891,950,822,940,776,939,736,942,664,948,631,946,598,939,565,923,529,895,510,872,502,847,500,822,503,797,505,772,505,748,498,723,481,699,457,682"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a62325f8f8b5d0ddcb39eb41ec9405dbb_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a62325f8f8b5d0ddcb39eb41ec9405dbb_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a62325f8f8b5d0ddcb39eb41ec9405dbb_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a62325f8f8b5d0ddcb39eb41ec9405dbb_icgraph">
<area shape="rect" title=" " alt="" coords="253,29,452,74"/>
<area shape="poly" title=" " alt="" coords="393,17,378,10,352,8,329,10,315,15,309,21,311,28,305,29,304,19,312,10,328,5,352,3,379,5,395,12"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a798efacc9ca5b99d1496f89bf1ea7a55" title=" " alt="" coords="5,29,205,74"/>
<area shape="poly" title=" " alt="" coords="237,54,205,54,205,49,237,49"/>
</map>
</div>

</div>
</div>
<a id="ae8aabc11ad71baeb5dd6d939fc52f057" name="ae8aabc11ad71baeb5dd6d939fc52f057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8aabc11ad71baeb5dd6d939fc52f057">&#9670;&#160;</a></span>UnLock() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::PointLockManager::UnLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ColumnFamilyId</a></td>          <td class="paramname"><span class="paramname"><em>column_family_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d34/classROCKSDB__NAMESPACE_1_1Endpoint.html">Endpoint</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>start</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/d34/classROCKSDB__NAMESPACE_1_1Endpoint.html">Endpoint</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>end</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a4275a064d68993b0a698221f54e25b55">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00711">711</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  714</span>                                                         {</div>
<div class="line"><span class="lineno">  715</span>  <span class="comment">// no-op</span></div>
<div class="line"><span class="lineno">  716</span>}</div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ae8aabc11ad71baeb5dd6d939fc52f057_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ae8aabc11ad71baeb5dd6d939fc52f057_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ae8aabc11ad71baeb5dd6d939fc52f057_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_ae8aabc11ad71baeb5dd6d939fc52f057_cgraph">
<area shape="rect" title=" " alt="" coords="5,184,203,229"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a80b9ee75b80b58ee748c21181bf2bae2" title=" " alt="" coords="251,184,448,229"/>
<area shape="poly" title=" " alt="" coords="203,204,235,204,235,210,203,210"/>
<area shape="poly" title=" " alt="" coords="303,184,301,174,309,165,325,160,349,158,376,160,392,167,390,172,375,166,349,163,326,165,312,170,306,176,308,184"/>
<area shape="rect" href="../../d9/da3/classROCKSDB__NAMESPACE_1_1LockTracker.html#af6a418dfb37bcec928a43d3644e61bfc" title=" " alt="" coords="500,5,723,67"/>
<area shape="poly" title=" " alt="" coords="369,182,423,130,458,102,495,77,502,72,505,77,497,81,461,106,427,134,373,186"/>
<area shape="rect" href="../../d9/da3/classROCKSDB__NAMESPACE_1_1LockTracker.html#a31e7005f77b70f58f2449f7343608afa" title=" " alt="" coords="510,91,712,136"/>
<area shape="poly" title=" " alt="" coords="403,181,495,146,516,139,518,144,497,151,405,186"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a3320a818e6b02402c36d6bf616aae8be" title=" " alt="" coords="496,184,726,229"/>
<area shape="poly" title=" " alt="" coords="449,204,480,204,480,210,449,210"/>
<area shape="rect" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html#ae754caac0e50f9cab80362234eccb7d5" title=" " alt="" coords="520,278,702,322"/>
<area shape="poly" title=" " alt="" coords="415,227,533,270,531,275,413,232"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#abe2d32ad7dc54c815eeef0147cadd19c" title=" " alt="" coords="500,406,722,450"/>
<area shape="poly" title=" " alt="" coords="378,228,498,333,572,394,568,398,494,337,374,232"/>
<area shape="poly" title=" " alt="" coords="563,184,561,174,570,165,586,160,611,158,639,160,655,167,653,172,637,166,611,163,587,165,573,170,567,176,568,183"/>
<area shape="poly" title=" " alt="" coords="563,278,561,268,570,259,586,253,611,251,639,254,655,260,653,265,637,259,611,256,587,258,573,263,567,269,568,277"/>
<area shape="rect" href="../../da/df2/hash__test_8cc.html#a652881b3f38b0f0b3eee76a28123bbfe" title=" " alt="" coords="812,202,918,230"/>
<area shape="poly" title=" " alt="" coords="672,275,773,239,797,232,799,237,775,244,673,280"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ac2401ce56f14af0be3150d7296bcf98d" title=" " alt="" coords="774,278,956,322"/>
<area shape="poly" title=" " alt="" coords="702,298,759,298,759,303,702,303"/>
<area shape="poly" title=" " alt="" coords="821,278,820,268,827,259,842,253,865,251,890,254,905,260,902,265,888,259,865,256,844,258,830,263,825,269,826,277"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a5230d45b66475f5e342a7654313d4c0e" title=" " alt="" coords="1004,184,1185,229"/>
<area shape="poly" title=" " alt="" coords="918,275,1003,239,1018,233,1020,238,1005,244,920,280"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a1ee61ccaec6d6508e02d9a522b678c23" title=" " alt="" coords="1004,278,1185,322"/>
<area shape="poly" title=" " alt="" coords="956,298,988,298,988,303,956,303"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a47c51c16ecee27b619768f1b817a342c" title=" " alt="" coords="1004,347,1185,392"/>
<area shape="poly" title=" " alt="" coords="942,321,1005,340,1003,345,940,326"/>
<area shape="poly" title=" " alt="" coords="1050,278,1049,268,1057,259,1072,253,1094,251,1119,254,1134,260,1132,265,1118,259,1094,256,1073,258,1060,263,1054,269,1056,277"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a72d032702eba496e02848f85b0132faf" title=" " alt="" coords="1233,278,1414,322"/>
<area shape="poly" title=" " alt="" coords="1185,298,1218,298,1218,303,1185,303"/>
<area shape="poly" title=" " alt="" coords="1280,278,1279,268,1286,259,1301,253,1324,251,1349,254,1363,260,1361,265,1347,259,1324,256,1302,258,1289,263,1284,269,1285,277"/>
<area shape="poly" title=" " alt="" coords="563,406,561,396,570,387,586,381,611,379,639,382,655,388,653,393,637,387,611,384,587,386,573,391,567,397,568,405"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a57aed585dd42d02ad7dffe335e1e0163" title=" " alt="" coords="774,347,956,408"/>
<area shape="poly" title=" " alt="" coords="722,403,758,396,759,401,723,409"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#afefb2efa468a5cb6fb862c222e5d23d1" title=" " alt="" coords="774,432,956,494"/>
<area shape="poly" title=" " alt="" coords="723,441,759,446,758,451,722,446"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a1973210402d3f2129c817aa8ff3d04a7" title=" " alt="" coords="774,518,956,562"/>
<area shape="poly" title=" " alt="" coords="659,449,775,503,790,509,788,514,773,508,657,454"/>
</map>
</div>

</div>
</div>
<a id="aff3faa7f56e3f52ddc2e69d5cadf189e" name="aff3faa7f56e3f52ddc2e69d5cadf189e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff3faa7f56e3f52ddc2e69d5cadf189e">&#9670;&#160;</a></span>UnLock() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::PointLockManager::UnLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ColumnFamilyId</a></td>          <td class="paramname"><span class="paramname"><em>column_family_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a6577976d48ccfa1570fa4145fa51719c">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00578">578</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  580</span>                                                              {</div>
<div class="line"><span class="lineno">  581</span>  std::shared_ptr&lt;LockMap&gt; lock_map_ptr = <a class="code hl_function" href="#a3320a818e6b02402c36d6bf616aae8be">GetLockMap</a>(column_family_id);</div>
<div class="line"><span class="lineno">  582</span>  LockMap* lock_map = lock_map_ptr.get();</div>
<div class="line"><span class="lineno">  583</span>  <span class="keywordflow">if</span> (lock_map == <span class="keyword">nullptr</span>) {</div>
<div class="line"><span class="lineno">  584</span>    <span class="comment">// Column Family must have been dropped.</span></div>
<div class="line"><span class="lineno">  585</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  586</span>  }</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>  <span class="comment">// Lock the mutex for the stripe that this key hashes to</span></div>
<div class="line"><span class="lineno">  589</span>  <span class="keywordtype">size_t</span> stripe_num = lock_map-&gt;GetStripe(key);</div>
<div class="line"><span class="lineno">  590</span>  assert(lock_map-&gt;lock_map_stripes_.size() &gt; stripe_num);</div>
<div class="line"><span class="lineno">  591</span>  LockMapStripe* stripe = lock_map-&gt;lock_map_stripes_.at(stripe_num);</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>  stripe-&gt;stripe_mutex-&gt;Lock().PermitUncheckedError();</div>
<div class="line"><span class="lineno">  594</span>  <a class="code hl_function" href="#abe2d32ad7dc54c815eeef0147cadd19c">UnLockKey</a>(txn, key, stripe, lock_map, env);</div>
<div class="line"><span class="lineno">  595</span>  stripe-&gt;stripe_mutex-&gt;UnLock();</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>  <span class="comment">// Signal waiting threads to retry locking</span></div>
<div class="line"><span class="lineno">  598</span>  stripe-&gt;stripe_cv-&gt;NotifyAll();</div>
<div class="line"><span class="lineno">  599</span>}</div>
<div class="ttc" id="aclassROCKSDB__NAMESPACE_1_1PointLockManager_html_abe2d32ad7dc54c815eeef0147cadd19c"><div class="ttname"><a href="#abe2d32ad7dc54c815eeef0147cadd19c">ROCKSDB_NAMESPACE::PointLockManager::UnLockKey</a></div><div class="ttdeci">void UnLockKey(PessimisticTransaction *txn, const std::string &amp;key, LockMapStripe *stripe, LockMap *lock_map, Env *env)</div><div class="ttdef"><b>Definition</b> <a href="../../d4/d3c/point__lock__manager_8cc_source.html#l00540">point_lock_manager.cc:540</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aff3faa7f56e3f52ddc2e69d5cadf189e_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aff3faa7f56e3f52ddc2e69d5cadf189e_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aff3faa7f56e3f52ddc2e69d5cadf189e_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_aff3faa7f56e3f52ddc2e69d5cadf189e_cgraph">
<area shape="rect" title=" " alt="" coords="5,164,203,209"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a3320a818e6b02402c36d6bf616aae8be" title=" " alt="" coords="496,35,726,79"/>
<area shape="poly" title=" " alt="" coords="180,161,250,141,494,81,495,86,251,146,182,166"/>
<area shape="rect" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html#ae754caac0e50f9cab80362234eccb7d5" title=" " alt="" coords="520,128,702,173"/>
<area shape="poly" title=" " alt="" coords="203,171,250,166,505,151,505,157,251,172,203,176"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a80b9ee75b80b58ee748c21181bf2bae2" title=" " alt="" coords="251,205,448,250"/>
<area shape="poly" title=" " alt="" coords="203,200,236,206,235,211,203,206"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#abe2d32ad7dc54c815eeef0147cadd19c" title=" " alt="" coords="500,376,722,421"/>
<area shape="poly" title=" " alt="" coords="147,207,252,260,398,320,529,368,527,373,396,325,250,265,145,212"/>
<area shape="poly" title=" " alt="" coords="563,35,561,24,570,16,586,10,611,8,639,11,655,17,653,22,637,16,611,13,587,15,573,20,567,26,568,34"/>
<area shape="poly" title=" " alt="" coords="563,128,561,118,570,109,586,103,611,101,639,104,655,110,653,115,637,109,611,107,587,109,573,113,567,119,568,127"/>
<area shape="rect" href="../../da/df2/hash__test_8cc.html#a652881b3f38b0f0b3eee76a28123bbfe" title=" " alt="" coords="812,167,918,195"/>
<area shape="poly" title=" " alt="" coords="703,159,797,170,797,175,702,164"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ac2401ce56f14af0be3150d7296bcf98d" title=" " alt="" coords="774,99,956,143"/>
<area shape="poly" title=" " alt="" coords="702,137,759,131,759,136,703,142"/>
<area shape="poly" title=" " alt="" coords="821,99,820,89,827,80,842,74,865,72,890,75,905,81,902,86,888,80,865,77,844,79,830,84,825,90,826,98"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a5230d45b66475f5e342a7654313d4c0e" title=" " alt="" coords="1004,5,1185,50"/>
<area shape="poly" title=" " alt="" coords="918,96,1003,60,1018,54,1020,59,1005,65,920,100"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a1ee61ccaec6d6508e02d9a522b678c23" title=" " alt="" coords="1004,99,1185,143"/>
<area shape="poly" title=" " alt="" coords="956,118,988,118,988,124,956,124"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a47c51c16ecee27b619768f1b817a342c" title=" " alt="" coords="1004,168,1185,213"/>
<area shape="poly" title=" " alt="" coords="942,141,1005,160,1003,166,940,146"/>
<area shape="poly" title=" " alt="" coords="1050,99,1049,89,1057,80,1072,74,1094,72,1119,75,1134,81,1132,86,1118,80,1094,77,1073,79,1060,84,1054,90,1056,98"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a72d032702eba496e02848f85b0132faf" title=" " alt="" coords="1233,99,1414,143"/>
<area shape="poly" title=" " alt="" coords="1185,118,1218,118,1218,124,1185,124"/>
<area shape="poly" title=" " alt="" coords="1280,99,1279,89,1286,80,1301,74,1324,72,1349,75,1363,81,1361,86,1347,80,1324,77,1302,79,1289,84,1284,90,1285,98"/>
<area shape="poly" title=" " alt="" coords="367,203,420,147,456,116,495,89,506,84,508,88,497,94,459,120,424,150,371,207"/>
<area shape="poly" title=" " alt="" coords="427,202,518,175,520,180,428,207"/>
<area shape="poly" title=" " alt="" coords="303,205,301,195,309,186,325,181,349,179,376,181,392,188,390,193,375,186,349,184,326,186,312,191,306,197,308,204"/>
<area shape="rect" href="../../d9/da3/classROCKSDB__NAMESPACE_1_1LockTracker.html#af6a418dfb37bcec928a43d3644e61bfc" title=" " alt="" coords="500,266,723,328"/>
<area shape="poly" title=" " alt="" coords="437,248,485,261,484,266,436,253"/>
<area shape="rect" href="../../d9/da3/classROCKSDB__NAMESPACE_1_1LockTracker.html#a31e7005f77b70f58f2449f7343608afa" title=" " alt="" coords="510,197,712,242"/>
<area shape="poly" title=" " alt="" coords="449,222,495,221,495,226,449,227"/>
<area shape="poly" title=" " alt="" coords="379,248,432,291,497,337,549,366,546,371,495,342,429,296,375,252"/>
<area shape="poly" title=" " alt="" coords="563,376,561,366,570,357,586,351,611,349,639,352,655,358,653,363,637,357,611,355,587,357,573,361,567,367,568,375"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a57aed585dd42d02ad7dffe335e1e0163" title=" " alt="" coords="774,282,956,344"/>
<area shape="poly" title=" " alt="" coords="679,373,759,346,760,351,681,378"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#afefb2efa468a5cb6fb862c222e5d23d1" title=" " alt="" coords="774,368,956,429"/>
<area shape="poly" title=" " alt="" coords="722,396,759,396,759,401,722,401"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a1973210402d3f2129c817aa8ff3d04a7" title=" " alt="" coords="774,453,956,498"/>
<area shape="poly" title=" " alt="" coords="688,419,775,446,774,451,686,424"/>
</map>
</div>

</div>
</div>
<a id="a80b9ee75b80b58ee748c21181bf2bae2" name="a80b9ee75b80b58ee748c21181bf2bae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80b9ee75b80b58ee748c21181bf2bae2">&#9670;&#160;</a></span>UnLock() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::PointLockManager::UnLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/da3/classROCKSDB__NAMESPACE_1_1LockTracker.html">LockTracker</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tracker</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel override">override</span><span class="mlabel virtual">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="../../d4/dec/classROCKSDB__NAMESPACE_1_1LockManager.html#a8655fedb091588a04741f40f25bcb246">ROCKSDB_NAMESPACE::LockManager</a>를 구현.</p>

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00601">601</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  602</span>                                                                    {</div>
<div class="line"><span class="lineno">  603</span>  std::unique_ptr&lt;LockTracker::ColumnFamilyIterator&gt; cf_it(</div>
<div class="line"><span class="lineno">  604</span>      tracker.GetColumnFamilyIterator());</div>
<div class="line"><span class="lineno">  605</span>  assert(cf_it != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  606</span>  <span class="keywordflow">while</span> (cf_it-&gt;HasNext()) {</div>
<div class="line"><span class="lineno">  607</span>    <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ColumnFamilyId</a> cf = cf_it-&gt;Next();</div>
<div class="line"><span class="lineno">  608</span>    std::shared_ptr&lt;LockMap&gt; lock_map_ptr = <a class="code hl_function" href="#a3320a818e6b02402c36d6bf616aae8be">GetLockMap</a>(cf);</div>
<div class="line"><span class="lineno">  609</span>    LockMap* lock_map = lock_map_ptr.get();</div>
<div class="line"><span class="lineno">  610</span>    <span class="keywordflow">if</span> (!lock_map) {</div>
<div class="line"><span class="lineno">  611</span>      <span class="comment">// Column Family must have been dropped.</span></div>
<div class="line"><span class="lineno">  612</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  613</span>    }</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>    <span class="comment">// Bucket keys by lock_map_ stripe</span></div>
<div class="line"><span class="lineno">  616</span>    UnorderedMap&lt;size_t, std::vector&lt;const std::string*&gt;&gt; keys_by_stripe(</div>
<div class="line"><span class="lineno">  617</span>        lock_map-&gt;num_stripes_);</div>
<div class="line"><span class="lineno">  618</span>    std::unique_ptr&lt;LockTracker::KeyIterator&gt; key_it(</div>
<div class="line"><span class="lineno">  619</span>        tracker.GetKeyIterator(cf));</div>
<div class="line"><span class="lineno">  620</span>    assert(key_it != <span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  621</span>    <span class="keywordflow">while</span> (key_it-&gt;HasNext()) {</div>
<div class="line"><span class="lineno">  622</span>      <span class="keyword">const</span> std::string&amp; key = key_it-&gt;Next();</div>
<div class="line"><span class="lineno">  623</span>      <span class="keywordtype">size_t</span> stripe_num = lock_map-&gt;GetStripe(key);</div>
<div class="line"><span class="lineno">  624</span>      keys_by_stripe[stripe_num].push_back(&amp;key);</div>
<div class="line"><span class="lineno">  625</span>    }</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>    <span class="comment">// For each stripe, grab the stripe mutex and unlock all keys in this stripe</span></div>
<div class="line"><span class="lineno">  628</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; stripe_iter : keys_by_stripe) {</div>
<div class="line"><span class="lineno">  629</span>      <span class="keywordtype">size_t</span> stripe_num = stripe_iter.first;</div>
<div class="line"><span class="lineno">  630</span>      <span class="keyword">auto</span>&amp; stripe_keys = stripe_iter.second;</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>      assert(lock_map-&gt;lock_map_stripes_.size() &gt; stripe_num);</div>
<div class="line"><span class="lineno">  633</span>      LockMapStripe* stripe = lock_map-&gt;lock_map_stripes_.at(stripe_num);</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>      stripe-&gt;stripe_mutex-&gt;Lock().PermitUncheckedError();</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>      <span class="keywordflow">for</span> (<span class="keyword">const</span> std::string* key : stripe_keys) {</div>
<div class="line"><span class="lineno">  638</span>        <a class="code hl_function" href="#abe2d32ad7dc54c815eeef0147cadd19c">UnLockKey</a>(txn, *key, stripe, lock_map, env);</div>
<div class="line"><span class="lineno">  639</span>      }</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>      stripe-&gt;stripe_mutex-&gt;UnLock();</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>      <span class="comment">// Signal waiting threads to retry locking</span></div>
<div class="line"><span class="lineno">  644</span>      stripe-&gt;stripe_cv-&gt;NotifyAll();</div>
<div class="line"><span class="lineno">  645</span>    }</div>
<div class="line"><span class="lineno">  646</span>  }</div>
<div class="line"><span class="lineno">  647</span>}</div>
<div class="ttc" id="anamespaceROCKSDB__NAMESPACE_html_a8a39a75cbd2dd36afa8c75d6fc169606"><div class="ttname"><a href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a8a39a75cbd2dd36afa8c75d6fc169606">ROCKSDB_NAMESPACE::ColumnFamilyId</a></div><div class="ttdeci">uint32_t ColumnFamilyId</div><div class="ttdef"><b>Definition</b> <a href="../../d9/d49/types_8h_source.html#l00019">types.h:19</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a80b9ee75b80b58ee748c21181bf2bae2_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a80b9ee75b80b58ee748c21181bf2bae2_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a80b9ee75b80b58ee748c21181bf2bae2_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a80b9ee75b80b58ee748c21181bf2bae2_cgraph">
<area shape="rect" title=" " alt="" coords="5,184,203,229"/>
<area shape="poly" title=" " alt="" coords="54,184,53,174,61,165,78,160,104,158,132,160,149,167,147,172,131,166,104,163,79,165,64,170,58,176,60,183"/>
<area shape="rect" href="../../d9/da3/classROCKSDB__NAMESPACE_1_1LockTracker.html#af6a418dfb37bcec928a43d3644e61bfc" title=" " alt="" coords="254,5,478,67"/>
<area shape="poly" title=" " alt="" coords="124,182,178,130,212,102,249,77,257,72,260,77,252,81,216,106,181,134,128,186"/>
<area shape="rect" href="../../d9/da3/classROCKSDB__NAMESPACE_1_1LockTracker.html#a31e7005f77b70f58f2449f7343608afa" title=" " alt="" coords="265,91,466,136"/>
<area shape="poly" title=" " alt="" coords="158,181,250,146,271,139,272,144,252,151,160,186"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a3320a818e6b02402c36d6bf616aae8be" title=" " alt="" coords="251,184,481,229"/>
<area shape="poly" title=" " alt="" coords="203,204,235,204,235,210,203,210"/>
<area shape="rect" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html#ae754caac0e50f9cab80362234eccb7d5" title=" " alt="" coords="275,278,456,322"/>
<area shape="poly" title=" " alt="" coords="170,227,288,270,286,275,168,232"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#abe2d32ad7dc54c815eeef0147cadd19c" title=" " alt="" coords="255,406,476,450"/>
<area shape="poly" title=" " alt="" coords="133,228,252,333,326,394,323,398,249,337,129,232"/>
<area shape="poly" title=" " alt="" coords="318,184,316,174,324,165,341,160,366,158,393,160,409,167,407,172,392,166,366,163,342,165,327,170,321,176,323,183"/>
<area shape="poly" title=" " alt="" coords="318,278,316,268,324,259,341,253,366,251,393,254,409,260,407,265,392,259,366,256,342,258,327,263,321,269,323,277"/>
<area shape="rect" href="../../da/df2/hash__test_8cc.html#a652881b3f38b0f0b3eee76a28123bbfe" title=" " alt="" coords="567,202,672,230"/>
<area shape="poly" title=" " alt="" coords="426,275,528,239,552,232,553,237,530,244,428,280"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#ac2401ce56f14af0be3150d7296bcf98d" title=" " alt="" coords="529,278,710,322"/>
<area shape="poly" title=" " alt="" coords="457,298,514,298,514,303,457,303"/>
<area shape="poly" title=" " alt="" coords="576,278,575,268,582,259,597,253,620,251,645,254,659,260,657,265,643,259,620,256,598,258,585,263,580,269,581,277"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a5230d45b66475f5e342a7654313d4c0e" title=" " alt="" coords="758,184,940,229"/>
<area shape="poly" title=" " alt="" coords="673,275,757,239,773,233,775,238,759,244,675,280"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a1ee61ccaec6d6508e02d9a522b678c23" title=" " alt="" coords="758,278,940,322"/>
<area shape="poly" title=" " alt="" coords="711,298,743,298,743,303,711,303"/>
<area shape="rect" href="../../de/dc6/classROCKSDB__NAMESPACE_1_1Slice.html#a47c51c16ecee27b619768f1b817a342c" title=" " alt="" coords="758,347,940,392"/>
<area shape="poly" title=" " alt="" coords="697,321,759,340,758,345,695,326"/>
<area shape="poly" title=" " alt="" coords="805,278,804,268,811,259,826,253,849,251,874,254,889,260,886,265,872,259,849,256,828,258,814,263,809,269,810,277"/>
<area shape="rect" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a72d032702eba496e02848f85b0132faf" title=" " alt="" coords="988,278,1169,322"/>
<area shape="poly" title=" " alt="" coords="940,298,972,298,972,303,940,303"/>
<area shape="poly" title=" " alt="" coords="1034,278,1033,268,1041,259,1056,253,1078,251,1103,254,1118,260,1116,265,1102,259,1078,256,1057,258,1044,263,1038,269,1040,277"/>
<area shape="poly" title=" " alt="" coords="318,406,316,396,324,387,341,381,366,379,393,382,409,388,407,393,392,387,366,384,342,386,327,391,321,397,323,405"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a57aed585dd42d02ad7dffe335e1e0163" title=" " alt="" coords="529,347,710,408"/>
<area shape="poly" title=" " alt="" coords="476,403,513,396,514,401,477,409"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#afefb2efa468a5cb6fb862c222e5d23d1" title=" " alt="" coords="529,432,710,494"/>
<area shape="poly" title=" " alt="" coords="477,441,514,446,513,451,477,446"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a1973210402d3f2129c817aa8ff3d04a7" title=" " alt="" coords="529,518,710,562"/>
<area shape="poly" title=" " alt="" coords="414,449,530,503,545,509,543,514,528,508,412,454"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a80b9ee75b80b58ee748c21181bf2bae2_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a80b9ee75b80b58ee748c21181bf2bae2_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a80b9ee75b80b58ee748c21181bf2bae2_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_a80b9ee75b80b58ee748c21181bf2bae2_icgraph">
<area shape="rect" title=" " alt="" coords="251,40,448,85"/>
<area shape="poly" title=" " alt="" coords="390,27,375,21,349,19,326,21,312,25,306,31,308,39,303,40,301,30,309,21,325,15,349,13,376,16,392,22"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#ae8aabc11ad71baeb5dd6d939fc52f057" title=" " alt="" coords="5,5,203,50"/>
<area shape="poly" title=" " alt="" coords="235,49,203,44,204,39,236,44"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#aff3faa7f56e3f52ddc2e69d5cadf189e" title=" " alt="" coords="5,75,203,119"/>
<area shape="poly" title=" " alt="" coords="236,81,204,86,203,80,235,76"/>
</map>
</div>

</div>
</div>
<a id="abe2d32ad7dc54c815eeef0147cadd19c" name="abe2d32ad7dc54c815eeef0147cadd19c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe2d32ad7dc54c815eeef0147cadd19c">&#9670;&#160;</a></span>UnLockKey()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ROCKSDB_NAMESPACE::PointLockManager::UnLockKey </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html">PessimisticTransaction</a> *</td>          <td class="paramname"><span class="paramname"><em>txn</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d2f/structROCKSDB__NAMESPACE_1_1LockMapStripe.html">LockMapStripe</a> *</td>          <td class="paramname"><span class="paramname"><em>stripe</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d33/structROCKSDB__NAMESPACE_1_1LockMap.html">LockMap</a> *</td>          <td class="paramname"><span class="paramname"><em>lock_map</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html">Env</a> *</td>          <td class="paramname"><span class="paramname"><em>env</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a> 파일의 <a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html#l00540">540</a> 번째 라인에서 정의되었습니다.</p>
<div class="fragment"><div class="line"><span class="lineno">  542</span>                                                              {</div>
<div class="line"><span class="lineno">  543</span><span class="preprocessor">#ifdef NDEBUG</span></div>
<div class="line"><span class="lineno">  544</span>  (void)env;</div>
<div class="line"><span class="lineno">  545</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  546</span>  <a class="code hl_typedef" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a> txn_id = txn-&gt;GetID();</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>  <span class="keyword">auto</span> stripe_iter = stripe-&gt;keys.find(key);</div>
<div class="line"><span class="lineno">  549</span>  <span class="keywordflow">if</span> (stripe_iter != stripe-&gt;keys.end()) {</div>
<div class="line"><span class="lineno">  550</span>    <span class="keyword">auto</span>&amp; txns = stripe_iter-&gt;second.txn_ids;</div>
<div class="line"><span class="lineno">  551</span>    <span class="keyword">auto</span> txn_it = std::find(txns.begin(), txns.end(), txn_id);</div>
<div class="line"><span class="lineno">  552</span>    <span class="comment">// Found the key we locked.  unlock it.</span></div>
<div class="line"><span class="lineno">  553</span>    <span class="keywordflow">if</span> (txn_it != txns.end()) {</div>
<div class="line"><span class="lineno">  554</span>      <span class="keywordflow">if</span> (txns.size() == 1) {</div>
<div class="line"><span class="lineno">  555</span>        stripe-&gt;keys.erase(stripe_iter);</div>
<div class="line"><span class="lineno">  556</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  557</span>        <span class="keyword">auto</span> last_it = txns.end() - 1;</div>
<div class="line"><span class="lineno">  558</span>        <span class="keywordflow">if</span> (txn_it != last_it) {</div>
<div class="line"><span class="lineno">  559</span>          *txn_it = *last_it;</div>
<div class="line"><span class="lineno">  560</span>        }</div>
<div class="line"><span class="lineno">  561</span>        txns.pop_back();</div>
<div class="line"><span class="lineno">  562</span>      }</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>      <span class="keywordflow">if</span> (max_num_locks_ &gt; 0) {</div>
<div class="line"><span class="lineno">  565</span>        <span class="comment">// Maintain lock count if there is a limit on the number of locks.</span></div>
<div class="line"><span class="lineno">  566</span>        assert(lock_map-&gt;lock_cnt.load(std::memory_order_relaxed) &gt; 0);</div>
<div class="line"><span class="lineno">  567</span>        lock_map-&gt;lock_cnt--;</div>
<div class="line"><span class="lineno">  568</span>      }</div>
<div class="line"><span class="lineno">  569</span>    }</div>
<div class="line"><span class="lineno">  570</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  571</span>    <span class="comment">// This key is either not locked or locked by someone else.  This should</span></div>
<div class="line"><span class="lineno">  572</span>    <span class="comment">// only happen if the unlocking transaction has expired.</span></div>
<div class="line"><span class="lineno">  573</span>    assert(txn-&gt;GetExpirationTime() &gt; 0 &amp;&amp;</div>
<div class="line"><span class="lineno">  574</span>           txn-&gt;GetExpirationTime() &lt; env-&gt;NowMicros());</div>
<div class="line"><span class="lineno">  575</span>  }</div>
<div class="line"><span class="lineno">  576</span>}</div>
<div class="ttc" id="anamespaceROCKSDB__NAMESPACE_html_af1e7b19ce959b3557413f62fda884cda"><div class="ttname"><a href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">ROCKSDB_NAMESPACE::TransactionID</a></div><div class="ttdeci">uint64_t TransactionID</div><div class="ttdef"><b>Definition</b> <a href="../../d0/db6/transaction_8h_source.html#l00024">transaction.h:24</a></div></div>
</div><!-- fragment --><div class="dynheader">
이 함수 내부에서 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_abe2d32ad7dc54c815eeef0147cadd19c_cgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_abe2d32ad7dc54c815eeef0147cadd19c_cgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_abe2d32ad7dc54c815eeef0147cadd19c_cgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_abe2d32ad7dc54c815eeef0147cadd19c_cgraph">
<area shape="rect" title=" " alt="" coords="5,99,227,144"/>
<area shape="poly" title=" " alt="" coords="69,99,67,89,75,80,92,74,116,73,143,75,159,82,157,86,142,80,116,78,93,80,78,85,72,91,74,98"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#a57aed585dd42d02ad7dffe335e1e0163" title=" " alt="" coords="275,5,456,67"/>
<area shape="poly" title=" " alt="" coords="183,96,259,70,261,75,184,101"/>
<area shape="rect" href="../../d8/daf/classROCKSDB__NAMESPACE_1_1PessimisticTransaction.html#afefb2efa468a5cb6fb862c222e5d23d1" title=" " alt="" coords="275,91,456,152"/>
<area shape="poly" title=" " alt="" coords="227,119,259,119,259,124,227,124"/>
<area shape="rect" href="../../df/d9b/classROCKSDB__NAMESPACE_1_1Env.html#a1973210402d3f2129c817aa8ff3d04a7" title=" " alt="" coords="275,176,456,221"/>
<area shape="poly" title=" " alt="" coords="191,142,277,169,276,174,190,147"/>
</map>
</div>
<div class="dynheader">
이 함수를 호출하는 함수들에 대한 그래프입니다.:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_abe2d32ad7dc54c815eeef0147cadd19c_icgraph.png" border="0" usemap="#ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_abe2d32ad7dc54c815eeef0147cadd19c_icgraph" alt=""/></div>
<map name="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_abe2d32ad7dc54c815eeef0147cadd19c_icgraph" id="ade/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager_abe2d32ad7dc54c815eeef0147cadd19c_icgraph">
<area shape="rect" title=" " alt="" coords="496,40,717,85"/>
<area shape="poly" title=" " alt="" coords="649,27,633,21,607,19,583,21,567,25,561,31,563,39,558,40,556,30,565,21,581,15,607,13,634,16,651,22"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#aff3faa7f56e3f52ddc2e69d5cadf189e" title=" " alt="" coords="5,5,203,50"/>
<area shape="poly" title=" " alt="" coords="480,51,448,48,203,34,203,28,448,42,481,45"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#a80b9ee75b80b58ee748c21181bf2bae2" title=" " alt="" coords="251,81,448,126"/>
<area shape="poly" title=" " alt="" coords="481,85,449,90,448,85,480,80"/>
<area shape="poly" title=" " alt="" coords="260,79,178,53,179,48,262,74"/>
<area shape="poly" title=" " alt="" coords="390,69,375,62,349,60,326,62,312,67,306,73,308,80,303,81,301,71,309,62,325,57,349,55,376,57,392,64"/>
<area shape="rect" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html#ae8aabc11ad71baeb5dd6d939fc52f057" title=" " alt="" coords="5,81,203,126"/>
<area shape="poly" title=" " alt="" coords="235,106,203,106,203,101,235,101"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">멤버 데이터 문서화</h2>
<a id="acd757165471e014a1416071a4e76b8b5" name="acd757165471e014a1416071a4e76b8b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd757165471e014a1416071a4e76b8b5">&#9670;&#160;</a></span>default_num_stripes_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t ROCKSDB_NAMESPACE::PointLockManager::default_num_stripes_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00160">160</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="acd4d23a079da225379ff4bba82157417" name="acd4d23a079da225379ff4bba82157417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd4d23a079da225379ff4bba82157417">&#9670;&#160;</a></span>dlock_buffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#a420cbe02f7aea169c8eff317724531e1">DeadlockInfoBuffer</a> ROCKSDB_NAMESPACE::PointLockManager::dlock_buffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00189">189</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a5a9d0be20cf40f0041f3286bd600498f" name="a5a9d0be20cf40f0041f3286bd600498f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a9d0be20cf40f0041f3286bd600498f">&#9670;&#160;</a></span>lock_map_mutex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d7b/classROCKSDB__NAMESPACE_1_1InstrumentedMutex.html">InstrumentedMutex</a> ROCKSDB_NAMESPACE::PointLockManager::lock_map_mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00172">172</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ae8974e88ce228b22b49d7efabb47466f" name="ae8974e88ce228b22b49d7efabb47466f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8974e88ce228b22b49d7efabb47466f">&#9670;&#160;</a></span>lock_maps_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#ade3fdaef5de044ce8e05ba694c687871">LockMaps</a> ROCKSDB_NAMESPACE::PointLockManager::lock_maps_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00176">176</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a94d91a6a47b97e54497033ff95014872" name="a94d91a6a47b97e54497033ff95014872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94d91a6a47b97e54497033ff95014872">&#9670;&#160;</a></span>lock_maps_cache_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d9/da5/classROCKSDB__NAMESPACE_1_1ThreadLocalPtr.html">ThreadLocalPtr</a>&gt; ROCKSDB_NAMESPACE::PointLockManager::lock_maps_cache_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00180">180</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a4b71d946f5b703a2bf1a11ba3cd9e26f" name="a4b71d946f5b703a2bf1a11ba3cd9e26f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b71d946f5b703a2bf1a11ba3cd9e26f">&#9670;&#160;</a></span>max_num_locks_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int64_t ROCKSDB_NAMESPACE::PointLockManager::max_num_locks_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00163">163</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a62b8d6fd35913d396be4b1d86be97b52" name="a62b8d6fd35913d396be4b1d86be97b52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b8d6fd35913d396be4b1d86be97b52">&#9670;&#160;</a></span>mutex_factory_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../d5/dea/classROCKSDB__NAMESPACE_1_1TransactionDBMutexFactory.html">TransactionDBMutexFactory</a>&gt; ROCKSDB_NAMESPACE::PointLockManager::mutex_factory_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00192">192</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="aa91993e3d2094374159e2a184b49f529" name="aa91993e3d2094374159e2a184b49f529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa91993e3d2094374159e2a184b49f529">&#9670;&#160;</a></span>rev_wait_txn_map_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html">HashMap</a>&lt;<a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a>, int&gt; ROCKSDB_NAMESPACE::PointLockManager::rev_wait_txn_map_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00186">186</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a18c55faf1b60221439648091d7d4d6e8" name="a18c55faf1b60221439648091d7d4d6e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18c55faf1b60221439648091d7d4d6e8">&#9670;&#160;</a></span>txn_db_impl_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d58/classROCKSDB__NAMESPACE_1_1PessimisticTransactionDB.html">PessimisticTransactionDB</a>* ROCKSDB_NAMESPACE::PointLockManager::txn_db_impl_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00157">157</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="a4b72146e99c2e4171abbb9dd31ca53f1" name="a4b72146e99c2e4171abbb9dd31ca53f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b72146e99c2e4171abbb9dd31ca53f1">&#9670;&#160;</a></span>wait_txn_map_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/d5e/classROCKSDB__NAMESPACE_1_1HashMap.html">HashMap</a>&lt;<a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html#af1e7b19ce959b3557413f62fda884cda">TransactionID</a>, <a class="el" href="../../d7/db8/structROCKSDB__NAMESPACE_1_1TrackedTrxInfo.html">TrackedTrxInfo</a>&gt; ROCKSDB_NAMESPACE::PointLockManager::wait_txn_map_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00188">188</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<a id="ad65791e463a52ac3d4e10486c2eff95f" name="ad65791e463a52ac3d4e10486c2eff95f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad65791e463a52ac3d4e10486c2eff95f">&#9670;&#160;</a></span>wait_txn_map_mutex_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex ROCKSDB_NAMESPACE::PointLockManager::wait_txn_map_mutex_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition"><a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a> 파일의 <a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html#l00183">183</a> 번째 라인에서 정의되었습니다.</p>

</div>
</div>
<hr/>이 클래스에 대한 문서화 페이지는 다음의 파일들로부터 생성되었습니다.:<ul>
<li>utilities/transactions/lock/point/<a class="el" href="../../d3/dd3/point__lock__manager_8h_source.html">point_lock_manager.h</a></li>
<li>utilities/transactions/lock/point/<a class="el" href="../../d4/d3c/point__lock__manager_8cc_source.html">point_lock_manager.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/d23/namespaceROCKSDB__NAMESPACE.html">ROCKSDB_NAMESPACE</a></li><li class="navelem"><a class="el" href="../../de/dd3/classROCKSDB__NAMESPACE_1_1PointLockManager.html">PointLockManager</a></li>
    <li class="footer">다음에 의해 생성됨 :  <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
